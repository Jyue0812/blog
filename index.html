<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>ZY</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="ZY">
<meta property="og:url" content="https://jyue0812.github.io/index.html">
<meta property="og:site_name" content="ZY">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ZY">
  
    <link rel="alternate" href="/blog/atom.xml" title="ZY" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/blog/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">ZY</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://jyue0812.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-MySQL第二课" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/05/14/MySQL第二课/" class="article-date">
  <time datetime="2018-05-14T09:31:46.298Z" itemprop="datePublished">2018-05-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Lesson-2"><a href="#Lesson-2" class="headerlink" title="Lesson_2"></a>Lesson_2</h1><h2 id="MySql-2"><a href="#MySql-2" class="headerlink" title="MySql-2"></a>MySql-2</h2><h3 id="1-1字符集"><a href="#1-1字符集" class="headerlink" title="1.1字符集"></a>1.1字符集</h3><p>字符集：可见字符在保存和传输的时候对应的二进制代码集合。</p>
<p>字符集在两个地方用到</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.保存数据</span><br><span class="line">2.数据传输</span><br></pre></td></tr></table></figure>
<h3 id="1-2在存续时使用字符集"><a href="#1-2在存续时使用字符集" class="headerlink" title="1.2在存续时使用字符集"></a>1.2在存续时使用字符集</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1、MySQL可以在服务器上、数据库、表、字段上指定字符编码</span><br><span class="line">2、在服务器上指定字符编码是安装服务器的时候指定的</span><br><span class="line">3、数据库、表、字段上是创建时候指定的</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">create table test(</span><br><span class="line">-&gt; name varchar(10) charset utf8</span><br><span class="line">-&gt;)charset=gbk;</span><br></pre></td></tr></table></figure>
<h3 id="1-3-gbk-gb2312-utf8的区别"><a href="#1-3-gbk-gb2312-utf8的区别" class="headerlink" title="1.3  gbk,gb2312,utf8的区别"></a>1.3  gbk,gb2312,utf8的区别</h3><p>这三种都是常用的字符编码方式，gbk和gb2312(自带)是简体中文的编码，utf8是国际通用编码。</p>
<p>Python、MySQL、jQuery等等都是开源的产品，开源产品建议使用utf8编码</p>
<p>gbk和gb2312都是简体中文，但是内部编码方式是不一样的。</p>
<p>在python中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">在gbk或gb2312下，一个中文占用2个字节</span><br><span class="line">在utf8下，一个中文占用3个字节</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">注意:在数据库中如果字符编码是utf8的，一个汉字字符长度就是<span class="number">1</span>，gbk一个汉字的字节长度是<span class="number">2</span>。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">create table `emp`(</span><br><span class="line">sex varchar(21844)</span><br><span class="line">)engine=myisam charset=utf8;</span><br><span class="line"></span><br><span class="line">65535/3-1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">create table `emp2`(</span><br><span class="line">sex varchar(32766)</span><br><span class="line">)engine=myisam charset=gbk;</span><br><span class="line"></span><br><span class="line">65535/2-1</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">数据库如果是UTF8,那么你在此库中建立的&apos;表&apos;如果没有设定字符集,默认使用数据库的字符集</span><br></pre></td></tr></table></figure>
<p> <img src="/blog/2018/05/14/MySQL第二课/图片1.png" alt="图片1"></p>
<h3 id="1-4-在传输的时候字符编码"><a href="#1-4-在传输的时候字符编码" class="headerlink" title="1.4 在传输的时候字符编码"></a>1.4 在传输的时候字符编码</h3><p> <img src="/blog/2018/05/14/MySQL第二课/图片2.png" alt="图片2"></p>
<p> <img src="/blog/2018/05/14/MySQL第二课/图片3.png" alt="图片3"></p>
<p>mysql服务器接受的编码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; show variables like &apos;character_%&apos;;</span><br><span class="line">+--------------------------+-----------------------------------------------+</span><br><span class="line">| Variable_name            | Value                                         |</span><br><span class="line">+--------------------------+-----------------------------------------------+</span><br><span class="line">| character_set_client     | utf8  #服务器接受客户端的字符码                 |</span><br><span class="line">| character_set_connection | utf8                                          |</span><br><span class="line">| character_set_database   | gbk                                           |</span><br><span class="line">| character_set_filesystem | binary                                        |</span><br><span class="line">| character_set_results    | utf8  #返回结果的字符编码                       |</span><br><span class="line">| character_set_server     | utf8                                          |</span><br><span class="line">| character_set_system     | utf8                                          |</span><br><span class="line">| character_sets_dir       | C:\phpStudy\PHPTutorial\MySQL\share\charsets\ |</span><br><span class="line">+--------------------------+-----------------------------------------------+</span><br><span class="line">8 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>
<p>现在客户端发送的编码和服务器接受的编码不一致</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">解决:</span><br><span class="line">#windows默认的是GBK</span><br><span class="line">set character_set_client=gbk;</span><br><span class="line"></span><br><span class="line">字符编码不一样返回的就不一样</span><br><span class="line">返回的是utf8   windows不认识会乱码</span><br><span class="line"></span><br><span class="line">解决:</span><br><span class="line">set character_set_results=gbk;</span><br><span class="line"></span><br><span class="line">小技巧:</span><br><span class="line">set names gbk; -&gt;set names 可以一次设置修改3个字符编码;</span><br><span class="line"></span><br><span class="line">mysql&gt; show variables like &apos;character_%&apos;;</span><br><span class="line">+--------------------------+-----------------------------------------------+</span><br><span class="line">| Variable_name            | Value                                         |</span><br><span class="line">+--------------------------+-----------------------------------------------+</span><br><span class="line">| character_set_client     | gbk                                           |</span><br><span class="line">| character_set_connection | gbk                                           |</span><br><span class="line">| character_set_database   | gbk                                           |</span><br><span class="line">| character_set_filesystem | binary                                        |</span><br><span class="line">| character_set_results    | gbk                                           |</span><br><span class="line">| character_set_server     | utf8                                          |</span><br><span class="line">| character_set_system     | utf8                                          |</span><br><span class="line">| character_sets_dir       | C:\phpStudy\PHPTutorial\MySQL\share\charsets\ |</span><br><span class="line">+--------------------------+-----------------------------------------------+</span><br><span class="line">8 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>
<h3 id="2校对集"><a href="#2校对集" class="headerlink" title="2校对集"></a>2校对集</h3><p>在某种字符集下，字符和字符的关系成为校对集。比如(ASCII)a和B的大小关系，如果区分大小写a&gt;B，如果不区分大小写a&lt;B</p>
<p>不同的校对集的比较规则不一样。</p>
<p>在定义表的时候可以指定校对集</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#utf8_general_ci  使用_ci这种校对集不区分大小写</span><br><span class="line">create table t1(</span><br><span class="line">name char(1)</span><br><span class="line">)charset=utf8 collate=utf8_general_ci;</span><br><span class="line"></span><br><span class="line">create table t2(</span><br><span class="line">name char(1)</span><br><span class="line">)charset=utf8 collate=utf8_bin;</span><br><span class="line"></span><br><span class="line">insert into t1 values (&apos;a&apos;),(&apos;B&apos;);</span><br><span class="line">insert into t2 values (&apos;a&apos;),(&apos;B&apos;);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from t1 order by name;</span><br><span class="line">+------+</span><br><span class="line">| name |</span><br><span class="line">+------+</span><br><span class="line">| a    |</span><br><span class="line">| B    |</span><br><span class="line">+------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">#排序查询以后没有区分大小写说明a和b不区分大小写;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select * from t2 order by name;</span><br><span class="line">+------+</span><br><span class="line">| name |</span><br><span class="line">+------+</span><br><span class="line">| B    |</span><br><span class="line">| a    |</span><br><span class="line">+------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">#按照正序排列,对照ASCLL编码,B&lt;a,B在a前面那么这种二进制校对集区分大小写;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">牢记:</span><br><span class="line">_bin：按二进制编码比较</span><br><span class="line">_ci：不区分大小写比较</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">#显示所有的字符集</span><br><span class="line"></span><br><span class="line">mysql&gt; show character set;</span><br><span class="line">+----------+-----------------------------+---------------------+--------+</span><br><span class="line">| Charset  | Description                 | Default collation   | Maxlen |</span><br><span class="line">+----------+-----------------------------+---------------------+--------+</span><br><span class="line">| big5     | Big5 Traditional Chinese    | big5_chinese_ci     |      2 |</span><br><span class="line">| dec8     | DEC West European           | dec8_swedish_ci     |      1 |</span><br><span class="line">| cp850    | DOS West European           | cp850_general_ci    |      1 |</span><br><span class="line">| hp8      | HP West European            | hp8_english_ci      |      1 |</span><br><span class="line">| koi8r    | KOI8-R Relcom Russian       | koi8r_general_ci    |      1 |</span><br><span class="line">| latin1   | cp1252 West European        | latin1_swedish_ci   |      1 |</span><br><span class="line">| latin2   | ISO 8859-2 Central European | latin2_general_ci   |      1 |</span><br><span class="line">| swe7     | 7bit Swedish                | swe7_swedish_ci     |      1 |</span><br><span class="line">| ascii    | US ASCII                    | ascii_general_ci    |      1 |</span><br><span class="line">| ujis     | EUC-JP Japanese             | ujis_japanese_ci    |      3 |</span><br><span class="line">| sjis     | Shift-JIS Japanese          | sjis_japanese_ci    |      2 |</span><br><span class="line">| hebrew   | ISO 8859-8 Hebrew           | hebrew_general_ci   |      1 |</span><br><span class="line">| tis620   | TIS620 Thai                 | tis620_thai_ci      |      1 |</span><br><span class="line">| euckr    | EUC-KR Korean               | euckr_korean_ci     |      2 |</span><br><span class="line">| koi8u    | KOI8-U Ukrainian            | koi8u_general_ci    |      1 |</span><br><span class="line">| gb2312   | GB2312 Simplified Chinese   | gb2312_chinese_ci   |      2 |</span><br><span class="line">| greek    | ISO 8859-7 Greek            | greek_general_ci    |      1 |</span><br><span class="line">| cp1250   | Windows Central European    | cp1250_general_ci   |      1 |</span><br><span class="line">| gbk      | GBK Simplified Chinese      | gbk_chinese_ci      |      2 |</span><br><span class="line">| latin5   | ISO 8859-9 Turkish          | latin5_turkish_ci   |      1 |</span><br><span class="line">| armscii8 | ARMSCII-8 Armenian          | armscii8_general_ci |      1 |</span><br><span class="line">| utf8     | UTF-8 Unicode               | utf8_general_ci     |      3 |</span><br><span class="line">| ucs2     | UCS-2 Unicode               | ucs2_general_ci     |      2 |</span><br><span class="line">| cp866    | DOS Russian                 | cp866_general_ci    |      1 |</span><br><span class="line">| keybcs2  | DOS Kamenicky Czech-Slovak  | keybcs2_general_ci  |      1 |</span><br><span class="line">| macce    | Mac Central European        | macce_general_ci    |      1 |</span><br><span class="line">| macroman | Mac West European           | macroman_general_ci |      1 |</span><br><span class="line">| cp852    | DOS Central European        | cp852_general_ci    |      1 |</span><br><span class="line">| latin7   | ISO 8859-13 Baltic          | latin7_general_ci   |      1 |</span><br><span class="line">| utf8mb4  | UTF-8 Unicode               | utf8mb4_general_ci  |      4 |</span><br><span class="line">| cp1251   | Windows Cyrillic            | cp1251_general_ci   |      1 |</span><br><span class="line">| utf16    | UTF-16 Unicode              | utf16_general_ci    |      4 |</span><br><span class="line">| cp1256   | Windows Arabic              | cp1256_general_ci   |      1 |</span><br><span class="line">| cp1257   | Windows Baltic              | cp1257_general_ci   |      1 |</span><br><span class="line">| utf32    | UTF-32 Unicode              | utf32_general_ci    |      4 |</span><br><span class="line">| binary   | Binary pseudo charset       | binary              |      1 |</span><br><span class="line">| geostd8  | GEOSTD8 Georgian            | geostd8_general_ci  |      1 |</span><br><span class="line">| cp932    | SJIS for Windows Japanese   | cp932_japanese_ci   |      2 |</span><br><span class="line">| eucjpms  | UJIS for Windows Japanese   | eucjpms_japanese_ci |      3 |</span><br><span class="line">+----------+-----------------------------+---------------------+--------+</span><br><span class="line">39 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#显示所有校对集</span><br><span class="line">mysql&gt; show collation;</span><br></pre></td></tr></table></figure>
<h3 id="3-MySQL的数据类型——值类型"><a href="#3-MySQL的数据类型——值类型" class="headerlink" title="3. MySQL的数据类型——值类型"></a>3. MySQL的数据类型——值类型</h3><h4 id="1-整型"><a href="#1-整型" class="headerlink" title="(1)整型"></a>(1)整型</h4><table>
<thead>
<tr>
<th style="text-align:left">整型</th>
<th>占用字符</th>
<th style="text-align:left">范围</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">tinyint</td>
<td>1</td>
<td style="text-align:left">-2 ^7 ~ 2^7-1   (-128~127)</td>
</tr>
<tr>
<td style="text-align:left">smallint</td>
<td>2</td>
<td style="text-align:left">-2 ^15 ~ 2^15-1   (-32768~32765)</td>
</tr>
<tr>
<td style="text-align:left">mediumint</td>
<td>3</td>
<td style="text-align:left">-2 ^23 ~ 2^23-1   (-8388608~8388607)</td>
</tr>
<tr>
<td style="text-align:left">int</td>
<td>4</td>
<td style="text-align:left">-2 ^31~ 2^31-1   (-2147483648~2147483647)</td>
</tr>
<tr>
<td style="text-align:left">bigint</td>
<td>8</td>
<td style="text-align:left">-2 ^63 ~ 2^63-1   (太大了)</td>
</tr>
</tbody>
</table>
<h4 id="2-unsigned-无符号"><a href="#2-unsigned-无符号" class="headerlink" title="(2)unsigned  (无符号)"></a>(2)unsigned  (无符号)</h4><p>一个数是无符号数，那么这个数肯定是非负数</p>
<p><code>数据库mysql第一条记录一定是1(起码是),绝对不能是0</code></p>
<p><code>tinyint unsigned   2^8-1</code></p>
<p>无符号数的范围相当于是有符号数的两倍。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table test1(</span><br><span class="line">    -&gt; age tinyint unsigned</span><br><span class="line">    -&gt; );</span><br><span class="line">Query OK, 0 rows affected (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; insert into test1 values (128);</span><br><span class="line">Query OK, 1 row affected (0.00 sec)</span><br></pre></td></tr></table></figure>
<h4 id="3-显示宽度"><a href="#3-显示宽度" class="headerlink" title="(3)显示宽度"></a>(3)显示宽度</h4><p>整形支持显示宽度，显示宽度就是最小的显示位数，比如int(11)表示最少用11</p>
<p>位数字表示这个数，如果不够用0来做前导。默认情况下显示位数不起作用，必须集合zerofill才起作用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">create table stu(</span><br><span class="line">id int(5),</span><br><span class="line">age int(5) zerofill</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">#插入测试数据</span><br><span class="line">insert into stu values (1,23),(2,123456);</span><br><span class="line">Query OK, 2 rows affected (0.00 sec)</span><br><span class="line">Records: 2  Duplicates: 0  Warnings: 0</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from stu;</span><br><span class="line">+------+--------+</span><br><span class="line">| id   | age    |</span><br><span class="line">+------+--------+</span><br><span class="line">|    1 |  00023 |</span><br><span class="line">|    2 | 123456 |    #超过显示宽度5就显示值本身</span><br><span class="line">+------+--------+</span><br></pre></td></tr></table></figure>
<p>显示宽度不决定整型的显示大小，只是在值的位置不够的时候用前导0来填充，如果超过显示位数，就不加前导0.显示本身.</p>
<h4 id="4-浮点型"><a href="#4-浮点型" class="headerlink" title="(4)浮点型"></a>(4)浮点型</h4><table>
<thead>
<tr>
<th>浮点型</th>
<th>占用字节</th>
<th>范围</th>
</tr>
</thead>
<tbody>
<tr>
<td>float</td>
<td>4</td>
<td>-3.4E+38 ~ 3.4E+38</td>
</tr>
<tr>
<td>double</td>
<td>8</td>
<td>-1.8E+308 ~ 1.8E+308</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">create table test2(</span><br><span class="line">  num1 float,</span><br><span class="line">  num2 double</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">insert into test2 values(23.123,2.123);</span><br><span class="line"></span><br><span class="line">#float理论上只保留小数点一位,根据实际版本</span><br><span class="line">#double理论上只保留小数点两位, 根据实际版本</span><br><span class="line"></span><br><span class="line">insert into test2 values(2.2E2,2.123);</span><br><span class="line">#也支持科学计数法</span><br><span class="line"></span><br><span class="line">insert into test2 values(999.999999999999999999999999999,2.123456);</span><br><span class="line">#丢失精度</span><br></pre></td></tr></table></figure>
<p>python中我们没有双精度这一类型,float代表浮点数.</p>
<h4 id="5-定点数"><a href="#5-定点数" class="headerlink" title="(5)定点数"></a>(5)定点数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">decimal(M,D),M的最大值是65,D的最大值是30,默认是(10,0)</span><br><span class="line"></span><br><span class="line">create table test3(</span><br><span class="line">	num1 float(10,2),</span><br><span class="line">  	num2 decimal(10,2)</span><br><span class="line">	);</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from test3;</span><br><span class="line">+-------------+-------------+</span><br><span class="line">| num1        | num2        |</span><br><span class="line">+-------------+-------------+</span><br><span class="line">| 12345679.00 |      123.57 |</span><br><span class="line">| 12345679.00 | 12346623.57 |</span><br><span class="line">+-------------+-------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#定点数可以保留多个小数点位,它在有些情况下也会失去精度.浮点数的执行效率要高于定点数.</span><br><span class="line">#浮点数和定点数都支持 无符号.</span><br></pre></td></tr></table></figure>
<h3 id="4-MySql的数据类型–字符类型"><a href="#4-MySql的数据类型–字符类型" class="headerlink" title="4.MySql的数据类型–字符类型"></a>4.MySql的数据类型–字符类型</h3><table>
<thead>
<tr>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>char</td>
<td>定长(255)</td>
</tr>
<tr>
<td>varchar</td>
<td>可变长度</td>
</tr>
<tr>
<td>tinytext</td>
<td>2^8-1    (255)</td>
</tr>
<tr>
<td>text</td>
<td>2^16-1     (65535)</td>
</tr>
<tr>
<td>mediumtext</td>
<td>2^24-1</td>
</tr>
<tr>
<td>longtext</td>
<td>2^32-1</td>
</tr>
</tbody>
</table>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">char(10)和varchar(10)</span><br><span class="line"></span><br><span class="line">	相同点:都是不能超过10个字符</span><br><span class="line">	不同点:char你输入5个字符,它还是占用了10个字符</span><br><span class="line">		varchar你输入5个字符,他会返还多于的空间</span><br><span class="line">		char的最大长度是255</span><br><span class="line">		varchar的理论长度是65535</span><br><span class="line">		实际上达不到,我使用的是gbk(mysql中占用2个字符),那么65535/2.</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">create table test(</span><br><span class="line">  name varchar(32766)</span><br><span class="line">  )charset=gbk;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#utf8在创建的时候报错了,最多支持21845个字符,因为utf8一个汉字要使用3个字符</span><br><span class="line"></span><br><span class="line">create table test(</span><br><span class="line">  name varchar(65535)</span><br><span class="line">  )charset=gbk</span><br><span class="line"></span><br><span class="line">#utf8在创建的时候报错了,最多支持32767个字符,因为gbk一个汉字要使用2个字符</span><br></pre></td></tr></table></figure>
<h3 id="5-MySql数据类型–枚举-enum"><a href="#5-MySql数据类型–枚举-enum" class="headerlink" title="5.MySql数据类型–枚举(enum)"></a>5.MySql数据类型–枚举(enum)</h3><p>列出一些选项的,单选.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">create table test(</span><br><span class="line">name varchar(32),</span><br><span class="line">sex enum(&apos;男&apos;,&apos;女&apos;,&apos;保密&apos;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">insert into test values(&apos;贾乃亮&apos;,&apos;男&apos;);</span><br><span class="line">#插入正常</span><br><span class="line">insert into test values(&apos;王宝强&apos;,&apos;人妖&apos;);</span><br><span class="line">#插入报错</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">枚举型在数据库内部是通过整型来管理的,第一个值1,第二个值是2,依次向后推</span><br><span class="line"></span><br><span class="line">insert into test values(&apos;王宝强&apos;,1);</span><br><span class="line">insert into test values(&apos;刘运斌&apos;,3);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">枚举型的优点:</span><br><span class="line">1.限制值</span><br><span class="line">2.节省空间</span><br><span class="line">3.运行效率高</span><br><span class="line">思考:已知枚举型占用2个字节,请问最多可以设置多少个枚举值?</span><br><span class="line"></span><br><span class="line">2个字节16位,2^16-1,最多可保存65535/2个值</span><br></pre></td></tr></table></figure>
<h3 id="6-MySql数据类型–集合-set"><a href="#6-MySql数据类型–集合-set" class="headerlink" title="6.MySql数据类型–集合(set)"></a>6.MySql数据类型–集合(set)</h3><p>列出数据类型,保存多选</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">create table test2(</span><br><span class="line">name varchar(32),</span><br><span class="line">hobby set(&apos;吃&apos;,&apos;睡觉&apos;,&apos;看书&apos;,&apos;鉴黄&apos;)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">insert into test2 values(&apos;刘运斌&apos;,&apos;吃,睡觉,鉴黄&apos;);</span><br><span class="line">insert into test2 values(&apos;刘运斌-2&apos;,&apos;吃,睡觉,李小璐&apos;);</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">集合和枚举一样,为每个元素分配一个固定的值,分配方式不一样.</span><br><span class="line">它的管理也是使用整型</span><br><span class="line">集合是这么分配的:</span><br><span class="line">&apos;吃&apos;,&apos;睡觉&apos;,&apos;看书&apos;,&apos;鉴黄&apos;</span><br><span class="line"></span><br><span class="line">2^0   2^1    2^2   2^3  如果后面还有依次向后推</span><br><span class="line">保存的时候,把多个值(转换为整型了)加起来,这样值会边的很大(浪费资源)</span><br><span class="line">一个集合他的元素通过一个位表示,有几个集合元素就需要几个位.</span><br><span class="line"></span><br><span class="line">思考:已知集合占用8个字节,那么集合能保存多少个选项?</span><br><span class="line">只能保存64个选项.</span><br></pre></td></tr></table></figure>
<h3 id="7-MySql数据类型–日期时间型"><a href="#7-MySql数据类型–日期时间型" class="headerlink" title="7.MySql数据类型–日期时间型"></a>7.MySql数据类型–日期时间型</h3><table>
<thead>
<tr>
<th>数据类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>date</td>
<td>日期,占用8个字节</td>
</tr>
<tr>
<td>time</td>
<td>时间</td>
</tr>
<tr>
<td>datetime</td>
<td>日期时间</td>
</tr>
<tr>
<td>year</td>
<td>年份,占用一个字节</td>
</tr>
<tr>
<td>timestamp</td>
<td>时间戳,占用4个字节</td>
</tr>
</tbody>
</table>
<h4 id="1-datetime"><a href="#1-datetime" class="headerlink" title="(1)datetime"></a>(1)datetime</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#格式 年-月-日 时:分:秒</span><br><span class="line">create table test4(</span><br><span class="line">create_at datetime</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">insert into test4 values(&apos;2018-01-12 15:00:53&apos;);</span><br><span class="line">insert into test4 values(now());#表示的是当前的时间</span><br><span class="line">insert into test4 values(&apos;10000-12-31 23:59:59&apos;); #错误</span><br></pre></td></tr></table></figure>
<h4 id="2-date"><a href="#2-date" class="headerlink" title="(2)date"></a>(2)date</h4><p>仅表示时间的日期部分</p>
<h4 id="3-time"><a href="#3-time" class="headerlink" title="(3)time"></a>(3)time</h4><p>表示时间部分,也表示时间间隔,范围是-838:59:59 ~ 838:59:59</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">create table test5(</span><br><span class="line">create_at ti</span><br><span class="line">  me</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">insert into test5 values(&apos;12:12:12&apos;);</span><br><span class="line">insert into test5 values(&apos;212:12:12&apos;);</span><br><span class="line">insert into test5 values(&apos;-800:12:12&apos;);</span><br><span class="line">insert into test5 values(&apos;-839:59:59&apos;);  #错误的,超出范围</span><br><span class="line"></span><br><span class="line">#time支持以天的方式表示时间间隔</span><br><span class="line">insert into test5 values(&apos;10 12:59:59&apos;);</span><br></pre></td></tr></table></figure>
<h4 id="4-timestamp"><a href="#4-timestamp" class="headerlink" title="(4)timestamp"></a>(4)timestamp</h4><p>从1970年1月1日 00:00:00秒的格林威治时间开始计算,在python中是特殊类型,但在mysql中显示为datatime格式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">create table test6(</span><br><span class="line">create_at int</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">insert into test6 values(now());</span><br><span class="line">insert into test6 values(&apos;2018-01-12 15:43:30&apos;);</span><br><span class="line">insert into test6 values(&apos;2038-01-19 11:14:07&apos;);#这里就是一个节点</span><br><span class="line"></span><br><span class="line">\</span><br><span class="line">insert into test6 values(&apos;2038-01-19 11:14:08&apos;);#超过了4个字节</span><br><span class="line">timestamp在格式上和datetime是一样的,它们的区别在于:</span><br><span class="line">datetime 从1到9999,而timestamp从1970年~2038年.</span><br><span class="line">timestamp占用4个字节,到2038年超过4个字节的长度了.</span><br></pre></td></tr></table></figure>
<h4 id="5-year"><a href="#5-year" class="headerlink" title="(5)year"></a>(5)year</h4><p>占用一个字节,只能是255个数,以1900年为基数,范围1900+1 ~ 1900+255.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">create table test7(</span><br><span class="line">create_at year</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">insert into test7 values(1900);#错误的</span><br><span class="line">insert into test7 values(1901);</span><br><span class="line">insert into test7 values(2155);</span><br><span class="line">insert into test7 values(2156);#错误的,不在范围内</span><br></pre></td></tr></table></figure>
<h3 id="8-布尔型-boolean"><a href="#8-布尔型-boolean" class="headerlink" title="8.布尔型(boolean)"></a>8.布尔型(boolean)</h3><p>mysql不支持布尔型,所以用1和0代替.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">create table test8(</span><br><span class="line">num boolean</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">insert into test8 values(True);</span><br><span class="line">insert into test8 values(1);</span><br><span class="line">insert into test8 values(False);</span><br><span class="line">insert into test8 values(0);</span><br><span class="line">insert into test8 values(&apos;A&apos;);#错误</span><br><span class="line"></span><br><span class="line">布尔型的使用是比较少的,可以用tinyint代替,或者用enum代替</span><br></pre></td></tr></table></figure>
<h3 id="9-列属性–是否为空-null-not-null"><a href="#9-列属性–是否为空-null-not-null" class="headerlink" title="9.列属性–是否为空(null|not null)"></a>9.列属性–是否为空(null|not null)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">create table test9(</span><br><span class="line">id int auto_increment primary key not null comment&apos;主键&apos;,</span><br><span class="line">username varchar(64) not null,</span><br><span class="line">pwd char(64) null</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">insert into test9 values(null,&apos;admin&apos;,&apos;&apos;);</span><br><span class="line">insert into test9 values(null,&apos;&apos;,&apos;&apos;);</span><br><span class="line">insert into test9 values(null,null,&apos;&apos;);</span><br><span class="line">insert into test9 values(null,&apos;&apos;,null);</span><br><span class="line"></span><br><span class="line">#空字符串不等于null</span><br></pre></td></tr></table></figure>
<h3 id="10-列属性–-default"><a href="#10-列属性–-default" class="headerlink" title="10.列属性–(default)"></a>10.列属性–(default)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">create table test10(</span><br><span class="line">id int auto_increment primary key not null comment&apos;主键&apos;,</span><br><span class="line">username varchar(64) not null,</span><br><span class="line">pwd char(64) null default &apos;123456&apos;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">insert into test10(username) values(&apos;admin2&apos;);#推荐的SQL语句</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">create table test11(</span><br><span class="line">age int  default &apos;123456&apos;</span><br><span class="line">);</span><br><span class="line">insert into test11 values(null);</span><br><span class="line">#输入null加插入null,不写是默认</span><br></pre></td></tr></table></figure>
<h3 id="11-自动增长列"><a href="#11-自动增长列" class="headerlink" title="11.自动增长列"></a>11.自动增长列</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">auto_increment</span><br><span class="line">字段值默认从1开始,每次递增1,特点:不会有重复的值,主键常用.</span><br><span class="line"></span><br><span class="line">友情提示:在mysql中自动增长的列必须作为主键.</span><br><span class="line">自动增长的烈在插入的时候可以输入(null)</span><br><span class="line"></span><br><span class="line">被删除的id不能被再次使用:</span><br><span class="line">如果中间的摸个ID值比较大,那么后面插入的id根据最大值依次+1</span><br></pre></td></tr></table></figure>
<h3 id="12-列属性–主键"><a href="#12-列属性–主键" class="headerlink" title="12.列属性–主键"></a>12.列属性–主键</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">primary key</span><br><span class="line">主键:主键是唯一的</span><br><span class="line">特点:不能为空,也不能重复</span><br><span class="line">一个表只有一个主键</span><br><span class="line"></span><br><span class="line">create table demo1(</span><br><span class="line">id int auto_increment primary key</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">create table demo2(</span><br><span class="line">id int auto_increment,</span><br><span class="line">primary key(id)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">create table demo3(</span><br><span class="line">id int(11) </span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">alter table demo3 add primary key(id);</span><br><span class="line"></span><br><span class="line">选择主键的原则:</span><br><span class="line">1.最少性:必须选择单个键作为主键</span><br><span class="line">2.稳定性:作为主键的这个字段最好不要被修改</span><br></pre></td></tr></table></figure>
<h3 id="13-列属性–唯一键-unique"><a href="#13-列属性–唯一键-unique" class="headerlink" title="13.列属性–唯一键(unique)"></a>13.列属性–唯一键(unique)</h3><p>特点:不能重复,不能为空</p>
<p>一个表可以有多个唯一键</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">create table demo4(</span><br><span class="line">id int primary key,</span><br><span class="line">name char(16) unique,</span><br><span class="line">sex char(3) unique</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">create table demo5(</span><br><span class="line">id int primary key,</span><br><span class="line">name char(16) ,</span><br><span class="line">sex char(3) ,</span><br><span class="line">unique(name),</span><br><span class="line">unique mysex(sex)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">insert into demo4 values(1,&apos;pgone&apos;,&apos;男&apos;);</span><br><span class="line">insert into demo4 values(2,&apos;pgone&apos;,&apos;女&apos;);</span><br><span class="line">insert into demo5 values(1,&apos;pgone&apos;,&apos;男&apos;);</span><br><span class="line">insert into demo5 values(2,&apos;pgone&apos;,&apos;女&apos;);</span><br><span class="line"></span><br><span class="line">#修改表属性方法添加唯一键</span><br><span class="line">alter table demo4 add unique `myname`(name) add unique(sex);</span><br><span class="line"></span><br><span class="line">#删除唯一键还是使用删除的方法</span><br><span class="line">alter table demo5 drop index mysex;#有别名删除别名,没别名删除字段名</span><br></pre></td></tr></table></figure>
<h3 id="14-列属性–备注-comment"><a href="#14-列属性–备注-comment" class="headerlink" title="14.列属性–备注(comment)"></a>14.列属性–备注(comment)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">备注用来给程序员相互交流使用的</span><br><span class="line">有点:起码你能看的动这个字段是用来干吗的.</span><br><span class="line"></span><br><span class="line">stauts tinyint comment&apos;描述一个人的状态 1表示死了,2表示活的,0表示半死不活&apos;</span><br></pre></td></tr></table></figure>
<h3 id="15-SQL注释"><a href="#15-SQL注释" class="headerlink" title="15.SQL注释"></a>15.SQL注释</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">python的注释</span><br><span class="line"># 单行注释</span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line">&apos;&apos;&apos; 多行注释</span><br><span class="line"></span><br><span class="line">mysql的注释</span><br><span class="line"># 单行注释</span><br><span class="line">--单行注释</span><br><span class="line"></span><br><span class="line">/*注释的内容*/ 多行注释</span><br></pre></td></tr></table></figure>
<h3 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">#手机号码一般使用什么数据类型储存?</span><br><span class="line">字符型 char(11)</span><br><span class="line">#性别使用什么数据类型?</span><br><span class="line">字符型 (枚举型) 布尔型</span><br><span class="line">#年龄用什么?</span><br><span class="line">整型 tinyint unsigned</span><br><span class="line">#照片用什么?</span><br><span class="line">binary  字符(只保存路径,不保存资源)</span><br><span class="line">varchar() </span><br><span class="line">#工资用什么类型?</span><br><span class="line">decimal 定点型 </span><br><span class="line">#学员的姓名允许为空吗?</span><br><span class="line">不允许</span><br><span class="line">#家庭地址可以为空吗?</span><br><span class="line">最好不可以</span><br><span class="line">#电子邮箱可以为空吗?</span><br><span class="line">对于目前来说有一点分量,随意</span><br><span class="line">#考试成绩可以为空?</span><br><span class="line">不允许 default 0</span><br><span class="line">#在主键列输入的数值,能为空吗?</span><br><span class="line">肯定不能 null当作占位符</span><br><span class="line">#一个表可以有多个主键吗?</span><br><span class="line">不可以</span><br><span class="line">#在一个学校的数据库中,如果这个学校允许学院重名, 班级不允许有重名的,那么把班级和学生的姓名作为组合主键可以吗?</span><br><span class="line">primary key(id,name)</span><br><span class="line">可以,但是不合理</span><br><span class="line">#标识列允许使用字符串类型吗?</span><br><span class="line">可以,但不允许</span><br><span class="line">#表中没有合适的列(字段)作为主键怎么办?</span><br><span class="line">自己添加一个自增长的字段作为主键</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/05/14/MySQL第二课/" data-id="cjh61uzpt0000cgqxq8tagak4" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Ubuntu" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/05/11/Ubuntu/" class="article-date">
  <time datetime="2018-05-11T01:00:46.743Z" itemprop="datePublished">2018-05-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>建议安装VMware Tools</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#教程</span></span><br><span class="line">https://jingyan.baidu.com/article/c275f6ba07e269e33d756714.html</span><br></pre></td></tr></table></figure>
<p>改变分辨率命令</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#打印显示器支持哪些分辨率</span></span><br><span class="line">xrandr</span><br><span class="line"><span class="comment">#设置屏幕分辨率为1360x768，这是一次性命令，下次开机就没有了</span></span><br><span class="line">xrandr -s  <span class="number">1360</span>x768_60<span class="number">.02</span></span><br><span class="line"><span class="comment">#怎么解决，在系统设置的显示栏目里面重新设置并应用</span></span><br></pre></td></tr></table></figure>
<p>使用管理员权限</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#命令</span></span><br><span class="line">sudo su </span><br><span class="line"><span class="comment">#输入密码的密码是自己的（在root没用设置密码的时候，如果root用户设置过密码以后我们需要使用root用户的密码）</span></span><br></pre></td></tr></table></figure>
<p>Ubuntu16.04 系统错误报告屏蔽</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo rm /var/crash/*</span><br><span class="line">sudo gedit /etc/default/apport</span><br><span class="line"></span><br><span class="line">将enabled设置为<span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>ubuntu使用的apt而不是yum</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#安装vim</span></span><br><span class="line">apt -y install vim</span><br></pre></td></tr></table></figure>
<p>Ubuntu16.04软件中心闪退</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get dist-upgrade</span><br><span class="line">sudo apt-get install --reinstall software-center</span><br></pre></td></tr></table></figure>
<p>apt-get安装源替换清华大学的源</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#1、原文件重命名备份</span></span><br><span class="line">sudo mv /etc/apt/sources.list /etc/apt/source.list.back</span><br><span class="line"></span><br><span class="line"><span class="comment">#2、编辑源列表文件</span></span><br><span class="line">sudo gedit /etc/apt/sources.list</span><br><span class="line"></span><br><span class="line"><span class="comment">#3、用下面的文本作为内容</span></span><br><span class="line"></span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial universe</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates universe</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial multiverse</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates multiverse</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security universe</span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security multiverse</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">4</span>、更新</span><br><span class="line"></span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get upgrade</span><br></pre></td></tr></table></figure>
<p>ubuntu 重启网卡方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">查看网卡信息： ifconfig</span><br><span class="line">设定一个网卡IP：ifconfig eth1 <span class="number">192.168</span><span class="number">.1</span><span class="number">.10</span> netmask <span class="number">255.255</span><span class="number">.255</span><span class="number">.0</span></span><br><span class="line">重启网卡使设定生效：sudo /etc/init.d/networking restart</span><br><span class="line">用ubuntu的系统——&gt;系统管理——&gt;网络的网络设置</span><br><span class="line">关闭网卡 ifdown eth0</span><br><span class="line">开启网卡 ifup eth0</span><br><span class="line">重启网卡，优点是可以指定网卡，不影响其他网络接口</span><br></pre></td></tr></table></figure>
<p>ubuntu中开启、关闭防火墙</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、关闭ubuntu的防火墙 </span><br><span class="line">ufw disable</span><br><span class="line">开启防火墙</span><br><span class="line">ufw enable</span><br></pre></td></tr></table></figure>
<p>配置ubuntu ssh远程登录</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">1.</span>默认使用ubuntu用户登录，密码为服务器配置时设置的密码，可在重置密码中修改</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>修改 root 密码</span><br><span class="line"></span><br><span class="line">[plain] view plain copy</span><br><span class="line">sudo passwd root  </span><br><span class="line"><span class="number">3.</span>修改配置文件</span><br><span class="line"></span><br><span class="line">[plain] view plain copy</span><br><span class="line">sudo gedit /etc/ssh/sshd_config  </span><br><span class="line">找到下面相关配置：</span><br><span class="line"></span><br><span class="line">[plain] view plain copy</span><br><span class="line"><span class="comment"># Authentication:  </span></span><br><span class="line">LoginGraceTime <span class="number">120</span>  </span><br><span class="line">PermitRootLogin prohibit-password  </span><br><span class="line">StrictModes yes  </span><br><span class="line">更改为：</span><br><span class="line"></span><br><span class="line">[plain] view plain copy</span><br><span class="line"><span class="comment"># Authentication:  </span></span><br><span class="line">LoginGraceTime <span class="number">120</span>  </span><br><span class="line"><span class="comment">#PermitRootLogin prohibit-password  </span></span><br><span class="line">PermitRootLogin yes  </span><br><span class="line">StrictModes yes  </span><br><span class="line"><span class="number">4.</span>重启ssh</span><br><span class="line"></span><br><span class="line">[plain] view plain copy</span><br><span class="line">sudo service ssh restart</span><br></pre></td></tr></table></figure>
<p>安装JDK</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/pucao_cug/article/details/68948639</span><br><span class="line">https://www.itbulu.com/python-pycharm.html</span><br></pre></td></tr></table></figure>
<p>安装pycharm</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://jingyan.baidu.com/article/60ccbceb4e3b0e64cab19733.html</span><br></pre></td></tr></table></figure>
<p>解决the system is running in low-graphics mode问题</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">打不开图形化，那么就进入命令行</span><br><span class="line">ctrl+alt+F1</span><br><span class="line">输入账号密码进入</span><br><span class="line"></span><br><span class="line">cd /etc/X11    </span><br><span class="line">sudo cp xorg.conf.failsafe xorg.conf   </span><br><span class="line">sudo reboot  </span><br><span class="line"></span><br><span class="line">现在可以进入图形化界面</span><br><span class="line"></span><br><span class="line">打开终端，输入：</span><br><span class="line">sudo apt-get install gdm </span><br><span class="line"></span><br><span class="line">gdm是图形化管理工具，在安装的时候学则gdm3</span><br><span class="line"></span><br><span class="line">rm -rf /etc/X11/xorg.conf</span><br><span class="line"></span><br><span class="line">sudo reboot</span><br></pre></td></tr></table></figure>
<p>apt</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">apt-cache search package 搜索软件包</span><br><span class="line"></span><br><span class="line">apt-cache show package  获取包的相关信息，如说明、大小、版本等</span><br><span class="line"></span><br><span class="line">sudo apt-get install package 安装包</span><br><span class="line"></span><br><span class="line">sudo apt-get install package --reinstall   重新安装包</span><br><span class="line"></span><br><span class="line">sudo apt-get -f install   修复安装</span><br><span class="line"></span><br><span class="line">sudo apt-get remove package 删除包</span><br><span class="line"></span><br><span class="line">sudo apt-get remove package --purge 删除包，包括配置文件等</span><br><span class="line"></span><br><span class="line">sudo apt-get update  更新源</span><br><span class="line"></span><br><span class="line">sudo apt-get upgrade 更新已安装的包</span><br><span class="line"></span><br><span class="line">sudo apt-get dist-upgrade 升级系统</span><br><span class="line"></span><br><span class="line">apt-cache depends package 了解使用该包依赖那些包</span><br><span class="line"></span><br><span class="line">apt-cache rdepends package 查看该包被哪些包依赖</span><br><span class="line"></span><br><span class="line">sudo apt-get build-dep package 安装相关的编译环境</span><br><span class="line"></span><br><span class="line">apt-get source package  下载该包的源代码</span><br><span class="line"></span><br><span class="line">sudo apt-get clean &amp;&amp; sudo apt-get autoclean 清理无用的包</span><br><span class="line"></span><br><span class="line">sudo apt-get check 检查是否有损坏的依赖</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/05/11/Ubuntu/" data-id="cjh5njvpp000azsqx40j0whhe" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-samba" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/05/11/samba/" class="article-date">
  <time datetime="2018-05-11T01:00:46.743Z" itemprop="datePublished">2018-05-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="samba"><a href="#samba" class="headerlink" title="samba"></a>samba</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>samba主要运用与windows电脑与linux主机之间进行文件共享</p>
<h2 id="软硬件环境"><a href="#软硬件环境" class="headerlink" title="软硬件环境"></a>软硬件环境</h2><p>linux 主机s1一台，关闭selinux和防火墙，192.168.199.236</p>
<p>windows主机 c1一台，192.168.199.2</p>
<p>搭建之前：关闭防火墙和selinux<br>    service iptables stop<br>    setenforce 0</p>
<h2 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h2><ol>
<li><p>在s1上面安装samba服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y samba samba-client	#安装samba服务端与客户端</span><br></pre></td></tr></table></figure>
</li>
<li><p>编辑samba的配置文件，/etc/samba/smb.conf</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[global]</span>					<span class="comment">#全局的配置</span></span><br><span class="line">        workgroup = MYGROUP	#window里面的工作组，默认是WORKGROUP</span><br><span class="line">        server string = Samba Server Version %v</span><br><span class="line">        security = user</span><br><span class="line">        passdb backend = tdbsam</span><br><span class="line">        load printers = yes</span><br><span class="line">        cups options = raw</span><br><span class="line"><span class="section">[homes]</span>	<span class="comment">#模块的配置</span></span><br><span class="line">        comment = Home Directories</span><br><span class="line">        browseable = no</span><br><span class="line">        writable = yes</span><br><span class="line"><span class="section">[printers]</span>	<span class="comment">#模块的配置</span></span><br><span class="line">        comment = All Printers</span><br><span class="line">        path = /var/spool/samba</span><br><span class="line">        browseable = no</span><br><span class="line">        guest ok = no</span><br><span class="line">        writable = no</span><br><span class="line">        printable = yes</span><br></pre></td></tr></table></figure>
<p>[global] 定义全局的配置，workgroup用来定义工作组，相信如果你安装过windows的系统，你会对这个workgroup不陌生。一般情况下，需要我们把这里的MYGROUP改成WORKGROUP（windows默认的工作组名字）。</p>
<p>security = user #这里指定samba的安全等级。关于安全等级有四种：</p>
<p>share：用户不需要账户及密码即可登录samba服务器</p>
<p>user：由提供服务的samba服务器负责检查账户及密码（默认）</p>
<p>server：检查账户及密码的工作由另一台windows或samba服务器负责</p>
<p>domain：指定windows域控制服务器来验证用户的账户及密码。</p>
<p>passdb backend = tdbsam # passdb backend（用户后台），samba有三种用户后台：smbpasswd, tdbsam和ldapsam.</p>
<p>smbpasswd：该方式是使用smb工具smbpasswd给系统用户（真实用户或者虚拟用户）设置一个Samba密码，客户端就用此密码访问Samba资源。smbpasswd在/etc/samba中，有时需要手工创建该文件。</p>
<p>tdbsam：使用数据库文件创建用户数据库。数据库文件叫passdb.tdb，在/etc/samba中。passdb.tdb用户数据库可使用 <code>smbpasswd -a</code> 创建Samba用户，要创建的Samba用户必须先是系统用户。也可使用pdbedit创建Samba账户。pdbedit参数很多，列出几个主要的：</p>
<p>pdbedit -a username：新建Samba账户。</p>
<p>pdbedit -x username：删除Samba账户。</p>
<p>pdbedit -L：列出Samba用户列表，读取passdb.tdb数据库文件。</p>
<p>pdbedit -Lv：列出Samba用户列表详细信息。</p>
<p>pdbedit -c “[D]” -u username：暂停该Samba用户账号。</p>
<p>pdbedit -c “[]” -u username：恢复该Samba用户账号。</p>
<p>ldapsam：基于LDAP账户管理方式验证用户。首先要建立LDAP服务，设置 “passdb backend = ldapsam:ldap://LDAP Server”</p>
<p>load printers 和 cups options 两个参数用来设置打印机相关。</p>
<p>除了这些参数外，还有几个参数需要你了解：</p>
<p>netbios name = MYSERVER # 设置出现在网上邻居中的主机名</p>
<p>hosts allow = 127. 192.168.12. 192.168.13. # 用来设置允许的主机，如果在前面加 ”;” 则表示允许所有主机</p>
<p>log file = /var/log/samba/%m.log #定义samba的日志，这里的%m是上面的netbios name</p>
<p>max log size = 50 # 指定日志的最大容量，单位是K</p>
<p>[homes] 该部分内容共享用户自己的家目录，也就是说，当用户登录到samba服务器上时实际上是进入到了该用户的家目录，用户登陆后，共享名不是homes而是用户自己的标识符，对于单纯的文件共享的环境来说，这部分可以注视掉。</p>
<p>[printers] 该部分内容设置打印机共享。</p>
</li>
</ol>
<h2 id="samba实践"><a href="#samba实践" class="headerlink" title="samba实践"></a>samba实践</h2><ol>
<li><p><strong>共享一个目录，任何人都可以访问，即不用输入密码即可访问，要求只读</strong></p>
<p>修改全局的设置<br>vim /etc/samba/smb.conf</p>
</li>
</ol>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[global]</span></span><br><span class="line"><span class="attr">WORKGROUP</span> = WORKGROUP</span><br><span class="line"><span class="attr">security</span> = share</span><br></pre></td></tr></table></figure>
<p>   然后在配置文件的末尾添加一行</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[share]</span><span class="comment">#文件夹的名字</span></span><br><span class="line">        comment = share all</span><br><span class="line">        path = /var/www/html</span><br><span class="line">        browseable = yes</span><br><span class="line">        public = yes</span><br><span class="line">        writable = no</span><br></pre></td></tr></table></figure>
<p>   启动samba共享服务</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/smb start</span><br><span class="line"></span><br><span class="line">service smb start</span><br><span class="line"></span><br><span class="line">testparm	#测试配置文件</span><br></pre></td></tr></table></figure>
<p>   在windows主机c1上面打开浏览器或者资源管理器地址栏中输入</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">file://10.11.58.179/share	#可查看</span><br><span class="line"></span><br><span class="line">liunx 访问smbclient</span><br></pre></td></tr></table></figure>
<ol>
<li><p><strong>共享一个目录，使用用户名和密码登录后才可以访问，要求可以读写</strong></p>
<p>修改全局配置文件</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[global]</span></span><br><span class="line">        workgroup = WORKGROUP</span><br><span class="line">        server string = Samba Server Version %v</span><br><span class="line">        security = user</span><br><span class="line">        passdb backend = tdbsam</span><br><span class="line">        load printers = yes</span><br><span class="line">        cups options = raw</span><br></pre></td></tr></table></figure>
<p>添加一个新的共享设置</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[myshare]</span></span><br><span class="line">        comment = share for users</span><br><span class="line">        path = /var/www/html</span><br><span class="line">        browseable = yes </span><br><span class="line">        writable = yes</span><br><span class="line">        public = no</span><br></pre></td></tr></table></figure>
<p>保存配置文件，修改共享目录权限</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir /samba</span><br><span class="line">chmod 777 /samba</span><br></pre></td></tr></table></figure>
<p>然后添加用户</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">useradd user1	#创建测试用户</span><br><span class="line">useradd user2	#创建测试用户</span><br><span class="line"></span><br><span class="line">pdbedit -a user1	#添加用户为samba的用户</span><br><span class="line">pdbedit -a user2	</span><br><span class="line"></span><br><span class="line">pdbedit -L	#列出所有的samba用户</span><br><span class="line"></span><br><span class="line">service smb restart	#重启samba服务</span><br></pre></td></tr></table></figure>
<p>在windows主机上面打开浏览器或者资源管理器进行查看</p>
</li>
<li><p><strong>使用linux访问samba服务器</strong></p>
<p>在另一台的linux的客户端c2主机上面进行操作</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">yum install -y samba-client	#安装samba客户端</span><br><span class="line"></span><br><span class="line">smbclient //IP/共享名 -U 用户名</span><br><span class="line">smbclient //10.11.53.133/myshare -U user1</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">常用命令，使用<span class="built_in">help</span> + 命令进行查看命令用法</span></span><br><span class="line">cd, ls, rm, pwd, tar, mkdir, chown, get, put</span><br><span class="line"><span class="meta">#</span><span class="bash">手动进行挂载</span></span><br><span class="line">mount -t cifs //10.11.53.133/myshare /mnt/smb -o username=user1,password=123456</span><br><span class="line"><span class="meta">#</span><span class="bash">在/etc/fstab上面进行挂载</span></span><br><span class="line">//10.11.53.133/myshare /mnt/smb cifs username=user1,password=123456 0 0</span><br><span class="line"></span><br><span class="line">file://10.11.53.133</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="linux挂载windows的共享目录"><a href="#linux挂载windows的共享目录" class="headerlink" title="linux挂载windows的共享目录"></a>linux挂载windows的共享目录</h2><ol>
<li><p>要在linux系统执行以下命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y cifs-utils	#必须要安装这个组件，才可以完美支持</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用sbmclient来进行查看</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">smbclient //192.168.2.103/share -U ruidong</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用mount进行挂载</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount -t cifs //192.168.2.103/myshare /mnt/smb -o username=ruidong,password=rd920128</span><br></pre></td></tr></table></figure></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/05/11/samba/" data-id="cjh5njvqb000jzsqxn85guapn" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-nginx配置详解" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/05/11/nginx配置详解/" class="article-date">
  <time datetime="2018-05-11T01:00:46.727Z" itemprop="datePublished">2018-05-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="hosts-文件位置-C-Windows-System32-drivers-etc"><a href="#hosts-文件位置-C-Windows-System32-drivers-etc" class="headerlink" title="hosts 文件位置 C:\Windows\System32\drivers\etc"></a>hosts 文件位置 C:\Windows\System32\drivers\etc</h3><h3 id="win10-先复制到桌面-进行修改-然后在复制回去"><a href="#win10-先复制到桌面-进行修改-然后在复制回去" class="headerlink" title="win10 先复制到桌面,进行修改,然后在复制回去"></a>win10 先复制到桌面,进行修改,然后在复制回去</h3><h3 id="nginx-conf-位置-usr-local-nginx-conf"><a href="#nginx-conf-位置-usr-local-nginx-conf" class="headerlink" title="nginx.conf 位置 /usr/local/nginx/conf"></a>nginx.conf 位置 /usr/local/nginx/conf</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  listen <span class="number">80</span>;</span><br><span class="line">  server_name _;</span><br><span class="line">  <span class="comment">#location / &#123;  把这几行注释掉,默认就是用nginx作为服务器,原来只是作为一个VBS(负载均衡器来使用,也就是反向代理)</span></span><br><span class="line">  <span class="comment">#location / &#123;</span></span><br><span class="line">  <span class="comment">#  try_files $uri @apache;</span></span><br><span class="line">  <span class="comment">#&#125;</span></span><br><span class="line">  <span class="comment">#location @apache &#123;</span></span><br><span class="line">  <span class="comment">#  proxy_pass http://127.0.0.1:88;</span></span><br><span class="line">  <span class="comment">#  include proxy.conf;</span></span><br><span class="line">  <span class="comment">#&#125;</span></span><br></pre></td></tr></table></figure>
<p>#nginx.conf</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#定义Nginx运行的用户和用户组  </span></span><br><span class="line"><span class="attribute">user</span> www www;  </span><br><span class="line">   </span><br><span class="line"><span class="comment">#nginx进程数，建议设置为等于CPU总核心数。  </span></span><br><span class="line"><span class="attribute">worker_processes</span> auto;  </span><br><span class="line">   </span><br><span class="line"><span class="comment">#全局错误日志定义类型，[ debug | info | notice | warn | error | crit ]  </span></span><br><span class="line"><span class="attribute">error_log</span> /data/wwwlogs/error_nginx.log <span class="literal">crit</span>;</span><br><span class="line">   </span><br><span class="line"><span class="comment">#进程文件  </span></span><br><span class="line"><span class="attribute">pid</span> /var/run/nginx.pid;</span><br><span class="line">   </span><br><span class="line"><span class="comment">#一个nginx进程打开的最多文件描述符数目</span></span><br><span class="line"><span class="attribute">worker_rlimit_nofile</span> <span class="number">65535</span>;  </span><br><span class="line">   </span><br><span class="line"><span class="comment">#工作模式与连接数上限  </span></span><br><span class="line"><span class="attribute">events</span>  </span><br><span class="line">&#123;  </span><br><span class="line">	<span class="comment">#参考事件模型，use [ kqueue | rtsig | epoll | /dev/poll | select | poll ]; epoll模型是Linux 2.6以上版本内核中的高性能网络I/O模型，如果跑在FreeBSD(unix系统)上面，就用kqueue模型。  </span></span><br><span class="line">	<span class="attribute">use</span> <span class="literal">epoll</span>;  </span><br><span class="line">	<span class="comment">#单个进程最大连接数（最大连接数=连接数*进程数）  </span></span><br><span class="line">	<span class="attribute">worker_connections</span> <span class="number">65535</span>;  </span><br><span class="line">	<span class="comment">#multi_accept在Nginx接到一个新连接通知后调用accept()来接受尽量多的连接 。off是关闭</span></span><br><span class="line">	<span class="attribute">multi_accept</span> <span class="literal">on</span>;</span><br><span class="line">&#125;  </span><br><span class="line">   </span><br><span class="line"><span class="comment">#设定http服务器  </span></span><br><span class="line"><span class="attribute">http</span>  </span><br><span class="line">&#123;  </span><br><span class="line">	<span class="attribute">include</span> mime.types; <span class="comment">#文件扩展名与文件类型映射表  </span></span><br><span class="line">	<span class="attribute">default_type</span> application/octet-stream; <span class="comment">#默认文件类型  </span></span><br><span class="line">	<span class="attribute">charset</span> utf-<span class="number">8</span>; <span class="comment">#默认编码  </span></span><br><span class="line">	<span class="attribute">server_names_hash_bucket_size</span> <span class="number">128</span>; <span class="comment">#服务器名字的hash表大小  </span></span><br><span class="line">	<span class="attribute">client_header_buffer_size</span> <span class="number">32k</span>; <span class="comment"># 客户端头信息缓冲区大小</span></span><br><span class="line">	<span class="attribute">large_client_header_buffers</span> <span class="number">64k</span>; <span class="comment">#最大客户端头信息缓冲区大小</span></span><br><span class="line">	<span class="attribute">client_max_body_size</span> <span class="number">8m</span>; <span class="comment">#客户端请求的最大文件大小 </span></span><br><span class="line">	<span class="attribute">sendfile</span> <span class="literal">on</span>; <span class="comment">#开启高效文件传输模式，sendfile指令指定nginx是否调用sendfile函数来输出文件，对于普通应用设为 on，如果用来进行下载等应用磁盘IO重负载应用，可设置为off，以平衡磁盘与网络I/O处理速度，降低系统的负载。注意：如果图片显示不正常把这个改成off。  </span></span><br><span class="line">	<span class="attribute">autoindex</span> <span class="literal">on</span>; <span class="comment">#开启目录列表访问  </span></span><br><span class="line">	<span class="attribute">tcp_nopush</span> <span class="literal">on</span>; <span class="comment">#防止网络阻塞  </span></span><br><span class="line">	<span class="attribute">tcp_nodelay</span> <span class="literal">on</span>; <span class="comment">#防止网络阻塞  </span></span><br><span class="line">	<span class="attribute">keepalive_timeout</span> <span class="number">120</span>; <span class="comment">#长连接超时时间，单位是秒  </span></span><br><span class="line"></span><br><span class="line">	   </span><br><span class="line">	<span class="comment">#gzip模块设置  </span></span><br><span class="line">	<span class="attribute">gzip</span> <span class="literal">on</span>; <span class="comment">#开启gzip压缩输出  </span></span><br><span class="line">	<span class="attribute">gzip_min_length</span> <span class="number">1k</span>; <span class="comment">#最小压缩文件大小  </span></span><br><span class="line">	<span class="attribute">gzip_buffers</span> <span class="number">4</span> <span class="number">16k</span>; <span class="comment">#压缩缓冲区  </span></span><br><span class="line">	<span class="attribute">gzip_http_version</span> <span class="number">1</span>.<span class="number">0</span>; <span class="comment">#压缩版本（默认1.1，前端如果是squid2.5请使用1.0）  </span></span><br><span class="line">	<span class="attribute">gzip_comp_level</span> <span class="number">2</span>; <span class="comment">#压缩等级  </span></span><br><span class="line">	<span class="attribute">gzip_types</span> text/plain application/x-javascript text/css application/xml;  </span><br><span class="line">	<span class="comment">#压缩类型，默认就已经包含text/html，所以下面就不用再写了  </span></span><br><span class="line">   </span><br><span class="line">	<span class="attribute">upstream</span> www.baidu.com &#123;  </span><br><span class="line">		<span class="comment">#upstream的负载均衡，weight是权重，可以根据机器配置定义权重。weigth参数表示权值，权值越高被分配到的几率越大。  </span></span><br><span class="line">    	<span class="comment">#hash算法分配</span></span><br><span class="line">    	<span class="comment">#ip_hash</span></span><br><span class="line">    	<span class="comment">#--我是分割线--</span></span><br><span class="line">		<span class="attribute">server</span> <span class="number">192.168.80.121:80</span> weight=<span class="number">3</span>;  <span class="comment">#8核 32G 200M带宽</span></span><br><span class="line">		<span class="attribute">server</span> <span class="number">192.168.80.122:80</span> weight=<span class="number">2</span>;  <span class="comment">#4  16  200M</span></span><br><span class="line">		<span class="attribute">server</span> <span class="number">192.168.80.123:80</span> weight=<span class="number">1</span>;  <span class="comment">#2  4   200M</span></span><br><span class="line">	&#125;  </span><br><span class="line">   </span><br><span class="line">	<span class="comment">#虚拟主机的配置  </span></span><br><span class="line">	<span class="attribute">server</span>  </span><br><span class="line">	&#123;  </span><br><span class="line">		<span class="comment">#监听端口  </span></span><br><span class="line">		<span class="attribute">listen</span> <span class="number">80</span>;  </span><br><span class="line">		<span class="comment">#域名可以有多个，用空格隔开  </span></span><br><span class="line">		<span class="attribute">server_name</span> www.baidu.com baidu.com;  </span><br><span class="line"></span><br><span class="line">		<span class="comment">#先读取的文件类型</span></span><br><span class="line">		index.html index.htm main.py;  </span><br><span class="line"></span><br><span class="line">		<span class="comment">#默认的文件路径</span></span><br><span class="line">		<span class="attribute">root</span> /data/wwwroot/default;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">#404 无法找到文件 显示的样式</span></span><br><span class="line">		<span class="comment">#error_page 404 /404.html;</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">#502 网关错误 显示的样式</span></span><br><span class="line">    	<span class="comment">#error_page 502 /502.html;</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">#图片缓存时间设置  </span></span><br><span class="line">		<span class="attribute">location</span> <span class="regexp">~ .*.(gif|jpg|jpeg|png|bmp|swf)$</span>  </span><br><span class="line">		&#123;  </span><br><span class="line">			<span class="attribute">expires</span> <span class="number">10d</span>;  </span><br><span class="line">		&#125;  </span><br><span class="line">		<span class="comment">#JS和CSS缓存时间设置  </span></span><br><span class="line">		<span class="attribute">location</span> <span class="regexp">~ .*.(js|css)?$</span>  </span><br><span class="line">		&#123;  </span><br><span class="line">			<span class="attribute">expires</span> <span class="number">1h</span>;  </span><br><span class="line">		&#125;     </span><br><span class="line">		<span class="comment">#定义本虚拟主机的访问日志  </span></span><br><span class="line">		<span class="attribute">access_log</span> ar/loginx/hahaaccess.log access;  </span><br><span class="line">		</span><br><span class="line">    	<span class="comment">#设置关联apche服务器</span></span><br><span class="line">    	<span class="attribute">location</span> / &#123;</span><br><span class="line">     	 <span class="attribute">try_files</span> <span class="variable">$uri</span> <span class="variable">@apache</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    	<span class="comment">#设置重定向到apache</span></span><br><span class="line">        <span class="attribute">location</span> <span class="variable">@apache</span> &#123;</span><br><span class="line">      	  <span class="comment">#当nginx接收到请求的时候 跳转到本机的127.0.0.1:88端口</span></span><br><span class="line">          <span class="attribute">proxy_pass</span> http://127.0.0.1:88;</span><br><span class="line">          <span class="attribute">include</span> proxy.conf;</span><br><span class="line">        &#125;</span><br><span class="line">    	<span class="comment">#让apache去引用php</span></span><br><span class="line">        <span class="attribute">location</span> <span class="regexp">~ [^/]\.php(/|$)</span> &#123;</span><br><span class="line">          <span class="attribute">proxy_pass</span> http://127.0.0.1:88;</span><br><span class="line">          <span class="attribute">include</span> proxy.conf;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">		<span class="comment">#对 "/" 启用反向代理  </span></span><br><span class="line">		<span class="attribute">location</span> / &#123;  </span><br><span class="line">			<span class="comment">#接受请求直接指向本机的88端口</span></span><br><span class="line">			<span class="attribute">proxy_pass</span> http://127.0.0.1:88;</span><br><span class="line"></span><br><span class="line">			<span class="comment">#对发送给客户端的URL进行修改  </span></span><br><span class="line">			<span class="attribute">proxy_redirect</span> <span class="literal">off</span>;  </span><br><span class="line">			<span class="comment">#可以设置重新添加请求头</span></span><br><span class="line">			<span class="attribute">proxy_set_header</span> X-Real-IP <span class="variable">$remote_addr</span>;  </span><br><span class="line">			<span class="comment">#后端的Web服务器可以通过X-Forwarded-For获取用户真实IP  </span></span><br><span class="line">			<span class="attribute">proxy_set_header</span> X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;  </span><br><span class="line">			<span class="comment">#以下是一些反向代理的配置，可选。  </span></span><br><span class="line">			<span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>;  </span><br><span class="line">			<span class="attribute">client_max_body_size</span> <span class="number">10m</span>; <span class="comment">#允许客户端请求的最大单文件字节数  </span></span><br><span class="line">			<span class="attribute">client_body_buffer_size</span> <span class="number">128k</span>; <span class="comment">#缓冲区代理缓冲用户端请求的最大字节数，  </span></span><br><span class="line">			<span class="attribute">proxy_connect_timeout</span> <span class="number">90</span>; <span class="comment">#nginx跟后端服务器连接超时时间(代理连接超时)  </span></span><br><span class="line">			<span class="attribute">proxy_send_timeout</span> <span class="number">90</span>; <span class="comment">#后端服务器数据回传时间(代理发送超时)  </span></span><br><span class="line">			<span class="attribute">proxy_read_timeout</span> <span class="number">90</span>; <span class="comment">#连接成功后，后端服务器响应时间(代理接收超时)  </span></span><br><span class="line">			<span class="attribute">proxy_buffer_size</span> <span class="number">4k</span>; <span class="comment">#设置代理服务器（nginx）保存用户头信息的缓冲区大小  </span></span><br><span class="line">			<span class="attribute">proxy_buffers</span> <span class="number">4</span> <span class="number">32k</span>; <span class="comment">#proxy_buffers缓冲区，网页平均在32k以下的设置  </span></span><br><span class="line">			<span class="attribute">proxy_busy_buffers_size</span> <span class="number">64k</span>; <span class="comment">#高负荷下缓冲大小（proxy_buffers*2）  </span></span><br><span class="line">			<span class="attribute">proxy_temp_file_write_size</span> <span class="number">64k</span>;  </span><br><span class="line">			<span class="comment">#设定缓存文件夹大小，大于这个值，将从upstream服务器传  </span></span><br><span class="line">		&#125;  </span><br><span class="line">		</span><br><span class="line">		<span class="comment">#所有静态文件由nginx直接读取  </span></span><br><span class="line">		<span class="attribute">location</span> <span class="regexp">~ .*.(htm|html|gif|jpg|jpeg|png|bmp|swf|ioc|rar|zip|txt|flv|mid|doc|ppt|pdf|xls|mp3|wma)$</span>  </span><br><span class="line">		&#123; <span class="attribute">expires</span> <span class="number">15d</span>; &#125;  </span><br><span class="line">		<span class="attribute">location</span> <span class="regexp">~ .*.(js|css)?$</span>  </span><br><span class="line">		&#123; <span class="attribute">expires</span> <span class="number">1h</span>; &#125;  </span><br><span class="line">	&#125; </span><br><span class="line">	<span class="comment">#引入其它的站点位置</span></span><br><span class="line">	<span class="attribute">include</span> vhost/<span class="regexp">*.conf</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>include vhost/*.conf;</p>
<p>conf目录中没有 vhost目录，我们可以新建一个，</p>
<p>在conf目中： mkdir vhost</p>
<p>*.conf的名字可以自己取</p>
<p>例如:aliyun.conf   baidu.con</p>
<p>#vim vhost/0.conf</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#虚拟主机的配置  </span><br><span class="line">	server  </span><br><span class="line">	&#123;  </span><br><span class="line">		#监听端口  </span><br><span class="line">		listen 127.0.0.1:88;  </span><br><span class="line">		#域名可以有多个，用空格隔开  </span><br><span class="line">		server_name www.taobao.com taobao.com;  </span><br><span class="line"></span><br><span class="line">		#先读取的文件类型</span><br><span class="line">		index index.html index.htm main.py;  </span><br><span class="line"></span><br><span class="line">		#默认的文件路径</span><br><span class="line">		root /data/wwwroot/project;</span><br><span class="line">		</span><br><span class="line">		#404 无法找到文件 显示的样式</span><br><span class="line">		#error_page 404 /404.html;</span><br><span class="line">		</span><br><span class="line">		#502 网管错误 显示的样式</span><br><span class="line">    		#error_page 502 /502.html;</span><br><span class="line"></span><br><span class="line">		#图片缓存时间设置  </span><br><span class="line">		location ~ .*.(gif|jpg|jpeg|png|bmp|swf)$  </span><br><span class="line">		&#123;  </span><br><span class="line">			expires 10d;  </span><br><span class="line">		&#125;  </span><br><span class="line">		#JS和CSS缓存时间设置  </span><br><span class="line">		location ~ .*.(js|css)?$  </span><br><span class="line">		&#123;  </span><br><span class="line">			expires 1h;  </span><br><span class="line">		&#125;     </span><br><span class="line">		#定义本虚拟主机的访问日志  </span><br><span class="line">		access_log ar/loginx/hahaaccess.log access;  </span><br><span class="line">		   </span><br><span class="line">		#对 &quot;/&quot; 启用反向代理  </span><br><span class="line">		location / &#123;  </span><br><span class="line">			#接受请求直接指向本机的88端口</span><br><span class="line">			proxy_pass http://127.0.0.1:8888;</span><br><span class="line"></span><br><span class="line">			#对发送给客户端的URL进行修改  </span><br><span class="line">			proxy_redirect off;  </span><br><span class="line">			#可以设置重新添加请求头</span><br><span class="line">			proxy_set_header X-Real-IP $remote_addr;  </span><br><span class="line">			#后端的Web服务器可以通过X-Forwarded-For获取用户真实IP  </span><br><span class="line">			proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;  </span><br><span class="line">			#以下是一些反向代理的配置，可选。  </span><br><span class="line">			proxy_set_header Host $host;  </span><br><span class="line">			client_max_body_size 10m; #允许客户端请求的最大单文件字节数  </span><br><span class="line">			client_body_buffer_size 128k; #缓冲区代理缓冲用户端请求的最大字节数，  </span><br><span class="line">			proxy_connect_timeout 90; #nginx跟后端服务器连接超时时间(代理连接超时)  </span><br><span class="line">			proxy_send_timeout 90; #后端服务器数据回传时间(代理发送超时)  </span><br><span class="line">			proxy_read_timeout 90; #连接成功后，后端服务器响应时间(代理接收超时)  </span><br><span class="line">			proxy_buffer_size 4k; #设置代理服务器（nginx）保存用户头信息的缓冲区大小  </span><br><span class="line">			proxy_buffers 4 32k; #proxy_buffers缓冲区，网页平均在32k以下的设置  </span><br><span class="line">			proxy_busy_buffers_size 64k; #高负荷下缓冲大小（proxy_buffers*2）  </span><br><span class="line">			proxy_temp_file_write_size 64k;  </span><br><span class="line">			#设定缓存文件夹大小，大于这个值，将从upstream服务器传  </span><br><span class="line">		&#125;  </span><br><span class="line">		</span><br><span class="line">		#所有静态文件由nginx直接读取  </span><br><span class="line">		location ~ .*.(htm|html|gif|jpg|jpeg|png|bmp|swf|ioc|rar|zip|txt|flv|mid|doc|ppt|pdf|xls|mp3|wma)$  </span><br><span class="line">		&#123; expires 15d; &#125;  </span><br><span class="line">		location ~ .*.(js|css)?$  </span><br><span class="line">		&#123; expires 1h; &#125;  </span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/05/11/nginx配置详解/" data-id="cjh5njvq5000gzsqxgm7pwuoq" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-centos7__5" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/05/11/centos7__5/" class="article-date">
  <time datetime="2018-05-11T01:00:46.727Z" itemprop="datePublished">2018-05-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#centos7_5</p>
<p>rpm安装</p>
<p>redhat系列的包后缀名为 .rpm，yum安装的也是使用rpm包，只不过yum为你解决了依赖问题，如果你想自己通过rpm指令安装，你需要手动解决依赖关系</p>
<p>安装</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">安装</span><br><span class="line">	rpm -ivh 包名</span><br><span class="line">卸载</span><br><span class="line">	rpm -e 包名</span><br><span class="line">	rpm -e wget<span class="number">-1.12</span><span class="number">-10.</span>el6.x86_64    【不带后缀】</span><br><span class="line">	rpm -e wget</span><br><span class="line">其它选项</span><br><span class="line">	-ql : 查询包安装路径</span><br><span class="line">		rpm -ql wget</span><br><span class="line">	-qa : 列出系统所有的软件</span><br><span class="line">		rpm -qa | grep wget</span><br><span class="line">	-qi : 显示包的详细信息</span><br></pre></td></tr></table></figure>
<p>源码安装(编译安装)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">在linux里面，几乎所有的软件都是c或者c++来编写的，这种语言写的程序，首先得自己编译一下，生成一个可执行文件，然后再执行这个文件</span><br><span class="line">要写编译代码，你得有编译器，在linux里面编译器就是gcc，gcc-c++</span><br><span class="line">yum install -y gcc gcc-c++</span><br><span class="line"></span><br><span class="line">源代码从网上下载，下载下来之后一般都是  .tar.gz  .tar.bz2</span><br><span class="line">源码安装三部曲</span><br><span class="line"><span class="number">1</span>、配置</span><br><span class="line">	./configure [--prefix=安装路径] [--<span class="keyword">with</span>=关联的其它依赖包]</span><br><span class="line"><span class="number">2</span>、编译</span><br><span class="line">	使用里面自带的makefile，   make </span><br><span class="line"><span class="number">3</span>、安装</span><br><span class="line">	make install</span><br><span class="line">安装过程中，查看上一步是否成功，输入 echo $?  输出0表示成功，其它失败</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
<p>2、shell简介</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">shell就是一个命令解释器，将用户输入的指令翻译一下，结果显示给你</span><br><span class="line">两种交互形式</span><br><span class="line"><span class="number">1</span>、指令交互式</span><br><span class="line">	平常学的就是这种格式</span><br><span class="line"><span class="number">2</span>、脚本交互式</span><br><span class="line">	需要写个脚本，然后执行这个脚本即可</span><br><span class="line">	来个简单脚本看看</span><br><span class="line">	shell脚本的后缀  .sh</span><br><span class="line">	开头写这个</span><br><span class="line">	<span class="comment">#!/bin/bash</span></span><br><span class="line">	<span class="comment">#bash是linux默认自带的shell解释器   sh   csh。。。。</span></span><br><span class="line">	</span><br><span class="line">	执行脚本，要分是否在当前目录</span><br><span class="line">	是：  ./test.sh</span><br><span class="line">	否：  /root/test.sh</span><br><span class="line">	</span><br><span class="line">	shell编程</span><br></pre></td></tr></table></figure>
<p>##3、screen</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">在linux中，管理员通常会通过ssh协议远程登录服务器，然后去安装一些软件，执行一些程序等工作，但是有时候安装软件过程非常的长，或者程序就是死循环，这时候管理员什么也做不了，只能干等着，所以出现了screen这个软件，解决了这种问题</span><br><span class="line">安装</span><br><span class="line">	yum install -y screen</span><br><span class="line">使用</span><br><span class="line">	新建会话   screen -S one</span><br><span class="line">	去往会话   screen -r two</span><br><span class="line">	查看会话   screen -ls</span><br><span class="line">	</span><br><span class="line">在new会话中的快捷键(ctrl + a)(现在的支持不是很好)</span><br><span class="line">	退出回话   ctrl + a + d</span><br><span class="line">	新建窗口   ctrl + a + c</span><br><span class="line">	显示所有窗口   ctrl + a + w</span><br><span class="line">	上一个窗口  ctrl + a + p</span><br><span class="line">	下一个窗口  ctrl + a + n</span><br><span class="line">	杀死窗口    ctrl + a + k   (找准那个点)</span><br><span class="line">窗口全部关闭之后，这个会话就会结束	</span><br><span class="line"></span><br><span class="line"><span class="comment">#如何杀死一个已经Detached的screen会话？</span></span><br><span class="line">screen -X -S session_name quit</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/05/11/centos7__5/" data-id="cjh5njvq3000fzsqxlhx4vde9" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-centos7__4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/05/10/centos7__4/" class="article-date">
  <time datetime="2018-05-10T08:53:07.589Z" itemprop="datePublished">2018-05-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#centos7__4</p>
<hr>
<p>(自己研究的范围)</p>
<p>grep后面的正则表达式有三种风格<br>    -E  扩展的正则表达式<br>    -P  perl风格的正则表达式</p>
<p><a href="http://www.cnblogs.com/chengmo/archive/2010/10/10/1847287.html" target="_blank" rel="noopener">http://www.cnblogs.com/chengmo/archive/2010/10/10/1847287.html</a></p>
<p>vmware 关机-&gt;设置-&gt;硬盘-&gt;添加[+]-&gt;新硬盘-&gt;大小自己定-&gt;后面全部默认  </p>
<p>##1.磁盘管理</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">du</span><br><span class="line">	查看当前目录的子目录和文件大小</span><br><span class="line">	-h  以人性化的方式显示大小</span><br><span class="line">df</span><br><span class="line">	显示当前磁盘设备的使用情况</span><br><span class="line">	-h  人性化方式显示大小 </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">磁盘分区</span><br><span class="line">	主分区、扩展分区、逻辑分区</span><br><span class="line">	一个硬盘至少要有一个主分区，系统必须安装到主分区中</span><br><span class="line">	扩展分区，是主分区以外的分区，但是扩展分区不能直接使用，需要将其分成多个逻辑分区，来使用逻辑分区</span><br><span class="line">	主分区最多<span class="number">4</span>个</span><br><span class="line">	扩展分区一般就一个</span><br><span class="line">	逻辑分区可以随便分</span><br><span class="line">给虚拟机添加硬盘，首先关机，给其添加一块硬盘，我加个<span class="number">1</span>G的硬盘</span><br><span class="line">	<span class="number">1</span>、关机</span><br><span class="line">	<span class="number">2</span>、右键设置</span><br><span class="line">	<span class="number">3</span>、点击存储</span><br><span class="line">	<span class="number">4</span>、在你的已有的vdi的下面再添加一个硬盘</span><br><span class="line">		创建新的硬盘</span><br><span class="line">		分配大小</span><br><span class="line">		立即创建</span><br><span class="line">	<span class="number">5</span>、开机</span><br></pre></td></tr></table></figure>
<p>分区</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">开始分区</span><br><span class="line">	fdisk  分区设备</span><br><span class="line">	主分区两个</span><br><span class="line">		/dev/sdb1   <span class="number">200</span>M</span><br><span class="line">		/dev/sdb2   <span class="number">200</span>M</span><br><span class="line">	扩展分区（只能<span class="number">1</span>个）</span><br><span class="line">		/dev/sdb3   <span class="number">600</span>M</span><br><span class="line">	逻辑分区（理论上分无数多个，我们分两个）</span><br><span class="line">		/dev/sdb5   <span class="number">300</span>M</span><br><span class="line">		/dev/sdb6   <span class="number">300</span>M</span><br></pre></td></tr></table></figure>
<p>操作过程</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1.列出挂载点信息</span></span><br><span class="line">df -lh</span><br><span class="line"></span><br><span class="line"><span class="comment">#2.查看硬盘信息，第二个挂载点，应该是sdb</span></span><br><span class="line">fdisk -l</span><br><span class="line"></span><br><span class="line"><span class="comment">#3.对新盘进行分区，新盘的是一个G，那个大小先用500M</span></span><br><span class="line">fdisk /dev/sdb</span><br><span class="line">===========================================</span><br><span class="line">m   查看帮助</span><br><span class="line"><span class="number">1.</span>n   新建分区</span><br><span class="line"><span class="number">2.</span>p   创建主分区</span><br><span class="line"><span class="number">3.</span>默认直接敲回车  (p是主分区，e是扩展分区，l逻辑分区)</span><br><span class="line"><span class="number">4.</span>默认直接敲回车 （主分区和扩展分区：<span class="number">1</span><span class="number">-4</span>）（逻辑分区：<span class="number">5</span>或者以上）</span><br><span class="line"><span class="number">5.</span>默认直接敲回车  （扇形区）	起始</span><br><span class="line">  默认直接敲回车  （扇形区）	结尾</span><br><span class="line"><span class="number">6.</span>p   查看分区信息 这个时候已经创建了好了</span><br><span class="line">   </span><br><span class="line"><span class="number">7.</span>t  选择格式</span><br><span class="line"><span class="number">8.l</span>  查看格式</span><br><span class="line"><span class="number">9.8</span>e    Linux LVM </span><br><span class="line"><span class="number">10.</span>p 在此查看去报改为 LVM</span><br><span class="line"><span class="number">11.</span>w 保存设置</span><br><span class="line">===========================================</span><br><span class="line"></span><br><span class="line"><span class="comment">#3.使用 pvcreate 命令创建物理卷</span></span><br><span class="line">	pvcreate  /dev/sdb1   （--force或-f，有错误提示信息的时候再用</span><br><span class="line">	<span class="comment">#使用pvs打印新创建的物理卷</span></span><br><span class="line">	pvs</span><br><span class="line">	<span class="comment">#查看物理卷信息</span></span><br><span class="line">	pvdisplay </span><br><span class="line">	</span><br><span class="line"><span class="comment">#4.使用 vgextend 命令把/dev/vdc1加入到centos磁盘组</span></span><br><span class="line">	vgextend vg_centos68 /dev/sdb1 </span><br><span class="line">	<span class="comment">#使用 vgdisplay 查看卷组信息，下图显示卷组名为centos，空闲大小为0：</span></span><br><span class="line">	lvdisplay</span><br><span class="line">	</span><br><span class="line"><span class="comment">#5.使用 lvcreate 命令从卷组里划分一个新的逻辑卷，这里创建了名称为hal，大小1000MB的逻辑卷分区；</span></span><br><span class="line">	lvcreate -L <span class="number">1000</span>M -n sdb1 vg_centos68</span><br><span class="line">	<span class="comment">#使用lvdisplay 查看逻辑卷信息：</span></span><br><span class="line">	lvdisplay </span><br><span class="line"></span><br><span class="line"><span class="comment">#####如果VG有未知错误</span></span><br><span class="line"><span class="comment">#vgreduce --removemissing  磁盘组名</span></span><br><span class="line">vgreduce --removemissing vg_centos68</span><br><span class="line">	</span><br><span class="line"><span class="comment">#6.格式化分区</span></span><br><span class="line">	<span class="comment">#将分区格式为你所需要的格式   ext4</span></span><br><span class="line">       <span class="comment">#mkfs.xfs /dev/组名/磁盘的别名</span></span><br><span class="line">	mkfs.xfs /dev/vg_centos68/sdb1</span><br><span class="line">	</span><br><span class="line">	<span class="comment">#挂载分区</span></span><br><span class="line">	mount  /dev/vg_centos68/sdb1 /mnt/dev1</span><br><span class="line">       </span><br><span class="line">	</span><br><span class="line">	<span class="comment">#输入  df -h   查看分区使用信息</span></span><br><span class="line">	</span><br><span class="line"><span class="number">7.</span>设置开机挂载</span><br><span class="line">	vim /etc/fstab</span><br><span class="line">	添加一行</span><br><span class="line">	/dev/vg_centos68/sdb1     /boot     xfs        defaults        <span class="number">0</span> <span class="number">0</span></span><br><span class="line">	设备名         挂载点        系统格式     默认           默认</span><br><span class="line">	</span><br><span class="line">	让配置文件立即生效</span><br><span class="line">	mount -a</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">8.</span>删除分区</span><br><span class="line">	fdisk /dev/sdb</span><br><span class="line">	d  分区号</span><br><span class="line">	挨个删除即可</span><br></pre></td></tr></table></figure>
<p>##2、scp</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">基于ssh协议copy</span><br><span class="line">格式：   scp    源路径   目的路径</span><br><span class="line"><span class="number">10.0</span><span class="number">.142</span><span class="number">.84</span>   root   <span class="number">123456</span></span><br><span class="line"><span class="comment">#上传命令</span></span><br><span class="line">scp demo.txt root@<span class="number">10.0</span><span class="number">.142</span><span class="number">.84</span>:/root/test</span><br><span class="line"></span><br><span class="line"><span class="comment">#下载命令</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#scp 用户名@IP地址：/对方文件路径加名字  /我的文件路径或单个文件名</span></span><br><span class="line"></span><br><span class="line">scp   root@<span class="number">172.16</span><span class="number">.61</span><span class="number">.137</span>:/root/test/demo.txt /root/test/demo.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">拷贝目录的话需要加上 -r</span><br><span class="line"></span><br><span class="line">scp  -r root@<span class="number">172.16</span><span class="number">.61</span><span class="number">.137</span>:/root/test /root/test</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">如果配置了免密码的登录，scp的时候就不用输入密码了</span><br><span class="line"></span><br><span class="line">winscp、flashFXP</span><br><span class="line">	安装一下</span><br><span class="line">	通过这个软件可以将windows里面的东西直接发送给linux</span><br></pre></td></tr></table></figure>
<p>##3、软硬连接<br>为了解决文件共享的问题，以软连接居多（在ll显示详情的时候，在文件类型显示l的字样），硬链接了解.(link)</p>
<p>硬链接</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">指令格式：  ln  源文件  目标文件</span><br><span class="line">相当于给文件起了一个别名，修改其中一个文件，本质上是修改的都是同一个文件，通过ll可以查看硬链接的个数</span><br><span class="line">【注】硬链接不能给目录创建</span><br><span class="line">【注】硬链接创建之后，用户和组信息不变</span><br></pre></td></tr></table></figure>
<p>软连接（常用的  soft）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">就可以理解为windows下面的快捷方式</span><br><span class="line">指令格式：  ln   -s    源文件   目标文件</span><br><span class="line">修改其中一个文件，另外一个也改变</span><br><span class="line">【注】软连接可以给目录创建</span><br><span class="line">【注】当源文件丢失的时候，该软连接就会变成一个死链接，当重新创建了一个和目标文件同名文件的时候，该软连接原地满血复活</span><br><span class="line">【注】新建的软连接，用户和组信息是创建时候的用户和组信息</span><br></pre></td></tr></table></figure>
<p>文件结构：<br>    在linux里面，一个文件有三部分组成，第一部分是文件名（是用户看的），第二部分是索引节点（inode，给linux系统看的），第三部分是文件的内容<br>    区别，详见百鸟朝凤图</p>
<p>##4、压缩解压</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">在linux里面，常见的压缩格式有两种，一种叫gz，一种叫做bz2</span><br><span class="line"></span><br><span class="line">gzip、gunzip </span><br><span class="line">	gzip 文件名</span><br><span class="line">	（<span class="number">1</span>）不保存源文件</span><br><span class="line">	（<span class="number">2</span>）不能打包压缩</span><br><span class="line">	</span><br><span class="line">bzip2、bunzip2</span><br><span class="line">	bzip2 文件名</span><br><span class="line">	（<span class="number">1</span>）不能打包压缩</span><br><span class="line">	-k：保留源文件并且压缩</span><br><span class="line">    </span><br><span class="line">tar（解压和压缩一块承包）</span><br><span class="line">	比gzip和bzip2功能强大的就是打包压缩</span><br><span class="line">	（<span class="number">1</span>）如果使用tar指令对文件进行打包并且使用gzip压缩，那么文件后缀名为.tar.gz</span><br><span class="line">	（<span class="number">2</span>）如果使用tar指令对文件进行打包并且使用bzip2压缩，后缀名为.tar.bz2</span><br><span class="line">	参数：</span><br><span class="line">	-c : 打包文件或者文件夹</span><br><span class="line">	-z ：使用gzip格式进行压缩</span><br><span class="line">	-j : 使用bzip2格式进行压缩</span><br><span class="line">	-f : 放到最后面，来指定压缩后的文件名</span><br><span class="line">	-v : 压缩或者解压缩的时候显示过程</span><br><span class="line">	-x : 解压缩</span><br><span class="line">		</span><br><span class="line"><span class="comment">#bzip2理论上是没有的</span></span><br><span class="line"><span class="comment">#现在yum寻找</span></span><br><span class="line"></span><br><span class="line">yum search bzip2 </span><br><span class="line"></span><br><span class="line">yum install bzip2.x86_64</span><br><span class="line"></span><br><span class="line">yum install gzip.x86_64</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>、打包并且使用gzip压缩和解压</span><br><span class="line">	压缩： tar -zcvf test.tar.gz test <span class="comment">#(test 是要压缩的文件)</span></span><br><span class="line">	解压缩： tar -xvf test.tar.gz</span><br><span class="line"><span class="number">2</span>、打包并且使用bzip2压缩和解压</span><br><span class="line">	压缩： tar -jcvf txt.tar.bz2 *.txt</span><br><span class="line">	解压缩：tar -jxvf txt.tar.bz2</span><br></pre></td></tr></table></figure>
<p>##5、服务和进程</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">linux的用户等级   vim /etc/inittab</span><br><span class="line">	<span class="number">0</span> : 关机模式</span><br><span class="line">	<span class="number">1</span> : 单用户模式</span><br><span class="line">	<span class="number">2</span> : 无网络的多用户模式</span><br><span class="line">	<span class="number">3</span> : 有网络的多用户模式</span><br><span class="line">	<span class="number">4</span> : 保留模式</span><br><span class="line">	<span class="number">5</span> : 带图形界面的多用户模式有网络</span><br><span class="line">	<span class="number">6</span> : 重启模式</span><br><span class="line">切换等级</span><br><span class="line">	init 等级号</span><br><span class="line">	init <span class="number">0</span>      关机</span><br><span class="line">	init <span class="number">6</span>      重启</span><br><span class="line">查看当前等级</span><br><span class="line">	runlevel</span><br><span class="line">	who -r</span><br><span class="line">查看随开机启动的服务</span><br><span class="line">	chkconfig --list</span><br><span class="line">	控制服务的开启与关闭</span><br><span class="line">    iptables <span class="comment">#防火墙</span></span><br><span class="line">		service iptables stop | start | restart | status</span><br><span class="line">		<span class="comment">#/etc/init.d/iptables start</span></span><br><span class="line">        <span class="comment">#yum 默认的安装路径</span></span><br><span class="line">	假如：你现在自己安装了一个软件，是nginx，你想通过service这个指令控制服务的开启与关闭，你需要将nginx的启动脚本放到  /etc/init.d/ 这个文件夹中，并且修改权限</span><br><span class="line">		service nginx restart | start | stop</span><br><span class="line">        <span class="comment">#apache</span></span><br><span class="line">        service httpd  restart | start | stop</span><br><span class="line">	设置开机启动</span><br><span class="line">		chkconfig nginx on   默认这个服务在<span class="number">2345</span>模式开机启动</span><br><span class="line">		chkconfig --level <span class="number">35</span> nginx on  指定模式开机启动</span><br><span class="line">top，可以实时的查看系统的运行状态，尤其是内存的使用情况</span><br><span class="line">	输入大写的M  将进程按照内存利用率排序</span><br><span class="line">	按q退出查看</span><br><span class="line">w，查看当登录该系统的所有用户</span><br><span class="line">free，查看当前系统内存使用情况   -h 以人性化的方式显示</span><br><span class="line">ps，查看进程相关信息</span><br><span class="line">	ps -ef | grep ssh</span><br><span class="line">	ps aux | grep ssh</span><br><span class="line">kill，杀死一个进程，根据进程id号杀死进程</span><br><span class="line">	kill <span class="number">-9</span> 进程id号</span><br><span class="line">	service sshd start</span><br><span class="line">在linux里面，随开机启动的服务，我们称之为守护进程（daemon）</span><br><span class="line">netstat -lnp</span><br></pre></td></tr></table></figure>
<p>top详解</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">第一行：</span><br><span class="line"><span class="number">13</span>:<span class="number">42</span>:<span class="number">59</span> 当前系统时间</span><br><span class="line"><span class="number">6</span> days, <span class="number">9</span>:<span class="number">29</span> 系统已经运行了<span class="number">6</span>天<span class="number">6</span>小时<span class="number">29</span>分钟（在这期间没有重启过）</span><br><span class="line"><span class="number">3</span> users 当前有<span class="number">3</span>个用户登录系统</span><br><span class="line">load average: <span class="number">3.06</span>,<span class="number">3.01</span>, <span class="number">1.79</span> load average后面的三个数分别是<span class="number">1</span>分钟、<span class="number">5</span>分钟、<span class="number">15</span>分钟的负载情况。</span><br><span class="line">load average数据是每隔<span class="number">5</span>秒钟检查一次活跃的进程数，然后按特定算法计算出的数值。如果这个数除以逻辑 CPU的数量，结果高于<span class="number">5</span>的时候就表明系统在超负荷运转了。</span><br><span class="line"></span><br><span class="line">第二行： Tasks 任务（进程）</span><br><span class="line">系统现在共有<span class="number">131</span>个进程，其中处于运行中的有<span class="number">3</span>个，<span class="number">127</span>个在休眠（sleep），stoped状态的有<span class="number">0</span>个，zombie状态（僵尸）的有<span class="number">1</span>个。</span><br><span class="line"></span><br><span class="line">第三行：cpu状态</span><br><span class="line"><span class="number">10.6</span>% us 用户空间占用CPU的百分比。</span><br><span class="line"><span class="number">2.2</span>% sy 内核空间占用CPU的百分比。</span><br><span class="line"><span class="number">0.0</span>% ni 改变过优先级的进程占用CPU的百分比</span><br><span class="line"><span class="number">84.5</span>% id 空闲CPU百分比</span><br><span class="line"><span class="number">2.5</span>% wa IO等待程序占用CPU的百分比</span><br><span class="line"><span class="number">0.1</span>% hi 硬中断（Hardware IRQ）占用CPU的百分比</span><br><span class="line"><span class="number">0.0</span>% si 软中断（Software Interrupts）占用CPU的百分比</span><br><span class="line">在这里CPU的使用比率和windows概念不同，如果你不理解<span class="string">'用户空间'</span>和<span class="string">'内核空间'</span>，需要充充电了。</span><br><span class="line"></span><br><span class="line">第四行：内存状态</span><br><span class="line"><span class="number">8300124</span>k total 物理内存总量（<span class="number">8</span>GB）</span><br><span class="line"><span class="number">5979476</span>k used 使用中的内存总量（<span class="number">5.7</span>GB）</span><br><span class="line"><span class="number">2320648</span>k free 空闲内存总量（<span class="number">2.2</span>G）</span><br><span class="line"><span class="number">455544</span>k buffers 缓存的内存量 （<span class="number">434</span>M）</span><br><span class="line"></span><br><span class="line">第五行：swap交换分区</span><br><span class="line"><span class="number">8193108</span>k total 交换区总量（<span class="number">8</span>GB）</span><br><span class="line"><span class="number">41568</span>k used 使用的交换区总量（<span class="number">40.6</span>M）</span><br><span class="line"><span class="number">8151540</span>k free 空闲交换区总量（<span class="number">8</span>GB）</span><br><span class="line"><span class="number">4217456</span>k cached 缓冲的交换区总量（<span class="number">4</span>GB）</span><br><span class="line"></span><br><span class="line">这里要说明的是不能用windows的内存概念理解这些数据，如果按windows的方式此台服务器危矣：<span class="number">8</span>G的内存总量只剩下<span class="number">530</span>M的可用内存。Linux的内存管理有其特殊性，复杂点需要一本书来说明，这里只是简单说点和我们传统概念（windows）的不同。</span><br><span class="line"></span><br><span class="line">第四行中使用中的内存总量（used）指的是现在系统内核控制的内存数，空闲内存总量（free）是内核还未纳入其管控范围的数量。纳入内核管理的内存不见得都在使用中，还包括过去使用过的现在可以被重复利用的内存，内核并不把这些可被重新使用的内存交还到free中去，因此在linux上free内存会越来越少，但不用为此担心。</span><br><span class="line"></span><br><span class="line">如果出于习惯去计算可用内存数，这里有个近似的计算公式：第四行的free + 第四行的buffers + 第五行的cached，按这个公式此台服务器的可用内存： <span class="number">2320648</span>+<span class="number">455544</span> +<span class="number">4217456</span> = <span class="number">6.6</span>GB。</span><br><span class="line"></span><br><span class="line">对于内存监控，在top里我们要时刻监控第五行swap交换分区的used，如果这个数值在不断的变化，说明内核在不断进行内存和swap的数据交换，这是真正的内存不够用了。</span><br><span class="line"></span><br><span class="line">第六行是空行</span><br><span class="line"></span><br><span class="line">第七行以下：各进程（任务）的状态监控</span><br><span class="line">PID 进程id</span><br><span class="line">USER 进程所有者</span><br><span class="line">PR 进程优先级</span><br><span class="line">NI nice值。负值表示高优先级，正值表示低优先级</span><br><span class="line">VIRT 进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES</span><br><span class="line">RES 进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA</span><br><span class="line">SHR 共享内存大小，单位kb</span><br><span class="line">S 进程状态。D=不可中断的睡眠状态 R=运行 S=睡眠 T=跟踪/停止 Z=僵尸进程</span><br><span class="line">%CPU 上次更新到现在的CPU时间占用百分比</span><br><span class="line">%MEM 进程使用的物理内存百分比</span><br><span class="line">TIME+ 进程使用的CPU时间总计，单位<span class="number">1</span>/<span class="number">100</span>秒</span><br><span class="line">COMMAND 进程名称（命令名/命令行）</span><br></pre></td></tr></table></figure>
<p>##6、下载<br>（1）curl（自带的）<br>    curl -O <a href="https://mirrors.tuna.tsinghua.edu.cn/apache/httpd/httpd-2.2.34.tar.bz2" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/apache/httpd/httpd-2.2.34.tar.bz2</a><br>（2）wget（是一个软件，需要安装）</p>
<pre><code>yum -y install wget

wget 地址
-c：断点续传，通俗的理解，就是下载一半，网络断了，要不要接着上次的继续下载
</code></pre><p>##7、软件安装<br>yum安装</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">说明：</span><br><span class="line">yum是什么，yum就是你电脑上的电脑管家里面的软件管理，就是小米手机里面的应用商店，就是苹果手机appstore，就是一个软件中心</span><br><span class="line">在linux里面，很多软件之间都存在着依赖关系，如果安装软件的依赖关系来安装是一项非常复杂的工作，yum源的出现就很好的解决了这个问题</span><br><span class="line">常见的yum源：</span><br><span class="line">	网易源，清华源，阿里源，搜狐源，中科大源</span><br><span class="line">配置yum源</span><br><span class="line">	<span class="comment">#这是阿里的源</span></span><br><span class="line">	wget http://mirrors.aliyun.com/repo/Centos<span class="number">-7.</span>repo</span><br><span class="line">	cd /etc/yum.repos.d/</span><br><span class="line">	mv CentOS-Base.repo CentOS-Base.repo.back</span><br><span class="line">	curl -O http://mirrors.aliyun.com/repo/Centos<span class="number">-7.</span>repo</span><br><span class="line">	mv Centos<span class="number">-7.</span>repo CentOS-Base.repo</span><br><span class="line">	</span><br><span class="line">	配置好之后</span><br><span class="line">	yum clean all    清空所有</span><br><span class="line">	yum makecache    生成缓存</span><br><span class="line">	yum update       更新yum源</span><br><span class="line">常见yum指令</span><br><span class="line">	yum install -y wget   安装</span><br><span class="line">	yum remove -y wget    卸载</span><br><span class="line">	yum list              显示所有</span><br><span class="line">	yum search vim        搜索</span><br><span class="line">常用选项</span><br><span class="line">	-y   过程全部yes</span><br><span class="line">	--downloadonly   只下载不安装</span><br><span class="line">       <span class="comment">#使用rpm -ivh 包名 安装</span></span><br><span class="line">	--downloaddir    指定下载的目录</span><br><span class="line">	yum install -y --downloadonly --downloaddir=./ wget</span><br></pre></td></tr></table></figure>
<p>rpm安装</p>
<p>yum是依赖rpm的，rpm下载和yum下载几乎一样</p>
<p>源码安装</p>
<p>先下载，在编译安装，一般依赖于gcc和make或者其他的依赖包，较为复杂</p>
<p>oneinstack 安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">Do you want to <span class="built_in">enable</span> iptables? [y/n]: y</span><br><span class="line"></span><br><span class="line">Do you want to install Web server? [y/n]: y</span><br><span class="line"></span><br><span class="line">Please select Nginx server:</span><br><span class="line">	1. Install Nginx</span><br><span class="line">	2. Install Tengine</span><br><span class="line">	3. Install OpenResty</span><br><span class="line">	4. Do not install</span><br><span class="line">Please input a number:(Default 1 press Enter) 1</span><br><span class="line"></span><br><span class="line">Please select Apache server:</span><br><span class="line">	1. Install Apache-2.4</span><br><span class="line">	2. Install Apache-2.2</span><br><span class="line">	3. Do not install</span><br><span class="line">Please input a number:(Default 3 press Enter) 1</span><br><span class="line"></span><br><span class="line">Please select tomcat server:</span><br><span class="line">	1. Install Tomcat-9</span><br><span class="line">	2. Install Tomcat-8</span><br><span class="line">	3. Install Tomcat-7</span><br><span class="line">	4. Install Tomcat-6</span><br><span class="line">	5. Do not install</span><br><span class="line">Please input a number:(Default 5 press Enter) 5</span><br><span class="line"></span><br><span class="line">Do you want to install Database? [y/n]: y</span><br><span class="line"></span><br><span class="line">Please select a version of the Database:</span><br><span class="line">	 1. Install MySQL-8.0</span><br><span class="line">	 2. Install MySQL-5.7</span><br><span class="line">	 3. Install MySQL-5.6</span><br><span class="line">	 4. Install MySQL-5.5</span><br><span class="line">	 5. Install MariaDB-10.2</span><br><span class="line">	 6. Install MariaDB-10.1</span><br><span class="line">	 7. Install MariaDB-10.0</span><br><span class="line">	 8. Install MariaDB-5.5</span><br><span class="line">	 9. Install Percona-5.7</span><br><span class="line">	10. Install Percona-5.6</span><br><span class="line">	11. Install Percona-5.5</span><br><span class="line">	12. Install AliSQL-5.6</span><br><span class="line">	13. Install PostgreSQL</span><br><span class="line">	14. Install MongoDB</span><br><span class="line">Please input a number:(Default 2 press Enter) 2</span><br><span class="line"></span><br><span class="line">Do you want to install redis? [y/n]: y</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/05/10/centos7__4/" data-id="cjh5njvq1000ezsqx0vqpd465" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-centos6.8" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/05/10/centos6.8/" class="article-date">
  <time datetime="2018-05-10T08:53:07.585Z" itemprop="datePublished">2018-05-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#centos6.8</p>
<p>#安装CentOS 6.8</p>
<p>第一步</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;&gt;Install or upgrade an existing system #安装或升级现有的系统</span><br><span class="line"></span><br><span class="line">install system with basic video driver #安装过程中采用基本的显卡驱动</span><br><span class="line"></span><br><span class="line">Rescue installed system #进入系统修复模式</span><br><span class="line"></span><br><span class="line">Boot from local drive #退出安装从硬盘启动</span><br><span class="line"></span><br><span class="line">Memory test #内存检测</span><br></pre></td></tr></table></figure>
<p>第二步</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">这里选择第一项，安装或升级现有的系统，回车。</span><br><span class="line"></span><br><span class="line">出现是否对CD媒体进行测试的提问，这里选择“Skip”跳过测试。</span><br></pre></td></tr></table></figure>
<p>第三步</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">选择NEXT</span><br></pre></td></tr></table></figure>
<p>第四步</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">选择中文</span><br></pre></td></tr></table></figure>
<p>第五步</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">选择键盘</span><br><span class="line">选择美国英语式</span><br></pre></td></tr></table></figure>
<p>第六步</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">选择基本存储设备</span><br></pre></td></tr></table></figure>
<p>第七步</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">是，忽略所有的设备</span><br></pre></td></tr></table></figure>
<p>第八步</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">修改主机名称</span><br></pre></td></tr></table></figure>
<p>第九步</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">选择时区 亚洲上海</span><br></pre></td></tr></table></figure>
<p>第十步</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入root用户密码，至少是六位</span><br><span class="line"></span><br><span class="line"><span class="comment">#如果提示密码过于简单，那么就无论如何都要使用</span></span><br></pre></td></tr></table></figure>
<p>第十一步</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">选择使用所有空间</span><br><span class="line"></span><br><span class="line"><span class="comment">#将修改写入磁盘</span></span><br></pre></td></tr></table></figure>
<p>#配置网卡<br>vim /etc/sysconfig/network-scripts/ifcfg-eth0<br>修改这个文件，将  ONBOOT=no   将no修改为yes</p>
<p>重启网卡<br>service network restart</p>
<p>​    </p>
<p>#配置yum源<br>常见的yum源：<br>网易源，清华源，阿里源，搜狐源，中科大源</p>
<p>配置yum源</p>
<p>cd /etc/yum.repos.d/</p>
<p>mv CentOS-Base.repo CentOS-Base.repo.back</p>
<p>1.curl -O <a href="http://mirrors.aliyun.com/repo/Centos-6.repo" target="_blank" rel="noopener">http://mirrors.aliyun.com/repo/Centos-6.repo</a></p>
<p>2.curl -O <a href="http://mirrors.163.com/.help/CentOS6-Base-163.repo" target="_blank" rel="noopener">http://mirrors.163.com/.help/CentOS6-Base-163.repo</a></p>
<p>mv CentOS6-Base-163.repo CentOS-Base.repo<br>​<br>配置好之后<br>yum clean all    清空所有缓存<br>yum makecache    生成缓存</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/05/10/centos6.8/" data-id="cjh5njvps000bzsqxhyk56bj3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-centos7__3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/05/09/centos7__3/" class="article-date">
  <time datetime="2018-05-09T01:35:24.980Z" itemprop="datePublished">2018-05-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#centos7_3</p>
<hr>
<p>##1、用户和组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">用户</span><br><span class="line">切换用户  su</span><br><span class="line">	root用户切换到普通用户   su ruidong   不用输入密码</span><br><span class="line">	普通用户切换到root用户   su       需要输入密码</span><br><span class="line">	切换完之后，使用exit退出那个用户即可</span><br><span class="line">	whoami   查看当前用户名</span><br><span class="line">	sudo  指令   临时使用root用户执行这条命令，需要输入密码</span><br><span class="line">组</span><br><span class="line"></span><br><span class="line">查看组</span><br><span class="line">cat /etc/group</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">添加</span><br><span class="line">	groupadd  组名</span><br><span class="line">	-g   指定组id</span><br><span class="line">修改</span><br><span class="line">	groupmod</span><br><span class="line">	-g  修改组id</span><br><span class="line">	-n  修改组名   groupmod -n 新名字 旧名字   将tang组名字修改为tangke</span><br><span class="line">删除</span><br><span class="line">	groupdel 组名</span><br><span class="line">	如果一个组是某个用户的主组，那么这个组不允许被删除，你需要首先删除这个用户</span><br><span class="line">	如果一个组是系统自动为用户创建的，那么删除用户的时候会自动将这个同名的组给删除掉</span><br></pre></td></tr></table></figure>
<p>##2、文件权限</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">r：可读		w：可写		x：可执行		-：没有权限</span><br><span class="line">权限的表示法：  </span><br><span class="line">---		<span class="number">000</span>		<span class="number">0</span>    没有权限</span><br><span class="line">--x		<span class="number">001</span>		<span class="number">1</span>    可执行</span><br><span class="line">-w-		<span class="number">010</span>		<span class="number">2</span>    可写</span><br><span class="line">-wx		<span class="number">011</span>		<span class="number">3</span>    可写可执行</span><br><span class="line">r--		<span class="number">100</span>		<span class="number">4</span>    只读</span><br><span class="line">r-x		<span class="number">101</span>		<span class="number">5</span>    可读可执行</span><br><span class="line">rw-		<span class="number">110</span>		<span class="number">6</span>    可读写</span><br><span class="line">rwx		<span class="number">111</span>		<span class="number">7</span>    可读可写可执行</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">该用户的权限        组内用户的权限		组外用户的权限</span><br><span class="line">rwx    				r-x    				r-x</span><br><span class="line"><span class="number">7</span>                   <span class="number">5</span>                   <span class="number">5</span> </span><br><span class="line"></span><br><span class="line">修改权限    chmod</span><br><span class="line">	格式：  chmod   权限   文件路径</span><br><span class="line">	chmod <span class="number">0755</span> <span class="number">1.</span>txt</span><br><span class="line">	<span class="number">7</span>:user</span><br><span class="line">	<span class="number">5</span>:group</span><br><span class="line">	<span class="number">5</span>:other</span><br><span class="line">    <span class="comment">#不推荐使用,毛病多</span></span><br><span class="line">	chmod u+x <span class="number">1.</span>txt</span><br><span class="line">	chmod g-x <span class="number">2.</span>txt</span><br><span class="line">	chmod o+w <span class="number">1.</span>txt</span><br><span class="line">	chmod u-x,g-w,o-w <span class="number">1.</span>txt</span><br><span class="line">	</span><br><span class="line">	chmod -R <span class="number">777</span> test/</span><br><span class="line">	修改目录权限的时候，添加-R选项，递归的修改子文件的权限和该目录权限一致</span><br><span class="line">    </span><br><span class="line">修改用户</span><br><span class="line">	chown  用户名  文件路径</span><br><span class="line">	chown ruidong <span class="number">1.</span>txt             修改用户</span><br><span class="line">	chown ruidong:ruidong <span class="number">1.</span>txt       修改用户和组</span><br><span class="line">	chown :ruidong <span class="number">1.</span>txt            修改组</span><br><span class="line">修改组</span><br><span class="line">	chgrp   组名   文件路径</span><br><span class="line">	chgrp ruidong <span class="number">1.</span>txt             仅仅修改组</span><br><span class="line">umask</span><br><span class="line">	文件的默认权限是   <span class="number">644</span>  （文件默认都没有执行权限）</span><br><span class="line">	目录的默认权限是   <span class="number">755</span></span><br><span class="line">	<span class="number">777</span><span class="number">-022</span> = <span class="number">755</span></span><br><span class="line">	umask就能决定文件或者目录的默认权限是什么</span><br><span class="line">	umask -S  查看默认权限</span><br><span class="line">	如果想修改默认权限</span><br></pre></td></tr></table></figure>
<p>##3、文件搜索</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">find    可以找到你想要的文件</span><br><span class="line">格式：  find [目录] [选项] [选项值]</span><br><span class="line">目录：去哪找，可以不写，默认代表当前目录</span><br><span class="line">选项：怎么找</span><br><span class="line">	&gt;&gt; -name   按照名字找</span><br><span class="line">		可以使用通配符</span><br><span class="line">	-size   按照大小找</span><br><span class="line">		单位为  kmg   <span class="number">10</span>k（等于<span class="number">10</span>k）   +<span class="number">10</span>k（大于<span class="number">10</span>k）   <span class="number">-10</span>k（小于<span class="number">10</span>k）</span><br><span class="line">	-user   按照用户名</span><br><span class="line">	-group  按照组名</span><br><span class="line">	-maxdepth  -mindepth   限制查找的目录层级，默认递归查找所有</span><br><span class="line">	-ctime  按照创建时间查找</span><br><span class="line">		单位是天</span><br><span class="line">选项值：找什么</span><br><span class="line">	find / -name demo.txt</span><br><span class="line">	find / -name \*.txt</span><br><span class="line">	find / -size +<span class="number">10</span>k</span><br><span class="line">	find / -user demo.txt</span><br><span class="line">	find / -group demo.txt</span><br><span class="line">	find / -mindepth <span class="number">4</span> -name \*.txt</span><br><span class="line">	find / -mindepth <span class="number">3</span> -maxdepth <span class="number">5</span> -name \*.txt</span><br></pre></td></tr></table></figure>
<p>##4、文件内容搜索</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">grep   查找的内容   文件路径</span><br><span class="line">grep movie demo.txt</span><br><span class="line">grep that ~/*.txt</span><br><span class="line"></span><br><span class="line">选项</span><br><span class="line">	--color=auto   将颜色高亮显示</span><br><span class="line">		给 grep 指令起一个别名   vi ~/.bashrc</span><br><span class="line">		添加一行     alias grep=<span class="string">'grep --color=auto'</span></span><br><span class="line">		让配置文件立即生效       source ~/.bashrc</span><br><span class="line">	-c         得到内容的个数</span><br><span class="line">	-i         不区分大小写的查找</span><br><span class="line">	-n		   显示在文档中的行号</span><br><span class="line">	-r         递归查找，但是不能限制后缀，只能遍历所有</span><br><span class="line">		grep -r that ~/*</span><br><span class="line">	-l		   只显示文件名，不显示内容</span><br><span class="line">	grep -l 你好 ~/test/*.txt</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">正则表达式进行查找(少用)</span><br><span class="line">	\w(数字字母下划线)   </span><br><span class="line">	\W(除了上面)</span><br><span class="line">	\d(数字)</span><br><span class="line">	\D(非数字)</span><br><span class="line">	.(除了换行符)</span><br><span class="line">	*(任意多个)</span><br><span class="line">	+(至少<span class="number">1</span>个)</span><br><span class="line">	?(0个或者1个)</span><br><span class="line">	te-st@<span class="number">163.</span>com   abc_def@qq.com   lala@sina.cn   benben@meme.net</span><br><span class="line">	</span><br><span class="line">	grep -E .*? demo.txt </span><br><span class="line">	</span><br><span class="line">	-E   使用正则表达式来进行匹配</span><br></pre></td></tr></table></figure>
<p>##5、管道</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">前一个管道的输出是后一个管道的输入</span><br><span class="line">前一个指令的输出是后一个指令的输入</span><br><span class="line">格式：</span><br><span class="line">	指令<span class="number">1</span> | 指令<span class="number">2</span></span><br><span class="line">	指令<span class="number">1</span>的结果作为指令<span class="number">2</span>的输入，然后将指令<span class="number">2</span>的输出显示到屏幕中</span><br><span class="line">常用的管道指令</span><br><span class="line"></span><br><span class="line">	<span class="comment">#ll=select /etc=table  |  less = page</span></span><br><span class="line">	ll /etc | less</span><br><span class="line">	ll /etc | grep sudo   常用格式</span><br><span class="line">	ll /etc | head <span class="number">-10</span> | tail <span class="number">-5</span>   显示前<span class="number">10</span>条的后<span class="number">5</span>条</span><br></pre></td></tr></table></figure>
<p>##6、搭建主机信任</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10.11</span><span class="number">.58</span><span class="number">.35</span></span><br><span class="line">root</span><br><span class="line"><span class="number">123456</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#协议 22</span></span><br><span class="line"><span class="comment">#语法 ssh 帐户@IP地址:端口号(但是,默认的是22,如果端口号被修改过,那么需要带上)</span></span><br><span class="line">ssh root@<span class="number">10.11</span><span class="number">.53</span><span class="number">.58</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#scp上传和下载</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#下载</span></span><br><span class="line"><span class="comment">#语法:scp  帐号@ip:需要下载的文件路径  下载到本地的路径</span></span><br><span class="line">scp username@servername:/path/filename /tmp/local_destination</span><br><span class="line">    </span><br><span class="line"><span class="comment">#上传</span></span><br><span class="line"><span class="comment">#语法:scp 需要上传的文件路径 帐户@IP:上传的路径</span></span><br><span class="line">scp /path/local_filename username@servername:/path  </span><br><span class="line">密码学：加密，解密</span><br><span class="line">rsa 非对称加密</span><br><span class="line">加密和解密的时候，用到一个东西，密钥</span><br><span class="line">加密和解密的时候，密钥是否相同，如果相同，称之为对称加解密，如果不相同，非对称加解密</span><br><span class="line">公钥：公开的，你们都能拿到</span><br><span class="line">私钥：私有的，只有我知道</span><br><span class="line">这一对，成对出现</span><br><span class="line"></span><br><span class="line">ssh免密码登录</span><br><span class="line">主机<span class="number">1</span>通过ssh协议登录主机<span class="number">2</span></span><br><span class="line"><span class="number">1</span>、在主机<span class="number">1</span>上面生成公钥和私钥</span><br><span class="line">	ssh-keygen -t rsa    敲回车生成即可</span><br><span class="line">	在 ~/.ssh 中生成两个文件   id_rsa(私钥)</span><br><span class="line">	</span><br><span class="line">	=====================</span><br><span class="line">Enter file <span class="keyword">in</span> which to save the key (/root/.ssh/id_rsa):    <span class="comment">#显示密钥对的位置</span></span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase): </span><br><span class="line">Enter same passphrase again: </span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /root/.ssh/id_rsa.    <span class="comment">#私钥的位置</span></span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /root/.ssh/id_rsa.pub.   <span class="comment">#公钥的位置</span></span><br><span class="line">The key fingerprint <span class="keyword">is</span>:</span><br><span class="line"><span class="number">64</span>:<span class="number">42</span>:ba:<span class="number">35</span>:e7:fb:<span class="number">4</span>d:cf:<span class="number">6</span>c:ad:e8:d5:df:<span class="number">14</span>:f5:<span class="number">1</span>b </span><br><span class="line">	=====================</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、将公钥粘贴到主机<span class="number">2</span>中</span><br><span class="line"></span><br><span class="line">cd .ssh/;ls</span><br><span class="line"></span><br><span class="line">=========================</span><br><span class="line">id_rsa  id_rsa.pub  known_hosts</span><br><span class="line"></span><br><span class="line"><span class="comment">#把id_rsa.pub文件发送到对方主机上去</span></span><br><span class="line">=========================</span><br><span class="line"></span><br><span class="line">scp id_rsa.pub root@<span class="number">172.16</span><span class="number">.61</span><span class="number">.137</span>:/root/.ssh</span><br><span class="line"><span class="comment">#需要输入密码，显示100%就表示成功了。</span></span><br><span class="line"><span class="comment">#如果对方的主机里面没有.ssh文件夹，那么久手动创建一个</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#本人在root目录操作的,其它人如操作不当,本人一概不负责</span></span><br><span class="line"><span class="comment">#重定向到authorized_keys</span></span><br><span class="line">cat id_rsa.pub &gt;&gt; .ssh/authorized_keys</span><br><span class="line"></span><br><span class="line">rm -f id_rsa.pub</span><br><span class="line"><span class="comment">#把id_rsa.pub写入到authorized_keys文件中</span></span><br><span class="line"></span><br><span class="line">cat authorized_keys</span><br><span class="line"><span class="comment">#查看写入成功没有</span></span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、在主机<span class="number">1</span>再次通过ssh登录实现免密码，免密码传输</span><br></pre></td></tr></table></figure>
<p>##7、重定向</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">标准输入（stdin，键盘就是其标准输入）、标准输出（stdout，屏幕就是标准输出）</span><br><span class="line">输出重定向</span><br><span class="line">	ls &gt; demo.txt   先清空，再写入</span><br><span class="line">	ll &gt;&gt; demo.txt  追加</span><br><span class="line">错误重定向</span><br><span class="line">	将指令错误提示信息写到文件中</span><br><span class="line">	ls <span class="number">100</span> <span class="number">2</span>&gt; error.txt   </span><br><span class="line">	ls <span class="number">300</span> <span class="number">2</span>&gt;&gt; error.txt</span><br><span class="line">输入重定向（不常用）</span><br><span class="line">	linux默认从键盘获取输入</span><br><span class="line">	cat &gt; <span class="number">1.</span>txt</span><br><span class="line">	从键盘获取输入，完毕之后，敲 ctrl+d  结束输入</span><br><span class="line">重定向</span><br><span class="line">	cat &gt; <span class="number">1.</span>txt &lt; <span class="number">2.</span>txt  <span class="comment"># = cat 2.txt &gt; 1.txt</span></span><br></pre></td></tr></table></figure>
<p>##8、挂载</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">挂载是什么意思</span><br><span class="line">windows</span><br><span class="line">买了一电脑，有个硬盘，给硬盘搞了几个分区，然后再电脑中就会冒出几个盘符</span><br><span class="line">	c   d   e   f</span><br><span class="line">u盘   弹出一个盘符  打开这个盘符就是操作这个u盘</span><br><span class="line">linux</span><br><span class="line">没有盘符，只有一个  /  </span><br><span class="line">桌面端，这种弹出盘符操作也已经集成好了</span><br><span class="line">在字符界面，问，盘符如何弹出，需要你手动挂载，挂载就是将linux中的一个目录和你的u盘对应的过程，该目录称之为挂载点，以后你操作这个目录就是操作这个u盘</span><br><span class="line">取消挂载，用完之后，取消挂载即可</span><br><span class="line"></span><br><span class="line">插上u盘</span><br><span class="line">查找设备   fdisk -l</span><br><span class="line">一般第一块盘叫sda 第二块叫sdb 第三块 sdc 以此类推</span><br><span class="line"></span><br><span class="line">	/dev/sda    这是你的第一块硬盘 </span><br><span class="line">		/dev/sda1   第一个分区 </span><br><span class="line">		/dev/sda2   第二个分区 </span><br><span class="line">	/dev/sdb    这是你的第二块硬盘</span><br><span class="line">		/dev/sdb1   第一个分区</span><br><span class="line"></span><br><span class="line"><span class="comment">#普通的fat32可以直接挂载</span></span><br><span class="line"><span class="comment">#ntfs 不能直接挂在</span></span><br><span class="line"><span class="comment">#exfat 不能直接挂载</span></span><br><span class="line">mount</span><br><span class="line"></span><br><span class="line">	格式   mount [参数] 设备 挂载点</span><br><span class="line">	-t   指定格式</span><br><span class="line">		msdos===&gt;fat16</span><br><span class="line">		vfat====&gt;fat32</span><br><span class="line">		nfs=====&gt;网络文件系统格式</span><br><span class="line">		auto====&gt;自动识别</span><br><span class="line">		ntfs====&gt;ntfs</span><br><span class="line">	-o</span><br><span class="line">		iocharset=utf8</span><br><span class="line">	mount -o iocharset=utf8 /dev/sdb1 /mnt/usb</span><br><span class="line">	mount -t vfat -o iocharset=utf8 /dev/sdb1 /mnt/usb/</span><br><span class="line">		</span><br><span class="line">umount</span><br><span class="line">	umount /dev/sdb1 /mnt/usb</span><br><span class="line">	umount /dev/sdb1</span><br><span class="line">	umount /mnt/usb</span><br></pre></td></tr></table></figure>
<p>挂载exFAT格式的优盘</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">需要安装epel库，Nux Dextop库，再安装fuse-exfat和exfat-utils包，即可识别exfat格式。   </span><br><span class="line"></span><br><span class="line">Nux Dextop是类似CentOS、RHEL、ScientificLinux的第三方RPM仓库（比如：Ardour，Shutter等等）。目前，Nux Dextop对CentOS/RHEL <span class="number">6</span>|<span class="number">7</span>可用。</span><br><span class="line"></span><br><span class="line">Nux Dextop库依赖于EPEL库，所有要先安装EPEL库(需要管理员权限)。</span><br><span class="line">如果安装过则跳过。</span><br><span class="line"></span><br><span class="line">yum -y install epel-release</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#对于RHEL/CentOS 7(复制/粘贴):</span></span><br><span class="line">$ rpm -Uvh http://li.nux.ro/download/nux/dextop/el7/x86_64/nux-dextop-release<span class="number">-0</span><span class="number">-5.</span>el7.nux.noarch.rpm</span><br><span class="line"></span><br><span class="line">检查Nux Dextop是否安装成功：</span><br><span class="line">$ yum repolist</span><br><span class="line"></span><br><span class="line">如果仓库列表中有Nux Dextop就安装成功。</span><br><span class="line"></span><br><span class="line">由于Nux Dextop仓库可能会与其他第三方库有冲突，比如（Repoforge和ATrpms）。</span><br><span class="line">所以，建议默认情况下不启用Nux Dextop仓库。</span><br><span class="line"></span><br><span class="line"><span class="comment">#打开vim /etc/yum.repos.d/nux-dextop.repo，将"enabled=1" 修改为 "enabled=0"。</span></span><br><span class="line"></span><br><span class="line">sudo vim /etc/yum.repos.d/nux-dextop.repo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#安装exfat支持库文件</span></span><br><span class="line">yum --enablerepo=nux-dextop  install fuse-exfat exfat-utils -y</span><br><span class="line"></span><br><span class="line"><span class="comment">#现在可以挂载了</span></span><br><span class="line"></span><br><span class="line">mount -o iocharset=utf8 /dev/sdb /mnt/usb</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/05/09/centos7__3/" data-id="cjh5njvpx000dzsqx8h3s98hv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Git" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/05/09/Git/" class="article-date">
  <time datetime="2018-05-09T01:35:24.978Z" itemprop="datePublished">2018-05-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h1><p>版本控制系统,SVN ,GIT</p>
<p>一个项目由多人开发</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SVN不支持多分支 它是本地的仓库,但是,近年它开始做线上分享</span><br><span class="line">GIT支持多分支</span><br><span class="line">GIT的功能更加强大,由于国外的github,国内的 码云,使程序员的代码更加具有开源性.</span><br></pre></td></tr></table></figure>
<p>Git是一款免费、开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目.</p>
<p>可以有效、高速的处理从很小到非常大的项目版本管理。[2]<a href="undefined"> </a> Git 是 Linus Torvalds 为了帮助管理 Linux 内核开发而开发的一个开放源码的版本控制软件。</p>
<p>安装命令</p>
<p>yum -y install git</p>
<h3 id="README-md"><a href="#README-md" class="headerlink" title="README.md"></a>README.md</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">README.md 作用是书写项目的简洁,目录结构,实现的功能,或者可以添加开发团队信息</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#克隆</span></span><br><span class="line">git clone https://gitee.com/ruidong/lyb.git</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">#如果是第一次提交需要绑定你的邮箱和用户昵称</span></span><br><span class="line"><span class="comment">#最少提交一次,下班之前</span></span><br><span class="line">git config --<span class="keyword">global</span> user.name <span class="string">'ruidong'</span></span><br><span class="line">git config --<span class="keyword">global</span> user.email <span class="string">'this_my_email@126.com'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#怎么保持同步</span></span><br><span class="line">写了新文件/更新了文件,需要提交</span><br><span class="line"><span class="comment">#添加到本地缓存系统</span></span><br><span class="line">git add demo.txt  <span class="comment">#添加到单个文件到缓存</span></span><br><span class="line">git add .         <span class="comment">#将所有文件添加到缓存</span></span><br><span class="line"><span class="comment"># 提交到远程git仓库缓存</span></span><br><span class="line">git commit -m <span class="string">'备注信息'</span></span><br><span class="line"><span class="comment">#远程git仓库缓存 -推(更新/提交)</span></span><br><span class="line">git push --all</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#如果别人提交了代码,或者对某个文件进行了修改,并再次提交,你就需要拉取最新的代码</span></span><br><span class="line"><span class="comment">#每天早上开机,git pull</span></span><br><span class="line">git pull</span><br><span class="line"></span><br><span class="line"><span class="comment">#git有个规则</span></span><br><span class="line"><span class="comment">#谁提交的xxx.py,git默认只能由这个人修改,如果是别人修改的,那么会代码冲突.</span></span><br><span class="line"><span class="comment">#冲突的话</span></span><br><span class="line"></span><br><span class="line">demo.py</span><br><span class="line">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span><br><span class="line">print(<span class="number">123</span>)</span><br><span class="line">====================================</span><br><span class="line">print(<span class="number">000123</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#git status 查看状态</span></span><br><span class="line">查看当前代码包状态</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/05/09/Git/" data-id="cjh5njvpn0009zsqx1y94nokv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-python3.6编译安装" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/05/08/python3.6编译安装/" class="article-date">
  <time datetime="2018-05-08T09:05:25.669Z" itemprop="datePublished">2018-05-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="python3-6编译安装"><a href="#python3-6编译安装" class="headerlink" title="python3.6编译安装"></a>python3.6编译安装</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">centos7 的yum源目前支持的python版本是<span class="number">3.5</span>,所以要安装<span class="number">3.6</span>版本只能在官网下载</span><br><span class="line"></span><br><span class="line">yum -y install openssl-devel bzip2-devel expat-devel gdbm-devel readline-devel</span><br><span class="line"></span><br><span class="line"><span class="comment">#wget是网络下载获取的工具</span></span><br><span class="line"></span><br><span class="line">yum -y install wget</span><br><span class="line"></span><br><span class="line">wget https://www.python.org/ftp/python/<span class="number">3.6</span><span class="number">.4</span>/Python<span class="number">-3.6</span><span class="number">.4</span>.tgz</span><br><span class="line"></span><br><span class="line"><span class="comment">#gcc是C语言的编译工具,我们的linux和python或者其它的文件都是由C语言构成的.所以要使用gcc作为依赖包</span></span><br><span class="line">yum -y install  gcc </span><br><span class="line"></span><br><span class="line"><span class="comment">#python的编译依赖</span></span><br><span class="line"></span><br><span class="line">yum -y install zlib zlib-devel </span><br><span class="line"></span><br><span class="line"><span class="comment">#tgz压缩包解压 </span></span><br><span class="line">tar -zxvf Python<span class="number">-3.6</span><span class="number">.4</span>.tgz</span><br><span class="line"></span><br><span class="line">cd  Python<span class="number">-3.6</span><span class="number">.4</span></span><br><span class="line"></span><br><span class="line">把Python3<span class="number">.6</span>安装到 /usr/local 目录</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr/local  --<span class="keyword">with</span>=ssl</span><br><span class="line"></span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">========================================================</span><br><span class="line"></span><br><span class="line">cd /usr/local/bin</span><br><span class="line"></span><br><span class="line">./python3<span class="number">.6</span></span><br><span class="line">./pip3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">yum安装python3</span><br><span class="line">sudo yum install epel-release</span><br><span class="line">sudo yum install python35</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/05/08/python3.6编译安装/" data-id="cjh5njvq9000izsqxzfewo6v1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/blog/page/2/">2</a><a class="page-number" href="/blog/page/3/">3</a><a class="extend next" rel="next" href="/blog/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/04/">April 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2018/05/14/MySQL第二课/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/05/11/Ubuntu/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/05/11/samba/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/05/11/nginx配置详解/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/05/11/centos7__5/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 ZY<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js"></script>



  </div>
</body>
</html>