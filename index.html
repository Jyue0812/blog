<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>ZY</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="ZY">
<meta property="og:url" content="https://jyue0812.github.io/index.html">
<meta property="og:site_name" content="ZY">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ZY">
  
    <link rel="alternate" href="/blog/atom.xml" title="ZY" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/blog/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">ZY</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://jyue0812.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-python3.6编译安装" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/05/08/python3.6编译安装/" class="article-date">
  <time datetime="2018-05-08T06:22:48.019Z" itemprop="datePublished">2018-05-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="python3-6编译安装"><a href="#python3-6编译安装" class="headerlink" title="python3.6编译安装"></a>python3.6编译安装</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">centos7 的yum源目前支持的python版本是<span class="number">3.5</span>,所以要安装<span class="number">3.6</span>版本只能在官网下载</span><br><span class="line"></span><br><span class="line">yum -y install openssl-devel bzip2-devel expat-devel gdbm-devel readline-devel</span><br><span class="line"></span><br><span class="line"><span class="comment">#wget是网络下载获取的工具</span></span><br><span class="line"></span><br><span class="line">yum -y install wget</span><br><span class="line"></span><br><span class="line">wget https://www.python.org/ftp/python/<span class="number">3.6</span><span class="number">.4</span>/Python<span class="number">-3.6</span><span class="number">.4</span>.tgz</span><br><span class="line"></span><br><span class="line"><span class="comment">#gcc是C语言的编译工具,我们的linux和python或者其它的文件都是由C语言构成的.所以要使用gcc作为依赖包</span></span><br><span class="line">yum -y install  gcc </span><br><span class="line"></span><br><span class="line"><span class="comment">#python的编译依赖</span></span><br><span class="line"></span><br><span class="line">yum -y install zlib zlib-devel </span><br><span class="line"></span><br><span class="line"><span class="comment">#tgz压缩包解压 </span></span><br><span class="line">tar -zxvf Python<span class="number">-3.6</span><span class="number">.4</span>.tgz</span><br><span class="line"></span><br><span class="line">cd  Python<span class="number">-3.6</span><span class="number">.4</span></span><br><span class="line"></span><br><span class="line">把Python3<span class="number">.6</span>安装到 /usr/local 目录</span><br><span class="line"></span><br><span class="line">./configure --prefix=/usr/local  --<span class="keyword">with</span>=ssl</span><br><span class="line"></span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line">========================================================</span><br><span class="line"></span><br><span class="line">cd /usr/local/bin</span><br><span class="line"></span><br><span class="line">./python3<span class="number">.6</span></span><br><span class="line">./pip3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">yum安装python3</span><br><span class="line">sudo yum install epel-release</span><br><span class="line">sudo yum install python35</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/05/08/python3.6编译安装/" data-id="cjgxahuof0001fwqxj2nm3pth" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-centos7__2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/05/08/centos7__2/" class="article-date">
  <time datetime="2018-05-08T06:22:48.007Z" itemprop="datePublished">2018-05-08</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#linux_2</p>
<hr>
<p>##1、centos7目录结构</p>
<p>###磁盘分区<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>主分区最多有四个，扩展分区也是一个主分区，扩展分区可以建立逻辑分区。</span><br><span class="line"><span class="number">2.</span>初学者建议：/boot 分区，它是引导分区，<span class="number">300</span><span class="number">-500</span>MB,我们的磁盘比较大就分<span class="number">1024</span>MB。</span><br><span class="line"></span><br><span class="line">swap分区，没有挂载点，大小为内存两倍。</span><br><span class="line"></span><br><span class="line">如何让服务器响应更快？如何避免应用出现内存不足的错误？最简单的方法就是增加交换空间。Swap是存储盘上的一块自留地，操作系统可以在这里暂存一些内存里放不下的东西。</span><br><span class="line"></span><br><span class="line">通过添加swap来解决。</span><br><span class="line"></span><br><span class="line">这从某种程度上相当于增加了服务器的可用内存。虽然从swap读写比内存慢，但总比没有好，就算是作为内存不够时的安全保障。</span><br><span class="line"></span><br><span class="line">如果没有swap，则服务器一旦内存不足，就会开始终止应用以释放内存，甚至会崩溃，这会让你丢失一些还没来得及保存的数据，或者造成宕机。有些应用明确要求系统配置swap以确保数据访问的可靠性。</span><br><span class="line"></span><br><span class="line">但是它也有一个坑：我们在使用云服务器的时候，不推荐使用swap文件。为什么了？</span><br><span class="line"></span><br><span class="line">因为现在大部分的云服务器都是SSD，在SSD上使用swap可能会造成问题，尤其是硬件老化之后。swap通常在传统机械硬盘上表现更好。</span><br></pre></td></tr></table></figure></p>
<p>###目录结构</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">-&gt;  /：根目录，文件的最顶端，/etc、/bin、/dev、/lib、/sbin 应该和根目录放在同一个分区，/usr/local 可以单独放置一个分区</span><br><span class="line"></span><br><span class="line">-&gt; /bin ：存放系统所需要的重要命令，ls，cp，mkdir 等，usr/bin 也存放了一些系统命令，这些命令对应的文件都是可执行的，普通用户可以使用大部分的命令,其实就是一些二进制文件。</span><br><span class="line"></span><br><span class="line">-&gt; /boot：存放Linux启动时内核及引导系统程序所需要的核心文件，内核文件和grub 系统引导管理器都位于此目录</span><br><span class="line"></span><br><span class="line">-&gt; /dev：存放Linux 系统下的设备文件，如光驱，磁盘等。访问该目录下的某个文件相当于访问某个硬件设备，常用的是挂在光驱</span><br><span class="line"></span><br><span class="line">-&gt; /etc：一般存放系统的配置文件，作为一些软件启动时默认配置文件读取的目录，如</span><br><span class="line"></span><br><span class="line">/etc/fstab存放系统分区信息</span><br><span class="line"></span><br><span class="line">-&gt;  /home：系统默认的用户主目录</span><br><span class="line"></span><br><span class="line">/lib：主要存放动态链接库</span><br><span class="line"></span><br><span class="line">/lost+found：存放一些当系统以外崩溃或机器意外关机时产生的文件碎片</span><br><span class="line"></span><br><span class="line">-&gt;  /mnt：用于存放挂载储存设备的挂载目录</span><br><span class="line"></span><br><span class="line">/proc：存放操作系统运行时的运行信息，如进程信息、内核信息、网络信息，如/etc/cpuinfo存放CPU的相关信息。process</span><br><span class="line"></span><br><span class="line">-&gt; /root：Linux超级权限用户的root目录</span><br><span class="line"></span><br><span class="line">/sbin：存放一些系统管理的命令，一般只能由超级权限用户root执行。</span><br><span class="line"></span><br><span class="line">/tmp：临时文件目录，任何人都可以访问。系统软件或用户运行程序如MySQL时产生的临时文件存放到这里，此目录数据需要定期清除。中号数据不可放置在此目录下，此目录空间不宜过小</span><br><span class="line"></span><br><span class="line">-&gt; /usr：应用程序存放目录，如命令、帮助文档等。安装Linux软件包时默认安装到/usr/local目录下</span><br><span class="line"></span><br><span class="line">/var：这个目录的内容经常变动的，/var/log用于存放系统日志，/var/lib存放系统库文件等。</span><br><span class="line"></span><br><span class="line">/sys：目录与/proc类似，是一个虚拟的文件系统，主要记录与系统核心相关的信息，入系统当前已经载入的模块信息等。这个目录实际不占磁盘容量。</span><br><span class="line"></span><br><span class="line">/media	媒体设备，可以挂载一些设备到这里</span><br><span class="line"></span><br><span class="line">/opt	可选的附加程序，有时候一些软件安装的地方</span><br></pre></td></tr></table></figure>
<p>##2.list命令</p>
<p>###ls</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ls : 显示当前目录下所有的文件和文件夹</span><br><span class="line">ls  目录路径  ： 显示指定目录下的文件和文件夹</span><br><span class="line">	常用参数</span><br><span class="line">	-a : 显示目录下所有文件</span><br><span class="line">			linux里面，以点开头的文件都是隐藏文件</span><br><span class="line">	-l : 以列表的形式显示所有文件</span><br><span class="line">	-s ： 以kB显示文件大小</span><br><span class="line">	-R ： 递归的显示目录下面所有的文件</span><br><span class="line">    </span><br><span class="line">ls -ano</span><br></pre></td></tr></table></figure>
<p>###ll</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">ll之后显示的文件详细信息的内容</span><br><span class="line">		第一列：文件的类型</span><br><span class="line">			d：目录</span><br><span class="line">			-：文件</span><br><span class="line">			l：链接</span><br><span class="line">			c：字符设备</span><br><span class="line">			b：块设备</span><br><span class="line">		第二列到第十列：文件的权限</span><br><span class="line">		第十一列：就是一个点，如果开启了selinux，前面就有点，如果没有开启的时候，创建的目录就没有点</span><br><span class="line">		第十二列：</span><br><span class="line">			目录：子目录的个数</span><br><span class="line">			文件：硬链接的个数</span><br><span class="line">		第十三列：该文件属于哪个用户</span><br><span class="line">		第十四列：该文件属于哪个组</span><br><span class="line">		第十五列：文件大小</span><br><span class="line">		第十六列-第十八列：文件的创建时间</span><br><span class="line">		第十九列：文件的名字</span><br></pre></td></tr></table></figure>
<p>##3.vi/vim(编辑器)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">vi：原生自带的</span><br><span class="line">vim：vi的增强版，需要安装: yum install vim -y</span><br><span class="line"></span><br><span class="line">简单使用：</span><br><span class="line">		<span class="number">1</span>、vi  文件名   如果文件不存在，则创建之，如果存在，则打开之</span><br><span class="line">		<span class="number">2</span>、一进来这个界面称之为vi的指令模式</span><br><span class="line">		<span class="number">3</span>、输入小写字母  i（insert）   进入到编辑模式（插入模式）</span><br><span class="line">		<span class="number">4</span>、编辑你的文件</span><br><span class="line">		<span class="number">5</span>、先按一下  esc  ，退出编辑模式到指令模式</span><br><span class="line">		<span class="number">6</span>、输入 :   该冒号为英文冒号，进入到底行模式</span><br><span class="line">		<span class="number">7</span>、输入 wq  保存并退出</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">vim的用法(vi和vim一样)</span><br><span class="line">		指令模式：vi一进来就是该模式</span><br><span class="line">		编辑模式：按i切换到该模式</span><br><span class="line">		底行模式：输入英文冒号进入底行模式</span><br><span class="line">		</span><br><span class="line">		命令模式--&gt;编辑模式</span><br><span class="line">		&gt;i：直接在当前光标处开始编辑</span><br><span class="line">		I：从光标所在行第一个非空字符开始编辑</span><br><span class="line">		&gt;a：在光标后一个开始编辑</span><br><span class="line">		A：在光标所在行的末尾开始编辑</span><br><span class="line">		&gt;o：在光标所在行下一行，另起一行开始编辑</span><br><span class="line">		O：在光标所在行上一行，另起一行开始编辑</span><br><span class="line">		s：删除光标所在字符开始编辑</span><br><span class="line">		S：删除光标所在行开始编辑</span><br><span class="line">		</span><br><span class="line">		命令模式下的快捷键</span><br><span class="line">		gg：光标快速定位到第一行行首</span><br><span class="line">		G：光标快速的定位到末行行首</span><br><span class="line">		ngg：光标快速定位到第n行行首</span><br><span class="line">		&gt;^ : 光标快速定位到该行行首</span><br><span class="line">		&gt;$ : 光标快速定位到该行行尾</span><br><span class="line">		&gt;dd：删除光标所在行</span><br><span class="line">		ndd：删除光标下n行</span><br><span class="line">		&gt;yy：复制光标所在行</span><br><span class="line">		&gt;p：粘贴到光标的下面</span><br><span class="line">		nyy：复制光标下n行</span><br><span class="line">		np：粘贴n次</span><br><span class="line">		&gt;u：撤销到上一次操作   undo</span><br><span class="line">		n0000dd：删除文件所有内容</span><br><span class="line">		ctrl+f ： 下一页   forward</span><br><span class="line">		ctrl+b： 上一页    back</span><br><span class="line">		ctrl+d： 向下翻半页  down</span><br><span class="line">		ctrl+u： 向上翻半页  up</span><br><span class="line">		zt：将光标所在行放到屏幕的最顶部  top</span><br><span class="line">		zb：将光标所在行放到屏幕的最底部  bottom</span><br><span class="line">		zz：将光标所在行放到屏幕正中间    zhongjian</span><br><span class="line">		</span><br><span class="line">		底行模式下的指令</span><br><span class="line">		:set nu  显示行号</span><br><span class="line">		:set nonu  取消显示行号:</span><br><span class="line">		查找字符串</span><br><span class="line">			:/香水   先按enter，然后按n找下一个，按N找上一个   从上往下找</span><br><span class="line">			:?香水   先按enter，然后按n找下一个，按N找上一个   从下往上找 </span><br><span class="line">		字符串替换</span><br><span class="line">			:s/闺蜜/小蜜    将光标所在行的第一个闺蜜替换为小蜜</span><br><span class="line">			:s/闺蜜/小蜜/g  将光标所在行的所有闺蜜替换为小蜜</span><br><span class="line">			:n,s/闺蜜/小蜜  将指定行的第一个闺蜜替换为小蜜</span><br><span class="line">			:n,s/闺蜜/小蜜/g  将指定行的所有闺蜜替换为小蜜</span><br><span class="line">			:%s/闺蜜/小蜜    将每一行的第一个闺蜜替换为小蜜</span><br><span class="line">			:%s/闺蜜/小蜜/g  将每一行的所有闺蜜替换为小蜜</span><br><span class="line">		:wq    保存并退出</span><br><span class="line">		:q     不保存退出</span><br><span class="line">		:q!    不保存，强制退出</span><br><span class="line">		:x     保存并退出</span><br><span class="line">        :wq!   强制保存退出</span><br><span class="line">		shift+zz  保存并退出</span><br><span class="line">		</span><br><span class="line">		简便操作</span><br><span class="line">		vim demo.txt +<span class="number">15</span>   打开文件并且指定到第<span class="number">15</span>行</span><br><span class="line">		vim demo.txt +     打开文件并且指定到尾行</span><br><span class="line">		</span><br><span class="line">		当非法关闭正在编辑的文件的时候，再次打开文件会有提示信息，这个时候不要慌，不要急，敲enter就可以进来，如果想要保存上次写的东西   vi -r <span class="number">1.</span>txt</span><br><span class="line">		将产生的交换文件删除掉   rm <span class="number">.1</span>.txt.swp</span><br><span class="line">		</span><br><span class="line">		vim的配置文件</span><br><span class="line">			vim /etc/vimrc</span><br><span class="line">			</span><br><span class="line">		添加永久显示行号</span><br><span class="line">			vim /etc/vimrc +</span><br><span class="line">			</span><br><span class="line">			在最后一行添加：set number </span><br><span class="line">			</span><br><span class="line">			然后:wq</span><br></pre></td></tr></table></figure>
<p>###4.文件相关指令</p>
<p>####创建<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">文件</span><br><span class="line">	vim 文件路径   不存在就会创建</span><br><span class="line">	touch 文件路径</span><br><span class="line">目录</span><br><span class="line">	mkdir  路径（绝对或者相对都行）</span><br><span class="line">	-p     递归的创建目录，中间目录也创建</span><br><span class="line">    </span><br><span class="line">    yum -y intsall tree</span><br><span class="line">    <span class="comment">#tree . 可以查看树状目录结构图</span></span><br></pre></td></tr></table></figure></p>
<p>####删除</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">文件</span><br><span class="line">	rm 文件路径</span><br><span class="line">	rm -f 文件路径    强制删除不提示</span><br><span class="line">	【友情提醒】rm之后，永远无法找到，使用rm且行且珍惜</span><br><span class="line">	rm *.txt        删除所有的txt文件</span><br><span class="line">	rm *            删除所有文件</span><br><span class="line">目录</span><br><span class="line">	rmdir 目录路径    只能删除空目录</span><br><span class="line">	rm -rf 目录路径   递归的删除非空目录</span><br></pre></td></tr></table></figure>
<p>####移动</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">文件和目录是一样</span><br><span class="line">mv 源路径（绝对、相对） 目的路径（绝对、相对）</span><br><span class="line">mv test/demo.txt   test1/demo1.txt</span><br><span class="line"><span class="comment">#把test/demo.txt移动到test1/demo1.txt(改名为demo1.txt)</span></span><br><span class="line">移动的时候可以修改名字   mv <span class="number">4.</span>mp3 <span class="number">1.</span>txt</span><br></pre></td></tr></table></figure>
<p>####拷贝</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">文件</span><br><span class="line">	cp   源地址（绝对、相对）  目标地址（绝对、相对）</span><br><span class="line">	拷贝的时候可以修改名字</span><br><span class="line">目录</span><br><span class="line">	cp  -r  源地址（绝对、相对）  目标地址（绝对、相对）</span><br></pre></td></tr></table></figure>
<p>####查看</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">cat 文件名</span><br><span class="line">	-n 查看的时候显示行号</span><br><span class="line">tac 文件名    倒着看文件</span><br><span class="line">head 文件名   默认显示前<span class="number">10</span>行</span><br><span class="line">	-n   指定显示几行</span><br><span class="line">tail 文件名   默认显示后<span class="number">10</span>行</span><br><span class="line">	-n   指定显示几行</span><br><span class="line"></span><br><span class="line">文件比较大的时候，使用cat查看非常不方便，这个时候我们使用more</span><br><span class="line">more 文件名</span><br><span class="line">	敲enter键往下走一行，敲空格键，往下走一页</span><br><span class="line">	回不去，只能往下看</span><br><span class="line">	如果不想看了，q退出</span><br><span class="line">less 文件名</span><br><span class="line">	敲enter键往下走一行，敲空格键，往下走一页</span><br><span class="line">	可以向上翻页，键盘上的pageup，pagedown</span><br><span class="line">	输入 /丈母娘   可以查找内容</span><br><span class="line">wc 文件名</span><br><span class="line">	行数   字节数   文件名</span><br><span class="line">往文件中写内容</span><br><span class="line">	echo 内容&gt;<span class="number">1.</span>txt    先清空文件的内容，然后再写入</span><br><span class="line">	echo 内容&gt;&gt;<span class="number">1.</span>txt   追加内容</span><br></pre></td></tr></table></figure>
<p>####5、文件系统<br>文件系统就是文件管理系统的简称，它规定了数据的存储方式和读取方式，不同的文件系统存储和读取方式不同，不同的文件系统存的大小也都不一样</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">常见的文件系统</span><br><span class="line">windows</span><br><span class="line">	fat</span><br><span class="line">		fat16</span><br><span class="line">		fat32   目前很多u盘就是这个格式，存储的单个文件最大为<span class="number">4</span>G</span><br><span class="line">	ntfs</span><br><span class="line">		windows系统默认的文件系统格式，到mac电脑上只读，在mac上装一个插件，插件收费的</span><br><span class="line">	exfat</span><br><span class="line">		fat64，mac下和windows下都能读写</span><br><span class="line">        如果不弹出,每次都要修复,不修复没什么大事,有可能MAC独步出来了</span><br><span class="line">linux</span><br><span class="line">	ext2</span><br><span class="line">	ext3</span><br><span class="line">	ext4   主流这个</span><br><span class="line">    xfs    默认</span><br><span class="line">mac</span><br><span class="line">	hfs</span><br><span class="line">	hfs+</span><br><span class="line">	apfs</span><br></pre></td></tr></table></figure>
<p>####6、用户和组</p>
<p>用户和组之间的关系<br>一个用户能不能属于多个组，可以<br>一个组能不能有多个用户，必须可以</p>
<p>[注]一个用户必须要有与之对应的一个主组</p>
<p>用户:</p>
<p>创建</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">useradd 用户名</span><br><span class="line">cat /etc/passwd</span><br><span class="line">在创建用户的时候，如果没有指定这个用户的主组，那么系统会自动的为这个用户创建一个和用户名一样的组作为该用户的主组（一般都不指定）</span><br><span class="line">-g   指定主组，组名或者组id</span><br><span class="line">-u   指定用户id    一般不指定</span><br><span class="line">-d   指定家目录    一般不指定</span><br><span class="line">给用户添加密码</span><br><span class="line">	passwd 用户名</span><br><span class="line">	在root下面，你可以修改其它用户的密码</span><br><span class="line">	但是在普通用户下面，只能修改自己的密码，不能别的用户的密码</span><br></pre></td></tr></table></figure>
<p>修改</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">usermod</span><br><span class="line">-g(修改主组)  -u(修改用户id)  -l(修改用户名)  -d(修改家目录)</span><br><span class="line"></span><br><span class="line">usermod -l 新名字 原来的用户名</span><br><span class="line"></span><br><span class="line">修改了用户名-&gt;就要修改家目录-&gt;修改/home下面的原来用户文件夹</span><br></pre></td></tr></table></figure>
<p>删除</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">userdel  用户名   仅仅删除用户信息，不删除家目录h</span><br><span class="line">-r                同时删除家目录</span><br><span class="line">【注】同时删除的家目录必须符合和用户名的名字一模一样才行，而且删除的时候，会一并将和用户名相同的组一块删除掉</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/05/08/centos7__2/" data-id="cjgxahuo50000fwqxnwp6snpi" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-centos7__1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/05/07/centos7__1/" class="article-date">
  <time datetime="2018-05-07T02:23:14.447Z" itemprop="datePublished">2018-05-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#centos7_1</p>
<hr>
<p>##简述</p>
<p>1991年，芬兰的一个研究生linus trovslds（李纳斯脱袜子）购买了自己的第一台电脑，并且决定开始开发自己的操作系统。这个想法非常的偶然，最初只是为了满足自己读写新闻和邮件的需求。他选择了minix作为自己的研究对象。而minix是一个开放的模型操作系统。最终取名为 linux（linus 的 minix），最终在全世界形成了巨大的回响。</p>
<p>优点</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">1</span>、开源免费</span><br><span class="line"><span class="number">2</span>、多用户、多任务</span><br><span class="line"><span class="number">3</span>、良好的界面（图形化界面、字符界面）</span><br><span class="line">	Ubuntu、deepin(中国开发的)</span><br></pre></td></tr></table></figure>
<p>版本号说明</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">输入指令查看   uname -r</span><br><span class="line"><span class="number">2.6</span><span class="number">.32</span><span class="number">-642.</span>el6.x86_64</span><br><span class="line">linux的内核版本分为两种：一种叫做开发版，一种是稳定版</span><br><span class="line"><span class="number">2</span>：内核主版本</span><br><span class="line"><span class="number">6</span>：奇数代表开发版，偶数代表稳定版，小版本号</span><br><span class="line"><span class="number">32</span>：该版本修复的次数</span><br></pre></td></tr></table></figure>
<p>发行版本</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">常见的linux系统，只要是基于linux内核的系统都称之为linux的发行版本</span><br><span class="line">发行版本有很多，不同的发行版本基本指令都是一样的，软件安装方式不一样</span><br><span class="line">Debian（大便系列）</span><br><span class="line">Gentoo（贱兔系列）</span><br><span class="line">Ubuntu（乌班图），是大便系列的衍生版</span><br><span class="line">RedHat（红帽系列）</span><br><span class="line">CentOS  是红帽系列的发行版本</span><br></pre></td></tr></table></figure>
<p>##安装系统</p>
<p>首先在下载centos7.2之前，我们需要一个容器，我们使用VMware，我们使用破解版。</p>
<p>vmware是收费的，但是我们使用的是破解版的。</p>
<p>打开VMware</p>
<p>点击创建虚拟机 -&gt; 选择自定义 -&gt; 下一步 -&gt; 稍后安装操作系统 -&gt; 点击Linux 选择CentOS 64位 -&gt; 名字自己取 位置自己选 -&gt; 处理器核心数量1核就够了 -&gt; 内存1024MB -&gt; 使用桥接网络 -&gt; 下一步 -&gt; 下一步 -&gt; 下一步 -&gt; 磁盘大小自己分配   将磁盘存储为单个文件 -&gt; 下一步 -&gt; 完成</p>
<p>现在centOS的容器就创建完毕了</p>
<p>右键选择容器的设置-&gt;找到CD/DVD-&gt;选择 使用ISO映像文件 然后找到.iso文件就可以了。</p>
<p>然后就可以点击开机就可以安装了。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">开机以后直接选择install centos <span class="number">7</span></span><br><span class="line"></span><br><span class="line">test this media &amp; install centos <span class="number">7</span>是先测试镜像有误错误在安装</span><br><span class="line"></span><br><span class="line">Troubleshoopting 是用来测试内存和启动救援模式修复已经存在的centos。</span><br><span class="line"></span><br><span class="line">随后进入到了语言选择的界面：选择中文提示，点击<span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">安装程序需要用户设置信息分为三个部分：本地化、软件和系统，完成这些配置可以继续安装</span><br><span class="line"></span><br><span class="line">时区 我们使用默认的 亚洲/上海 </span><br><span class="line">键盘 就是汉语</span><br><span class="line">语言 中文</span><br><span class="line"></span><br><span class="line">注意：即使是英文作为默认语言，也因该安装中文支持，否则一些中文文件无法正常的去显示。</span><br><span class="line"></span><br><span class="line">最小安装只安装系统最基本的组件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">安装位置：</span><br><span class="line">我们默认只有一个硬盘区域，我们在网络开启后，可以选择添加硬盘来增加额外的存储空间。</span><br><span class="line"></span><br><span class="line">最后在其它存储选项中，可以选择手动分区和系统是否加密。选择“我要配置分区”然后点击完成。</span><br><span class="line"></span><br><span class="line">这个时候会进入到手动分区的页面。</span><br><span class="line"></span><br><span class="line">点击下方的“+”添加分区</span><br><span class="line"></span><br><span class="line">第一项挂载点就是系统目录。第二项是期望容量，这里的默认单位是MB，你也可以写<span class="number">2</span>GB、<span class="number">100</span>MB。</span><br><span class="line"></span><br><span class="line">依次添加挂载点为“/boot”的引导分区，空间为<span class="number">1024</span>MB。</span><br><span class="line">载点为“swap”，分<span class="number">2</span>GB。</span><br><span class="line">最后一个挂载点“/”，不写默认把剩下的空间全部分配过去。</span><br><span class="line"></span><br><span class="line">然后点击完成 接受更改</span><br><span class="line"></span><br><span class="line">最后我们配置网络和主机名</span><br><span class="line"></span><br><span class="line">点击进去以后看到“eno16777736”的网卡是关闭状态的,将它打开</span><br><span class="line"></span><br><span class="line">在左下角看到“localhost.localdomain”，我将主机名改成我自己的名字</span><br><span class="line"></span><br><span class="line">如果网络还需要配置IP地址信息的，可以单点配置按钮，在弹出的窗口中选着“IPV4设置”，可以看到系统默认使用DHCP的方式自动回去IP地址。</span><br><span class="line"></span><br><span class="line">如果需要设置IP地址可以在方法中选择手动，然后添加相应的IP、子网掩码和网关。DNS服务器地址应该填写在“附加DNS服务区”选项中，如果有多个DNS需要使用逗号割开。点击完成。</span><br><span class="line"></span><br><span class="line">确认无误以后点击“开始安装”</span><br><span class="line"></span><br><span class="line">然后可以看见root密码。root用户通常称为根用户，在linux系统中拥有最高权限。root密码一般要设置安全级别高一些的。</span><br><span class="line"></span><br><span class="line">由于root用户的权限太高，分给每一个管理员的时候，可能会出现一些不必要的问题和麻烦。</span><br><span class="line"></span><br><span class="line">点击创建用户，输入用户名和密码，我们现在是学习阶段，可以分配管理员权限。一般不给管理员权限，必要的时候向root用户申请权限。</span><br><span class="line"></span><br><span class="line">安装完毕以后点击重启</span><br></pre></td></tr></table></figure>
<p>##为什么使用CentOS7了？和6版本有什么不同</p>
<p>centos7与6之间最大的差别就是初始化技术的不同，7采用的初始化技术是Systemd,并行的运行方式，除了这一点之外，服务启动、开机启动文件、网络命令方面等等，都说6有所不同。让我们先来了解一下系统初始化技术的演变过程。</p>
<p>###1.系统初始化技术<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Sysvinit技术</span><br><span class="line">Upstart技术</span><br><span class="line">Systemd技术</span><br><span class="line"></span><br><span class="line">Sysvinit技术</span><br><span class="line"></span><br><span class="line">特点：</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>系统第<span class="number">1</span>个进程为init;</span><br><span class="line"><span class="number">2.</span>init进程是所有进程的父进程，不可kill；</span><br><span class="line"><span class="number">3.</span>大多数Linux发行版的init系统是和SystemV相兼容的，被称为sysvinit</span><br><span class="line"><span class="number">4.</span>代表系统：CentOS5 CentOS6</span><br><span class="line"></span><br><span class="line">优点：</span><br><span class="line"></span><br><span class="line">sysvinit运行非常良好，概念简单清晰。它主要依赖于shell脚本。</span><br><span class="line"></span><br><span class="line">缺点：</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>按照一定顺序执行——&gt;启动太慢。</span><br><span class="line"><span class="number">2.</span>很容易hang住，fstab与nfs挂载问题</span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Upstart技术</span><br><span class="line"></span><br><span class="line">CentOS6采用了upstart技术代替sysVinit进行引导，Upstart对rc.sysinit脚本做了大量的优化，缩短了系统初始化的启动时间。但是CentOS6为了简便管理员的操作，upstart的很多特性并没有凸显或直接不支持。</span><br></pre></td></tr></table></figure>
<p>代表系统：CentOS6, Ubuntu14, 从CentOS7, Ubuntu15开始使用systemd</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Systemd技术</span><br><span class="line"></span><br><span class="line">新系统都会采用的技术（RedHat7,CentOS7,Ubuntu15等）；</span><br><span class="line">设计目标是克服sysvinit固有的缺点，提高系统的启动速度；</span><br><span class="line">和Sysvinit兼容，降低迁移成本；</span><br><span class="line">最主要优点：并行启动</span><br><span class="line">Pid为<span class="number">1</span>的进程</span><br></pre></td></tr></table></figure>
<p>###2.在yum源上的优化</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在centos6的时候，默认是从官方源下载rpm包的，由于是国外的yum源很慢不能用，CentOS7在这里做了优化，当我们使用yum安装软件的时候，默认不会再从官方下载，而是自动寻找离自己地理位置最近的yum源开始下载。</span><br></pre></td></tr></table></figure>
<p>###3.命令</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">如果在安装系统的时候选择minimal，会比之前<span class="number">6</span>的时候以更小的包来安装，比如：vim、ifconfig、route、setup、netstat等等很多命令都没有了。。在安装系统后可加入以下软件包：</span><br><span class="line"></span><br><span class="line">yum install lrzsz tree net-tools nmap vim bash-completion lsof dos2unix nc telnet ntp wget rng-tools psmisc screen -y</span><br></pre></td></tr></table></figure>
<p>比如ifconfig是查看网卡信息的，centos7中没有，那么我们使用yum安装<code>net-tools</code>来提供一些网络的命令。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">bash-completion 自动命令补全的工具</span><br><span class="line"></span><br><span class="line">psmisc 这个包含有killall命令。</span><br><span class="line"> </span><br><span class="line">screen 可以新建一个窗口，把任务放在后台运行。</span><br><span class="line"></span><br><span class="line">rng-tools   生成随机数嫡池的一个工具，有了这个工具tomcat 启动会变得非常快</span><br><span class="line"></span><br><span class="line">lrzsz 支持windowns平台的上传下载linux。在windowns远程连接工具上可以使用。</span><br></pre></td></tr></table></figure>
<p>###4.字符集修改</p>
<p>centos6的时候修改字符集：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/locale.conf  <span class="comment">#字符集配置文件</span></span><br><span class="line">localectl set-locale LANG=zh_CN.UTF<span class="number">-8</span></span><br></pre></td></tr></table></figure>
<p>而centos7只需要一行命令搞定</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">localectl set-locale LANG=zh_CN.UTF<span class="number">-8</span></span><br><span class="line"></span><br><span class="line">localectl status</span><br></pre></td></tr></table></figure>
<p>###5.开机启动管理</p>
<p>centos6依靠<code>/etc/rc.local</code>对开机启动进行管理的，但是这个文件的权限是开放的。</p>
<p>而centos7</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">/etc/rc.local  <span class="comment"># 这个文件还是存在，不过如果我们还想继续使用这种方式需要给它加执行权限chmod +x /etc/rc.d/rc.local</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># system一统天下 snapshot(支持快照)</span></span><br><span class="line"></span><br><span class="line">systemctl status cron.service <span class="comment">#查看定时任务状态</span></span><br><span class="line">systemctl stop cron.service   <span class="comment">#关闭定时任务</span></span><br><span class="line">systemctl status cron.service  <span class="comment">#查看操作情况</span></span><br><span class="line">systemctl  list-unit-files|grep enable  <span class="comment">#查看当前正在运行的服务</span></span><br><span class="line">systemctl   disable postfix.service <span class="comment">#关闭邮件服务</span></span><br><span class="line">systemctl  list-unit-files|grep postfix <span class="comment">#查看邮件服务是否开启</span></span><br><span class="line">systemctl stop firewalld.service <span class="comment">#关闭防火墙</span></span><br><span class="line">systemctl  <span class="keyword">is</span>-enable <span class="comment">#开启的服务 </span></span><br><span class="line">systemctl  disable   <span class="comment">#关闭的服务</span></span><br></pre></td></tr></table></figure>
<p>centos7 通过/etc/rc.d/rc.local/开机自启动</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">centos7中/etc/rc.d/rc.local需要执行如下命令赋予可执行权限</span><br><span class="line">chmod +x /etc/rc.d/rc.local</span><br></pre></td></tr></table></figure>
<p>###6.运行级别runlevel</p>
<p>centos6   “/etc/inittab” 在centos7中是无效的。</p>
<p>centos7  system target 替代 了inittab</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##永久生效下次登录生效</span></span><br><span class="line">systemctl get-default graphical.target 切换到<span class="number">5</span></span><br><span class="line">systemctl get-default multi-user.target 切换到<span class="number">3</span></span><br><span class="line"><span class="comment">##临时生效的话 </span></span><br><span class="line">init3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#查看运行级别</span></span><br><span class="line">ls -lh /usr/lib/systemd/system/runlevel*.target</span><br></pre></td></tr></table></figure>
<p>运行级别（Runlevel）指的是Unix或者Linux等类Unix操作系统下不同的运行模式。运行级别通常分为7等，分别是从0到6，但如果必要的话也可以更多。</p>
<p>例如在大多数linux操作系统下一共有如下6个典型的运行级别：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> 停机</span><br><span class="line"><span class="number">1</span> 单用户，Does <span class="keyword">not</span> configure network interfaces, start daemons, <span class="keyword">or</span> allow non-root logins</span><br><span class="line"><span class="number">2</span> 多用户，无网络连接 Does <span class="keyword">not</span> configure network interfaces <span class="keyword">or</span> start daemons</span><br><span class="line"><span class="number">3</span> 多用户，启动网络连接 Starts the system normally.</span><br><span class="line"><span class="number">4</span> 用户自定义</span><br><span class="line"><span class="number">5</span> 多用户带图形界面</span><br><span class="line"><span class="number">6</span> 重启</span><br></pre></td></tr></table></figure>
<p>##ssh进行访问<br>windows下安装xshell来进行可以远程访问。</p>
<p>而mac 是用ssh命令 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ssh 用户名@ip地址:端口号</span><br><span class="line"></span><br><span class="line">默认的端口号<span class="number">22</span>可以不写</span><br><span class="line">ssh root@<span class="number">172.11</span><span class="number">.11</span><span class="number">.96</span></span><br></pre></td></tr></table></figure>
<p>首先我们先下载‘net-tools’，这样可以使用ifconfig查看网卡信息，它的作用和DOS命令ipconfig一样。</p>
<p>下载完成以后输入：ifconfig</p>
<p>然后可以找到你的ip地址</p>
<p>如果ssh链接被拒绝：</p>
<p>1.验证openssh-server<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">首先，要确保CentOS7安装了  openssh-server，在终端中输入</span><br><span class="line"></span><br><span class="line">yum list installed | grep openssh-server</span><br><span class="line"></span><br><span class="line">如果出现了结果那么表示已经安装</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">没有安装输入</span><br><span class="line"></span><br><span class="line">yum install openssh-server -y</span><br></pre></td></tr></table></figure></p>
<p>2.配置你的ssh文件</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">找到了  /etc/ssh/  目录下的sshd服务配置文件 sshd_config，用Vim编辑器打开</span><br><span class="line"></span><br><span class="line">如果没有vim编辑器那么执行：</span><br><span class="line"></span><br><span class="line">yum install vim -y</span><br><span class="line"></span><br><span class="line">vim编辑器比vi编辑器增加了颜色识别</span><br><span class="line"></span><br><span class="line">vim /etc/ssh/sshd_config</span><br><span class="line"></span><br><span class="line">直接输入/Port </span><br><span class="line"></span><br><span class="line">可以看见：</span><br><span class="line">================</span><br><span class="line"><span class="number">1.</span>将文件中，关于监听端口、监听地址前的 <span class="comment"># 号去除</span></span><br><span class="line"></span><br><span class="line">Port <span class="number">22</span></span><br><span class="line"><span class="comment">#AddressFamily any</span></span><br><span class="line">ListenAddress <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span> <span class="comment">#任意地址</span></span><br><span class="line">ListenAddress ::</span><br><span class="line">================</span><br><span class="line">去上面<span class="number">3</span>行的注释</span><br><span class="line"></span><br><span class="line">要想编辑的话需要按键盘i，代表insert，取消输入按esc</span><br><span class="line"></span><br><span class="line">================</span><br><span class="line"><span class="number">2.</span>然后开启允许远程登录</span><br><span class="line">PermitRootLogin yes</span><br><span class="line">================</span><br><span class="line"></span><br><span class="line">================</span><br><span class="line"><span class="number">3.</span>开启使用用户名密码来作为连接验证</span><br><span class="line">PasswordAuthentication yes</span><br><span class="line">================</span><br><span class="line"></span><br><span class="line">最后保证在取消输入的状态下</span><br><span class="line">输入</span><br><span class="line">================</span><br><span class="line">：wq! </span><br><span class="line">================</span><br><span class="line">代表强制保存退出</span><br><span class="line"></span><br><span class="line">配置完成后需要重新启动一下sshd服务</span><br><span class="line"></span><br><span class="line">开启  sshd  服务，输入 sudo service sshd start</span><br><span class="line">检查  sshd  服务是否已经开启，输入ps -e | grep sshd</span><br><span class="line">或者输入netstat -an | grep <span class="number">22</span>  检查  <span class="number">22</span> 号端口是否开启监听</span><br></pre></td></tr></table></figure>
<p>##简单操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">ifconfig    查看ip地址</span><br><span class="line">		ping  ip地址     用来测试网络是否联通</span><br><span class="line">			通过ctrl + c 来停止这个进程</span><br><span class="line">		ls </span><br><span class="line">			显示当前文件夹（目录）下面的所有文件</span><br><span class="line">		pwd</span><br><span class="line">			显示当前目录的路径</span><br><span class="line">			根目录   /</span><br><span class="line">		cd   目录的路径</span><br><span class="line">			切换到指定目录</span><br><span class="line">		绝对路径、相对路径</span><br><span class="line">			绝对路径：相对于根目录的路径</span><br><span class="line">			相对路径：相对于当前目录的路径</span><br><span class="line">			.       : 代表的就是当前目录</span><br><span class="line">			..      ：代表的就是上一级目录</span><br><span class="line">			cd      : 直接来到家目录下面</span><br><span class="line">			cd -    : 回到之前的目录（回看）</span><br><span class="line">		[root@localhost /]<span class="comment">#</span></span><br><span class="line">			root：当前用户名</span><br><span class="line">			localhost：主机名</span><br><span class="line">			/：   当前所在目录</span><br><span class="line">			<span class="comment">#：   代表超级管理员在执行指令</span></span><br><span class="line">			$:    代表普通管理员在执行指令</span><br><span class="line">		拍快照（恢复到快照）</span><br><span class="line">			纯净水系统</span><br><span class="line">		tab键（自动补全）</span><br><span class="line">			指令和路径都可以自动补全</span><br><span class="line">			</span><br><span class="line">		clear 清理屏幕</span><br><span class="line">	目录：</span><br><span class="line">			/：根目录</span><br><span class="line">		~	: 家目录（就是你可以肆意妄为的地方）</span><br><span class="line">			linux每一个用户都有一个家目录，那意思就是说你这个用户在你的家目录下面拥有至高无上的权限</span><br><span class="line">			root的家目录就在   /root</span><br><span class="line">			普通用户的家目录在   /home/ruidong   </span><br><span class="line">		. 	：当前目录</span><br><span class="line">		..  ：上一级目录    cd ../../（上一级的上一级）</span><br></pre></td></tr></table></figure>
<p>##指令</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">关机：poweroff   halt   </span><br><span class="line">		shutdown  now</span><br><span class="line">		shutdown -h +<span class="number">5</span>   <span class="string">'woyaoguanjile'</span>    <span class="number">5</span>分钟之后关机</span><br><span class="line">		shutdown -h <span class="number">16</span>:<span class="number">10</span>    下午<span class="number">4</span>点<span class="number">10</span>分关机</span><br><span class="line">	重启：reboot   </span><br><span class="line">		shutdown -r now</span><br><span class="line">	date</span><br><span class="line">		查看当前时间日期</span><br><span class="line">	cal</span><br><span class="line">		查看当月日历</span><br><span class="line">		cal <span class="number">8</span> <span class="number">2017</span>   查看<span class="number">2017</span>年<span class="number">8</span>月的日历</span><br><span class="line">		cal <span class="number">2017</span>     查看<span class="number">2017</span>年所有的日历</span><br><span class="line">	上下方向按键</span><br><span class="line">		快速的调出历史指令</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/05/07/centos7__1/" data-id="cjgvv6z3i000038qxi8bseeey" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-python基础复习" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/04/28/python基础复习/" class="article-date">
  <time datetime="2018-04-28T02:06:41.079Z" itemprop="datePublished">2018-04-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="python基础复习"><a href="#python基础复习" class="headerlink" title="python基础复习"></a>python基础复习</h4><h5 id="参考书："><a href="#参考书：" class="headerlink" title="参考书："></a>参考书：</h5><p>《Python语言程序设计》第一章：<br>一、什么是计算机<br>计算机包括软件和硬件：</p>
<ul>
<li><strong>中央处理器（CPU）</strong> ：<ul>
<li>central processing unit</li>
<li>两个组件组成：控制单元，算术逻辑单元</li>
<li>赫兹hertz =》 兆兹MHz =》千兆赫gigaherts</li>
<li>计算机中最小的存储单元是<strong>字节</strong></li>
<li>1字节 = 8比特</li>
</ul>
</li>
<li><strong>内存（主存储器）</strong>：<ul>
<li>由多个有序的字节序列构成</li>
<li>是计算机执行程序的工作区</li>
<li>每个字节有一个唯一地址用来定位存储和获取数据的字节</li>
<li>可以任意顺序访问内存中字节，因此称为RAM 随机访问内存</li>
</ul>
</li>
<li><strong>存储设备</strong></li>
<li><strong>输入设备</strong></li>
<li><strong>输出设备</strong></li>
<li><strong>通信设备</strong></li>
</ul>
<p>二、程序设计语言</p>
<ul>
<li><strong>机器语言</strong> ：内嵌在计算机内的原始指令集<ul>
<li>二进制码的指令</li>
<li>难懂难修改</li>
</ul>
</li>
<li><strong>汇编语言</strong> ：替代机器语言<ul>
<li>要用汇编器转换成机器语言</li>
<li>低级语言</li>
</ul>
</li>
<li><strong>高级语言</strong> </li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/04/28/python基础复习/" data-id="cjgvv6z3s000138qxpj1zfcim" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2018-04-23" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/04/23/2018-04-23/" class="article-date">
  <time datetime="2018-04-23T08:23:32.435Z" itemprop="datePublished">2018-04-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>2018年4月23日</p>
<h4 id="Scrapy爬虫"><a href="#Scrapy爬虫" class="headerlink" title="Scrapy爬虫"></a>Scrapy爬虫</h4><p>从豆瓣爬取top250的电影，链接：<a href="https://movie.douban.com/top250?start=0" target="_blank" rel="noopener">https://movie.douban.com/top250?start=0</a><br>github位置：<a href="https://github.com/Jyue0812/exercises/tree/master/2018-04-23" target="_blank" rel="noopener">https://github.com/Jyue0812/exercises/tree/master/2018-04-23</a></p>
<h4 id="遇到的坑："><a href="#遇到的坑：" class="headerlink" title="遇到的坑："></a>遇到的坑：</h4><p>1）HTTP status code is not handled or not allowed：<br>    解决方法：在settings.py中添加HTTPERROR_ALLOWED_CODES = [404]<br>2）write() argument must be str, not bytes<br>    解决方法：使用二进制方法打开<br>3）Scrapy运行ImportError: No module named win32api错误<br>    解决方法：pip install pypiwin32</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/04/23/2018-04-23/" data-id="cjgbztdob0001pcqx0isoy599" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2018-04-22" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/04/23/2018-04-22/" class="article-date">
  <time datetime="2018-04-23T00:53:19.637Z" itemprop="datePublished">2018-04-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>2018年4月22日</p>
<h4 id="第0013题"><a href="#第0013题" class="headerlink" title="第0013题"></a>第0013题</h4><p>第 0013 题： 用 Python 写一个爬图片的程序，爬 这个链接里的日本妹子图片 :-) <a href="http://tieba.baidu.com/p/2166231880" target="_blank" rel="noopener">http://tieba.baidu.com/p/2166231880</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">import urllib.request</span><br><span class="line">from lxml import etree</span><br><span class="line"># 获取网页源代码</span><br><span class="line">def getHtml():</span><br><span class="line">    url = &quot;http://tieba.baidu.com/p/2166231880&quot;</span><br><span class="line">    headers = &#123;&quot;User-Agent&quot; : &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_4)&quot;&#125;</span><br><span class="line"></span><br><span class="line">    request = urllib.request.Request(url, headers=headers)</span><br><span class="line">    response = urllib.request.urlopen(request)</span><br><span class="line">    content = response.read().decode(&quot;utf-8&quot;)</span><br><span class="line">    return content</span><br><span class="line"></span><br><span class="line"># 获取图片</span><br><span class="line">def getImage():</span><br><span class="line">    html = getHtml()</span><br><span class="line">    html = etree.HTML(html)</span><br><span class="line">    links = html.xpath(&apos;//img[@class=&quot;BDE_Image&quot;]/@src&apos;)</span><br><span class="line">    return links</span><br><span class="line"></span><br><span class="line"># 下载保存图片</span><br><span class="line">def downloadImage():</span><br><span class="line">    images = getImage()</span><br><span class="line">    for image in images:</span><br><span class="line">        filename = image[-10:]</span><br><span class="line">        with open(filename, &apos;wb&apos;) as f:</span><br><span class="line">            headers = &#123;&quot;User-Agent&quot;: &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_4)&quot;&#125;</span><br><span class="line">            request = urllib.request.Request(image, headers=headers)</span><br><span class="line">            response = urllib.request.urlopen(request)</span><br><span class="line">            url = response.read()</span><br><span class="line">            f.write(url)</span><br><span class="line"></span><br><span class="line">downloadImage()</span><br></pre></td></tr></table></figure>
<h4 id="第0010题"><a href="#第0010题" class="headerlink" title="第0010题"></a>第0010题</h4><p>使用 Python 生成类似于下图中的字母验证码图片</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import string</span><br><span class="line">import random</span><br><span class="line">from PIL import Image, ImageDraw, ImageFont</span><br><span class="line"></span><br><span class="line"># 获得任意四个英文字母</span><br><span class="line">def getLetters():</span><br><span class="line">    letters = string.ascii_letters</span><br><span class="line">    str1 = &quot;&quot;</span><br><span class="line">    for i in range(4):</span><br><span class="line">        a = random.choice(letters)</span><br><span class="line">        str1 += a + &apos;   &apos;</span><br><span class="line">    return str1</span><br><span class="line"></span><br><span class="line"># 对图片进行处理</span><br><span class="line">def dealImage(str):</span><br><span class="line">    image = Image.open(&apos;image.png&apos;)</span><br><span class="line">    draw = ImageDraw.Draw(image)</span><br><span class="line">    myfont = ImageFont.truetype(&apos;C:/windows/fonts/Arial.ttf&apos;, size=40)</span><br><span class="line">    width, height = image.size</span><br><span class="line">    draw.text((width/2-90, height/2-20), str, font=myfont, fill=&quot;#ff0000&quot;)</span><br><span class="line">    image.save(&apos;result.jpg&apos;, &apos;png&apos;)</span><br><span class="line"></span><br><span class="line">en = getLetters()</span><br><span class="line">dealImage(en)</span><br></pre></td></tr></table></figure>
<h4 id="第0011题"><a href="#第0011题" class="headerlink" title="第0011题"></a>第0011题</h4><p>敏感词文本文件 filtered_words.txt，里面的内容为以下内容，当用户输入敏感词语时，则打印出 Freedom，否则打印出 Human Rights。<br>北京<br>程序员<br>公务员<br>领导<br>牛比<br>牛逼<br>你娘<br>你妈<br>love<br>sex<br>jiangge</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">user_input = input(&quot;请输入一个词语：&quot;)</span><br><span class="line">with open(&apos;filtered_words.txt&apos;) as fr:</span><br><span class="line">    words = fr.readlines()</span><br><span class="line">    count = 0</span><br><span class="line">    for word in words:</span><br><span class="line">        word = word.strip()</span><br><span class="line">        if user_input == word:</span><br><span class="line">            print(&quot;Freedom&quot;)</span><br><span class="line">            count += 1</span><br><span class="line">    if count == 0:</span><br><span class="line">        print(&quot;Human Rights&quot;)</span><br></pre></td></tr></table></figure>
<h4 id="第0012题"><a href="#第0012题" class="headerlink" title="第0012题"></a>第0012题</h4><p>敏感词文本文件 filtered_words.txt，里面的内容 和 0011题一样，当用户输入敏感词语，则用 星号 * 替换，例如当用户输入「北京是个好城市」，则变成「**是个好城市」。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line">user_input = input(&quot;请输入一个词语：&quot;)</span><br><span class="line">with open(&apos;filtered_words.txt&apos;) as fr:</span><br><span class="line">    words = fr.readlines()</span><br><span class="line">    for word in words:</span><br><span class="line">        word = word.strip()</span><br><span class="line">        if re.search(word, user_input):</span><br><span class="line">            result = re.sub(word, &quot;*&quot;*len(word), user_input)</span><br><span class="line">            print(result)</span><br></pre></td></tr></table></figure>
<h4 id="实验楼项目1"><a href="#实验楼项目1" class="headerlink" title="实验楼项目1"></a>实验楼项目1</h4><p>要求：<br>本实验用 50 行 Python 代码完成图片转字符画小工具。通过本实验将学习到 Linux 命令行操作，Python 基础，pillow 库的使用，argparse 库的使用。</p>
<p>实验知识点<br>本节实验中我们将实践以下知识：<br>Linux 命令行操作<br>Python 基础<br>pillow 库的使用<br>argparse 库的使用（参考教程）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">from PIL import Image</span><br><span class="line">import argparse</span><br><span class="line"></span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line">parser.add_argument(&apos;file&apos;)</span><br><span class="line">parser.add_argument(&apos;-o&apos;, &apos;--output&apos;)</span><br><span class="line">parser.add_argument(&apos;--width&apos;, type = int, default = 80)</span><br><span class="line">parser.add_argument(&apos;--height&apos;, type = int, default = 80)</span><br><span class="line">args = parser.parse_args()</span><br><span class="line">IMG = args.file</span><br><span class="line">WIDTH = args.width</span><br><span class="line">HEIGHT = args.height</span><br><span class="line">OUTPUT = args.output</span><br><span class="line"></span><br><span class="line">#字符画是一系列字符的组合，我们可以把字符看作是比较大块的像素，一个字符能表现一种颜色（暂且这么理解吧），字符的种类越多，可以表现的颜色也越多，图片也会更有层次感。</span><br><span class="line"></span><br><span class="line">ascii_char = list(&quot;$@B%8&amp;WM#*oahkbdpqwmZO0QLCJUYXzcvunxrjft/\|()1&#123;&#125;[]?-_+~&lt;&gt;i!lI;:,\&quot;^`&apos;. &quot;)</span><br><span class="line"></span><br><span class="line">def get_char(r,g,b,alpha = 256):</span><br><span class="line">    if alpha == 0:</span><br><span class="line">        return &apos; &apos;</span><br><span class="line">    length = len(ascii_char)</span><br><span class="line">    #灰度值计算公式，因为人眼对RGB颜色的感知并不相同，所以转换的时候需要给予不同的权重。事实上这个原理普遍应用于计算机图像处理系统</span><br><span class="line">    gray = int(0.2126 * r + 0.7152 * g + 0.0722 * b)</span><br><span class="line">    unit = (256.0 + 1)/length</span><br><span class="line">    return ascii_char[int(gray/unit)]</span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    im = Image.open(IMG)</span><br><span class="line">    #PIL.Image.NEAREST:低质量 Image.ANTIALIAS:高质量</span><br><span class="line">    im = im.resize((WIDTH,HEIGHT), Image.NEAREST)</span><br><span class="line">    txt = &quot;&quot;</span><br><span class="line">    for i in range(HEIGHT):</span><br><span class="line">        for j in range(WIDTH):</span><br><span class="line">            txt += get_char(*im.getpixel((j,i)))</span><br><span class="line">        txt += &apos;\n&apos;</span><br><span class="line"></span><br><span class="line">    print(txt)</span><br><span class="line"></span><br><span class="line">    if OUTPUT:</span><br><span class="line">        with open(OUTPUT,&apos;w&apos;) as f:</span><br><span class="line">            f.write(txt)</span><br><span class="line">    else:</span><br><span class="line">        with open(&quot;output.txt&quot;,&apos;w&apos;) as f:</span><br><span class="line">            f.write(txt)</span><br></pre></td></tr></table></figure>
<h4 id="今日总结"><a href="#今日总结" class="headerlink" title="今日总结"></a>今日总结</h4><ol>
<li>学到了灰度值公式 </li>
<li>argparse库用来对命令行进行解析</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/04/23/2018-04-22/" data-id="cjgbztdog0002pcqxv6rmd28u" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2018-04-21" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/04/23/2018-04-21/" class="article-date">
  <time datetime="2018-04-23T00:53:19.634Z" itemprop="datePublished">2018-04-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>2018年4月21日</p>
<h4 id="第0009题"><a href="#第0009题" class="headerlink" title="第0009题"></a>第0009题</h4><p>一个HTML文件，找出里面的链接。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">import urllib.request</span><br><span class="line">from lxml import etree</span><br><span class="line">import ssl</span><br><span class="line"></span><br><span class="line">def spider():</span><br><span class="line">    url = &quot;https://pypi.org/project/lxml/&quot;</span><br><span class="line">    headers = &#123;&quot;User-Agent&quot; : &quot;Mozilla/5.0 (Windows NT 6.1; WOW64)&quot;&#125;</span><br><span class="line">    request = urllib.request.Request(url, headers=headers)</span><br><span class="line">    context = ssl._create_unverified_context()</span><br><span class="line">    ssl._create_default_https_context = ssl._create_unverified_context()</span><br><span class="line">    response = urllib.request.urlopen(request, context=context)</span><br><span class="line">    content = response.read()</span><br><span class="line">    return content.decode(&apos;utf-8&apos;)</span><br><span class="line"></span><br><span class="line">html = spider()</span><br><span class="line"># print(html)</span><br><span class="line">html = etree.HTML(html)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">links = html.xpath(&quot;//a/@href&quot;)</span><br><span class="line">links2 = html.xpath(&quot;//img/@src&quot;)</span><br><span class="line">links3 = html.xpath(&quot;//link/@href&quot;)</span><br><span class="line">links4 = html.xpath(&quot;//meta/@content&quot;)</span><br><span class="line">links5 = html.xpath(&quot;//script/@src&quot;)</span><br><span class="line">new_links = links + links2 + links3 + links4 +links5</span><br><span class="line"></span><br><span class="line">count = 0</span><br><span class="line">result = []</span><br><span class="line">for l in new_links:</span><br><span class="line">    if str(l).startswith(&quot;https&quot;):</span><br><span class="line">        result.append(l)</span><br><span class="line"></span><br><span class="line">print(result, len(result))</span><br></pre></td></tr></table></figure></p>
<h4 id="今日总结"><a href="#今日总结" class="headerlink" title="今日总结"></a>今日总结</h4><ol>
<li>在苹果笔记本配置不熟练花了很久</li>
<li>今天的题目用的方法很死板有时间要优化一下</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/04/23/2018-04-21/" data-id="cjgbztdoi0003pcqx8c9kqsw4" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2018-04-19" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/04/19/2018-04-19/" class="article-date">
  <time datetime="2018-04-19T09:51:12.845Z" itemprop="datePublished">2018-04-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>2018年4月19日</p>
<h4 id="第0007题"><a href="#第0007题" class="headerlink" title="第0007题"></a>第0007题</h4><p>有个目录，里面是你自己写过的程序，统计一下你写过多少行代码。包括空行和注释，但是要分别列出来。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import glob</span><br><span class="line"></span><br><span class="line">path = glob.glob(&apos;d://exercises/banksys/*.py&apos;)</span><br><span class="line">for p in path:</span><br><span class="line">    with open(p, &apos;r&apos;, encoding=&quot;utf-8&quot;) as fr:</span><br><span class="line">        frs = fr.readlines()</span><br><span class="line">        count_space = 0</span><br><span class="line">        count_note = 0</span><br><span class="line">        for f in frs:</span><br><span class="line">            if f.strip().startswith(&quot;#&quot;):</span><br><span class="line">                count_note += 1</span><br><span class="line">            elif f.isspace():</span><br><span class="line">                count_space += 1</span><br><span class="line">    filename = p[22:]</span><br><span class="line">    print(&apos;文件%s共有%s行代码，其中%s行是空白行，其中%s行是注释&apos; %(filename, len(frs), count_space,count_note))</span><br></pre></td></tr></table></figure>
<h4 id="第0008题"><a href="#第0008题" class="headerlink" title="第0008题"></a>第0008题</h4><p> 一个HTML文件，找出里面的正文。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line">import urllib.request</span><br><span class="line"></span><br><span class="line">#爬取静态网页的源码</span><br><span class="line">def spider():</span><br><span class="line">    url = &quot;https://pypi.org/project/lxml/&quot;</span><br><span class="line">    headers = &#123;&quot;User-Agent&quot; : &quot;Mozilla/5.0 (Windows NT 6.1; WOW64)&quot;&#125;</span><br><span class="line">    request = urllib.request.Request(url, headers=headers)</span><br><span class="line">    response = urllib.request.urlopen(request)</span><br><span class="line">    content = response.read()</span><br><span class="line">    return content.decode(&apos;utf-8&apos;)</span><br><span class="line">html = spider()</span><br><span class="line"></span><br><span class="line">#解析文件</span><br><span class="line">def parse():</span><br><span class="line">    pattern = re.compile(r&apos;&lt;div\sclass=&quot;project-description&quot;&gt;(.*?)&lt;/div&gt;&apos;, re.S)</span><br><span class="line">    html_list = pattern.findall(html)</span><br><span class="line">    for hl in html_list:</span><br><span class="line">        write(hl.strip())</span><br><span class="line">#正文写入txt文件</span><br><span class="line">def write(item):</span><br><span class="line">    with open(&apos;d://code/zhengwen.txt&apos;, &apos;a&apos;) as f:</span><br><span class="line">        f.write(item)</span><br><span class="line"></span><br><span class="line">parse()</span><br></pre></td></tr></table></figure>
<h4 id="今日总结"><a href="#今日总结" class="headerlink" title="今日总结"></a>今日总结</h4><ol>
<li>上课学习网络编程的tcp，udp，socket写客户端，服务端</li>
<li>课后在学爬虫</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/04/19/2018-04-19/" data-id="cjg6ckdb30000skqxl2qp0xxf" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2018-04-18" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/04/18/2018-04-18/" class="article-date">
  <time datetime="2018-04-18T05:13:29.609Z" itemprop="datePublished">2018-04-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>2018年4月18日</p>
<h4 id="第0006题"><a href="#第0006题" class="headerlink" title="第0006题"></a>第0006题</h4><p>你有一个目录，放了你一个月的日记，都是 txt，为了避免分词的问题，假设内容都是英文，请统计出你认为每篇日记最重要的词。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">#读取目录下所有txt文件</span><br><span class="line">import glob</span><br><span class="line">path = glob.glob(&apos;mydiary/*.txt&apos;)</span><br><span class="line"></span><br><span class="line">#打开文章</span><br><span class="line">def openfile(path):</span><br><span class="line">    for p in path:</span><br><span class="line">        with open(p, &apos;r&apos;) as fr:</span><br><span class="line">            passage = fr.read().split(&apos; &apos;)</span><br><span class="line">            diary_name = str(p).lstrip(&apos;mydiary&apos;)[1:-4]</span><br><span class="line">        handle_passage(passage, diary_name)</span><br><span class="line"></span><br><span class="line">#对文章进行处理</span><br><span class="line">dic = &#123;&#125;</span><br><span class="line">def handle_passage(passage, diary_name):</span><br><span class="line">    for word2 in passage:</span><br><span class="line">        if word2 not in dic:</span><br><span class="line">            dic[word2] = 1</span><br><span class="line">        else:</span><br><span class="line">            dic[word2] += 1</span><br><span class="line"></span><br><span class="line">    # 对字典的value排序</span><br><span class="line">    dict = sorted(dic.items(), key=lambda d: d[1], reverse=True)</span><br><span class="line">    print(&apos;日记%s最重要的词是%s&apos; %(diary_name, dict[0][0]))</span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">     openfile(path)</span><br></pre></td></tr></table></figure>
<h4 id="今日总结"><a href="#今日总结" class="headerlink" title="今日总结"></a>今日总结</h4><ol>
<li>课上学习正则表达式</li>
<li>学爬虫，用爬虫写爬去内涵段子的小练习 链接：<a href="https://github.com/Jyue0812/exercises" target="_blank" rel="noopener">https://github.com/Jyue0812/exercises</a></li>
<li>练习题中学会了对字典的key或value值排序，方法如下：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sorted(dic.iteritems(), key=lambda d:d[1], reverse = False )</span><br><span class="line"></span><br><span class="line">#1. 把dic.iteritems()里的元祖传进来</span><br><span class="line">#2. 如果想按照value来进行排序   ==》   key=lambda d:d[1]就可以了</span><br><span class="line">#3. 如果想按照key来进行排序   ==》   key=lambda d:d[0]就可以了</span><br><span class="line">#4. reverse = False(True) 是指是否打开反方向排序</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/04/18/2018-04-18/" data-id="cjg4n7y6f00006kqxpl95tzem" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-2018-04-17" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/04/17/2018-04-17/" class="article-date">
  <time datetime="2018-04-17T08:37:14.905Z" itemprop="datePublished">2018-04-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>2018年4月17日</p>
<h4 id="第0005题"><a href="#第0005题" class="headerlink" title="第0005题"></a>第0005题</h4><p>你有一个目录，装了很多照片，把它们的尺寸变成都不大于 iPhone5 分辨率的大小。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#导入glob和pillow库</span><br><span class="line">import glob</span><br><span class="line">from PIL import Image</span><br><span class="line"></span><br><span class="line">#设置iPhone5的分辨率高度宽度</span><br><span class="line">iphone5_width = 1136</span><br><span class="line">iphone5_depth = 640</span><br><span class="line"></span><br><span class="line">path = glob.glob(&apos;*.jpg&apos;)</span><br><span class="line">for p in path:</span><br><span class="line">    image = Image.open(p, &apos;r&apos;)</span><br><span class="line">    #取图片高宽</span><br><span class="line">    width, height = image.size</span><br><span class="line">	</span><br><span class="line">	#对图片宽度高度与iPhone5高度宽度进行比较</span><br><span class="line">    if width &gt; iphone5_width:</span><br><span class="line">        new_width = iphone5_width * height / width</span><br><span class="line">        new_height = iphone5_depth * height / width</span><br><span class="line">	</span><br><span class="line">	if height &gt; iphone5_height:</span><br><span class="line">        new_width = iphone5_width * height / width</span><br><span class="line">        new_height = iphone5_depth * height / width</span><br><span class="line">        </span><br><span class="line">        #重新等比例缩小图片分辨率</span><br><span class="line">        new_image = image.resize((int(new_width), int(new_height)))</span><br><span class="line">        #以新的名字命名并保存</span><br><span class="line">        new_image_name = p[:-4] + &apos;_new.jpg&apos;</span><br><span class="line">        new_image.save(new_image_name, &apos;jpeg&apos;)</span><br></pre></td></tr></table></figure>
<h4 id="今日总结"><a href="#今日总结" class="headerlink" title="今日总结"></a>今日总结</h4><ol>
<li>resize为什么用两对括号</li>
<li>在学mySql和mongodb和redis</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/04/17/2018-04-17/" data-id="cjg3f1rvd0001w0qx9x68utni" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/blog/page/2/">2</a><a class="extend next" rel="next" href="/blog/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/04/">April 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2018/05/08/python3.6编译安装/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/05/08/centos7__2/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/05/07/centos7__1/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/04/28/python基础复习/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/04/23/2018-04-23/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 ZY<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js"></script>



  </div>
</body>
</html>