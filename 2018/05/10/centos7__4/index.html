<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>ZY</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="#centos7__4  (自己研究的范围) grep后面的正则表达式有三种风格    -E  扩展的正则表达式    -P  perl风格的正则表达式 http://www.cnblogs.com/chengmo/archive/2010/10/10/1847287.html vmware 关机-&amp;gt;设置-&amp;gt;硬盘-&amp;gt;添加[+]-&amp;gt;新硬盘-&amp;gt;大小自己定-&amp;gt;后面全部">
<meta property="og:type" content="article">
<meta property="og:title" content="ZY">
<meta property="og:url" content="https://jyue0812.github.io/2018/05/10/centos7__4/index.html">
<meta property="og:site_name" content="ZY">
<meta property="og:description" content="#centos7__4  (自己研究的范围) grep后面的正则表达式有三种风格    -E  扩展的正则表达式    -P  perl风格的正则表达式 http://www.cnblogs.com/chengmo/archive/2010/10/10/1847287.html vmware 关机-&amp;gt;设置-&amp;gt;硬盘-&amp;gt;添加[+]-&amp;gt;新硬盘-&amp;gt;大小自己定-&amp;gt;后面全部">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-05-10T08:56:19.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ZY">
<meta name="twitter:description" content="#centos7__4  (自己研究的范围) grep后面的正则表达式有三种风格    -E  扩展的正则表达式    -P  perl风格的正则表达式 http://www.cnblogs.com/chengmo/archive/2010/10/10/1847287.html vmware 关机-&amp;gt;设置-&amp;gt;硬盘-&amp;gt;添加[+]-&amp;gt;新硬盘-&amp;gt;大小自己定-&amp;gt;后面全部">
  
    <link rel="alternate" href="/blog/atom.xml" title="ZY" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/blog/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">ZY</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://jyue0812.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-centos7__4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/05/10/centos7__4/" class="article-date">
  <time datetime="2018-05-10T08:53:07.589Z" itemprop="datePublished">2018-05-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#centos7__4</p>
<hr>
<p>(自己研究的范围)</p>
<p>grep后面的正则表达式有三种风格<br>    -E  扩展的正则表达式<br>    -P  perl风格的正则表达式</p>
<p><a href="http://www.cnblogs.com/chengmo/archive/2010/10/10/1847287.html" target="_blank" rel="noopener">http://www.cnblogs.com/chengmo/archive/2010/10/10/1847287.html</a></p>
<p>vmware 关机-&gt;设置-&gt;硬盘-&gt;添加[+]-&gt;新硬盘-&gt;大小自己定-&gt;后面全部默认  </p>
<p>##1.磁盘管理</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">du</span><br><span class="line">	查看当前目录的子目录和文件大小</span><br><span class="line">	-h  以人性化的方式显示大小</span><br><span class="line">df</span><br><span class="line">	显示当前磁盘设备的使用情况</span><br><span class="line">	-h  人性化方式显示大小 </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">磁盘分区</span><br><span class="line">	主分区、扩展分区、逻辑分区</span><br><span class="line">	一个硬盘至少要有一个主分区，系统必须安装到主分区中</span><br><span class="line">	扩展分区，是主分区以外的分区，但是扩展分区不能直接使用，需要将其分成多个逻辑分区，来使用逻辑分区</span><br><span class="line">	主分区最多<span class="number">4</span>个</span><br><span class="line">	扩展分区一般就一个</span><br><span class="line">	逻辑分区可以随便分</span><br><span class="line">给虚拟机添加硬盘，首先关机，给其添加一块硬盘，我加个<span class="number">1</span>G的硬盘</span><br><span class="line">	<span class="number">1</span>、关机</span><br><span class="line">	<span class="number">2</span>、右键设置</span><br><span class="line">	<span class="number">3</span>、点击存储</span><br><span class="line">	<span class="number">4</span>、在你的已有的vdi的下面再添加一个硬盘</span><br><span class="line">		创建新的硬盘</span><br><span class="line">		分配大小</span><br><span class="line">		立即创建</span><br><span class="line">	<span class="number">5</span>、开机</span><br></pre></td></tr></table></figure>
<p>分区</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">开始分区</span><br><span class="line">	fdisk  分区设备</span><br><span class="line">	主分区两个</span><br><span class="line">		/dev/sdb1   <span class="number">200</span>M</span><br><span class="line">		/dev/sdb2   <span class="number">200</span>M</span><br><span class="line">	扩展分区（只能<span class="number">1</span>个）</span><br><span class="line">		/dev/sdb3   <span class="number">600</span>M</span><br><span class="line">	逻辑分区（理论上分无数多个，我们分两个）</span><br><span class="line">		/dev/sdb5   <span class="number">300</span>M</span><br><span class="line">		/dev/sdb6   <span class="number">300</span>M</span><br></pre></td></tr></table></figure>
<p>操作过程</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#1.列出挂载点信息</span></span><br><span class="line">df -lh</span><br><span class="line"></span><br><span class="line"><span class="comment">#2.查看硬盘信息，第二个挂载点，应该是sdb</span></span><br><span class="line">fdisk -l</span><br><span class="line"></span><br><span class="line"><span class="comment">#3.对新盘进行分区，新盘的是一个G，那个大小先用500M</span></span><br><span class="line">fdisk /dev/sdb</span><br><span class="line">===========================================</span><br><span class="line">m   查看帮助</span><br><span class="line"><span class="number">1.</span>n   新建分区</span><br><span class="line"><span class="number">2.</span>p   创建主分区</span><br><span class="line"><span class="number">3.</span>默认直接敲回车  (p是主分区，e是扩展分区，l逻辑分区)</span><br><span class="line"><span class="number">4.</span>默认直接敲回车 （主分区和扩展分区：<span class="number">1</span><span class="number">-4</span>）（逻辑分区：<span class="number">5</span>或者以上）</span><br><span class="line"><span class="number">5.</span>默认直接敲回车  （扇形区）	起始</span><br><span class="line">  默认直接敲回车  （扇形区）	结尾</span><br><span class="line"><span class="number">6.</span>p   查看分区信息 这个时候已经创建了好了</span><br><span class="line">   </span><br><span class="line"><span class="number">7.</span>t  选择格式</span><br><span class="line"><span class="number">8.l</span>  查看格式</span><br><span class="line"><span class="number">9.8</span>e    Linux LVM </span><br><span class="line"><span class="number">10.</span>p 在此查看去报改为 LVM</span><br><span class="line"><span class="number">11.</span>w 保存设置</span><br><span class="line">===========================================</span><br><span class="line"></span><br><span class="line"><span class="comment">#3.使用 pvcreate 命令创建物理卷</span></span><br><span class="line">	pvcreate  /dev/sdb1   （--force或-f，有错误提示信息的时候再用</span><br><span class="line">	<span class="comment">#使用pvs打印新创建的物理卷</span></span><br><span class="line">	pvs</span><br><span class="line">	<span class="comment">#查看物理卷信息</span></span><br><span class="line">	pvdisplay </span><br><span class="line">	</span><br><span class="line"><span class="comment">#4.使用 vgextend 命令把/dev/vdc1加入到centos磁盘组</span></span><br><span class="line">	vgextend vg_centos68 /dev/sdb1 </span><br><span class="line">	<span class="comment">#使用 vgdisplay 查看卷组信息，下图显示卷组名为centos，空闲大小为0：</span></span><br><span class="line">	lvdisplay</span><br><span class="line">	</span><br><span class="line"><span class="comment">#5.使用 lvcreate 命令从卷组里划分一个新的逻辑卷，这里创建了名称为hal，大小1000MB的逻辑卷分区；</span></span><br><span class="line">	lvcreate -L <span class="number">1000</span>M -n sdb1 vg_centos68</span><br><span class="line">	<span class="comment">#使用lvdisplay 查看逻辑卷信息：</span></span><br><span class="line">	lvdisplay </span><br><span class="line"></span><br><span class="line"><span class="comment">#####如果VG有未知错误</span></span><br><span class="line"><span class="comment">#vgreduce --removemissing  磁盘组名</span></span><br><span class="line">vgreduce --removemissing vg_centos68</span><br><span class="line">	</span><br><span class="line"><span class="comment">#6.格式化分区</span></span><br><span class="line">	<span class="comment">#将分区格式为你所需要的格式   ext4</span></span><br><span class="line">       <span class="comment">#mkfs.xfs /dev/组名/磁盘的别名</span></span><br><span class="line">	mkfs.xfs /dev/vg_centos68/sdb1</span><br><span class="line">	</span><br><span class="line">	<span class="comment">#挂载分区</span></span><br><span class="line">	mount  /dev/vg_centos68/sdb1 /mnt/dev1</span><br><span class="line">       </span><br><span class="line">	</span><br><span class="line">	<span class="comment">#输入  df -h   查看分区使用信息</span></span><br><span class="line">	</span><br><span class="line"><span class="number">7.</span>设置开机挂载</span><br><span class="line">	vim /etc/fstab</span><br><span class="line">	添加一行</span><br><span class="line">	/dev/vg_centos68/sdb1     /boot     xfs        defaults        <span class="number">0</span> <span class="number">0</span></span><br><span class="line">	设备名         挂载点        系统格式     默认           默认</span><br><span class="line">	</span><br><span class="line">	让配置文件立即生效</span><br><span class="line">	mount -a</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">8.</span>删除分区</span><br><span class="line">	fdisk /dev/sdb</span><br><span class="line">	d  分区号</span><br><span class="line">	挨个删除即可</span><br></pre></td></tr></table></figure>
<p>##2、scp</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">基于ssh协议copy</span><br><span class="line">格式：   scp    源路径   目的路径</span><br><span class="line"><span class="number">10.0</span><span class="number">.142</span><span class="number">.84</span>   root   <span class="number">123456</span></span><br><span class="line"><span class="comment">#上传命令</span></span><br><span class="line">scp demo.txt root@<span class="number">10.0</span><span class="number">.142</span><span class="number">.84</span>:/root/test</span><br><span class="line"></span><br><span class="line"><span class="comment">#下载命令</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#scp 用户名@IP地址：/对方文件路径加名字  /我的文件路径或单个文件名</span></span><br><span class="line"></span><br><span class="line">scp   root@<span class="number">172.16</span><span class="number">.61</span><span class="number">.137</span>:/root/test/demo.txt /root/test/demo.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">拷贝目录的话需要加上 -r</span><br><span class="line"></span><br><span class="line">scp  -r root@<span class="number">172.16</span><span class="number">.61</span><span class="number">.137</span>:/root/test /root/test</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">如果配置了免密码的登录，scp的时候就不用输入密码了</span><br><span class="line"></span><br><span class="line">winscp、flashFXP</span><br><span class="line">	安装一下</span><br><span class="line">	通过这个软件可以将windows里面的东西直接发送给linux</span><br></pre></td></tr></table></figure>
<p>##3、软硬连接<br>为了解决文件共享的问题，以软连接居多（在ll显示详情的时候，在文件类型显示l的字样），硬链接了解.(link)</p>
<p>硬链接</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">指令格式：  ln  源文件  目标文件</span><br><span class="line">相当于给文件起了一个别名，修改其中一个文件，本质上是修改的都是同一个文件，通过ll可以查看硬链接的个数</span><br><span class="line">【注】硬链接不能给目录创建</span><br><span class="line">【注】硬链接创建之后，用户和组信息不变</span><br></pre></td></tr></table></figure>
<p>软连接（常用的  soft）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">就可以理解为windows下面的快捷方式</span><br><span class="line">指令格式：  ln   -s    源文件   目标文件</span><br><span class="line">修改其中一个文件，另外一个也改变</span><br><span class="line">【注】软连接可以给目录创建</span><br><span class="line">【注】当源文件丢失的时候，该软连接就会变成一个死链接，当重新创建了一个和目标文件同名文件的时候，该软连接原地满血复活</span><br><span class="line">【注】新建的软连接，用户和组信息是创建时候的用户和组信息</span><br></pre></td></tr></table></figure>
<p>文件结构：<br>    在linux里面，一个文件有三部分组成，第一部分是文件名（是用户看的），第二部分是索引节点（inode，给linux系统看的），第三部分是文件的内容<br>    区别，详见百鸟朝凤图</p>
<p>##4、压缩解压</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">在linux里面，常见的压缩格式有两种，一种叫gz，一种叫做bz2</span><br><span class="line"></span><br><span class="line">gzip、gunzip </span><br><span class="line">	gzip 文件名</span><br><span class="line">	（<span class="number">1</span>）不保存源文件</span><br><span class="line">	（<span class="number">2</span>）不能打包压缩</span><br><span class="line">	</span><br><span class="line">bzip2、bunzip2</span><br><span class="line">	bzip2 文件名</span><br><span class="line">	（<span class="number">1</span>）不能打包压缩</span><br><span class="line">	-k：保留源文件并且压缩</span><br><span class="line">    </span><br><span class="line">tar（解压和压缩一块承包）</span><br><span class="line">	比gzip和bzip2功能强大的就是打包压缩</span><br><span class="line">	（<span class="number">1</span>）如果使用tar指令对文件进行打包并且使用gzip压缩，那么文件后缀名为.tar.gz</span><br><span class="line">	（<span class="number">2</span>）如果使用tar指令对文件进行打包并且使用bzip2压缩，后缀名为.tar.bz2</span><br><span class="line">	参数：</span><br><span class="line">	-c : 打包文件或者文件夹</span><br><span class="line">	-z ：使用gzip格式进行压缩</span><br><span class="line">	-j : 使用bzip2格式进行压缩</span><br><span class="line">	-f : 放到最后面，来指定压缩后的文件名</span><br><span class="line">	-v : 压缩或者解压缩的时候显示过程</span><br><span class="line">	-x : 解压缩</span><br><span class="line">		</span><br><span class="line"><span class="comment">#bzip2理论上是没有的</span></span><br><span class="line"><span class="comment">#现在yum寻找</span></span><br><span class="line"></span><br><span class="line">yum search bzip2 </span><br><span class="line"></span><br><span class="line">yum install bzip2.x86_64</span><br><span class="line"></span><br><span class="line">yum install gzip.x86_64</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>、打包并且使用gzip压缩和解压</span><br><span class="line">	压缩： tar -zcvf test.tar.gz test <span class="comment">#(test 是要压缩的文件)</span></span><br><span class="line">	解压缩： tar -xvf test.tar.gz</span><br><span class="line"><span class="number">2</span>、打包并且使用bzip2压缩和解压</span><br><span class="line">	压缩： tar -jcvf txt.tar.bz2 *.txt</span><br><span class="line">	解压缩：tar -jxvf txt.tar.bz2</span><br></pre></td></tr></table></figure>
<p>##5、服务和进程</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">linux的用户等级   vim /etc/inittab</span><br><span class="line">	<span class="number">0</span> : 关机模式</span><br><span class="line">	<span class="number">1</span> : 单用户模式</span><br><span class="line">	<span class="number">2</span> : 无网络的多用户模式</span><br><span class="line">	<span class="number">3</span> : 有网络的多用户模式</span><br><span class="line">	<span class="number">4</span> : 保留模式</span><br><span class="line">	<span class="number">5</span> : 带图形界面的多用户模式有网络</span><br><span class="line">	<span class="number">6</span> : 重启模式</span><br><span class="line">切换等级</span><br><span class="line">	init 等级号</span><br><span class="line">	init <span class="number">0</span>      关机</span><br><span class="line">	init <span class="number">6</span>      重启</span><br><span class="line">查看当前等级</span><br><span class="line">	runlevel</span><br><span class="line">	who -r</span><br><span class="line">查看随开机启动的服务</span><br><span class="line">	chkconfig --list</span><br><span class="line">	控制服务的开启与关闭</span><br><span class="line">    iptables <span class="comment">#防火墙</span></span><br><span class="line">		service iptables stop | start | restart | status</span><br><span class="line">		<span class="comment">#/etc/init.d/iptables start</span></span><br><span class="line">        <span class="comment">#yum 默认的安装路径</span></span><br><span class="line">	假如：你现在自己安装了一个软件，是nginx，你想通过service这个指令控制服务的开启与关闭，你需要将nginx的启动脚本放到  /etc/init.d/ 这个文件夹中，并且修改权限</span><br><span class="line">		service nginx restart | start | stop</span><br><span class="line">        <span class="comment">#apache</span></span><br><span class="line">        service httpd  restart | start | stop</span><br><span class="line">	设置开机启动</span><br><span class="line">		chkconfig nginx on   默认这个服务在<span class="number">2345</span>模式开机启动</span><br><span class="line">		chkconfig --level <span class="number">35</span> nginx on  指定模式开机启动</span><br><span class="line">top，可以实时的查看系统的运行状态，尤其是内存的使用情况</span><br><span class="line">	输入大写的M  将进程按照内存利用率排序</span><br><span class="line">	按q退出查看</span><br><span class="line">w，查看当登录该系统的所有用户</span><br><span class="line">free，查看当前系统内存使用情况   -h 以人性化的方式显示</span><br><span class="line">ps，查看进程相关信息</span><br><span class="line">	ps -ef | grep ssh</span><br><span class="line">	ps aux | grep ssh</span><br><span class="line">kill，杀死一个进程，根据进程id号杀死进程</span><br><span class="line">	kill <span class="number">-9</span> 进程id号</span><br><span class="line">	service sshd start</span><br><span class="line">在linux里面，随开机启动的服务，我们称之为守护进程（daemon）</span><br><span class="line">netstat -lnp</span><br></pre></td></tr></table></figure>
<p>top详解</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">第一行：</span><br><span class="line"><span class="number">13</span>:<span class="number">42</span>:<span class="number">59</span> 当前系统时间</span><br><span class="line"><span class="number">6</span> days, <span class="number">9</span>:<span class="number">29</span> 系统已经运行了<span class="number">6</span>天<span class="number">6</span>小时<span class="number">29</span>分钟（在这期间没有重启过）</span><br><span class="line"><span class="number">3</span> users 当前有<span class="number">3</span>个用户登录系统</span><br><span class="line">load average: <span class="number">3.06</span>,<span class="number">3.01</span>, <span class="number">1.79</span> load average后面的三个数分别是<span class="number">1</span>分钟、<span class="number">5</span>分钟、<span class="number">15</span>分钟的负载情况。</span><br><span class="line">load average数据是每隔<span class="number">5</span>秒钟检查一次活跃的进程数，然后按特定算法计算出的数值。如果这个数除以逻辑 CPU的数量，结果高于<span class="number">5</span>的时候就表明系统在超负荷运转了。</span><br><span class="line"></span><br><span class="line">第二行： Tasks 任务（进程）</span><br><span class="line">系统现在共有<span class="number">131</span>个进程，其中处于运行中的有<span class="number">3</span>个，<span class="number">127</span>个在休眠（sleep），stoped状态的有<span class="number">0</span>个，zombie状态（僵尸）的有<span class="number">1</span>个。</span><br><span class="line"></span><br><span class="line">第三行：cpu状态</span><br><span class="line"><span class="number">10.6</span>% us 用户空间占用CPU的百分比。</span><br><span class="line"><span class="number">2.2</span>% sy 内核空间占用CPU的百分比。</span><br><span class="line"><span class="number">0.0</span>% ni 改变过优先级的进程占用CPU的百分比</span><br><span class="line"><span class="number">84.5</span>% id 空闲CPU百分比</span><br><span class="line"><span class="number">2.5</span>% wa IO等待程序占用CPU的百分比</span><br><span class="line"><span class="number">0.1</span>% hi 硬中断（Hardware IRQ）占用CPU的百分比</span><br><span class="line"><span class="number">0.0</span>% si 软中断（Software Interrupts）占用CPU的百分比</span><br><span class="line">在这里CPU的使用比率和windows概念不同，如果你不理解<span class="string">'用户空间'</span>和<span class="string">'内核空间'</span>，需要充充电了。</span><br><span class="line"></span><br><span class="line">第四行：内存状态</span><br><span class="line"><span class="number">8300124</span>k total 物理内存总量（<span class="number">8</span>GB）</span><br><span class="line"><span class="number">5979476</span>k used 使用中的内存总量（<span class="number">5.7</span>GB）</span><br><span class="line"><span class="number">2320648</span>k free 空闲内存总量（<span class="number">2.2</span>G）</span><br><span class="line"><span class="number">455544</span>k buffers 缓存的内存量 （<span class="number">434</span>M）</span><br><span class="line"></span><br><span class="line">第五行：swap交换分区</span><br><span class="line"><span class="number">8193108</span>k total 交换区总量（<span class="number">8</span>GB）</span><br><span class="line"><span class="number">41568</span>k used 使用的交换区总量（<span class="number">40.6</span>M）</span><br><span class="line"><span class="number">8151540</span>k free 空闲交换区总量（<span class="number">8</span>GB）</span><br><span class="line"><span class="number">4217456</span>k cached 缓冲的交换区总量（<span class="number">4</span>GB）</span><br><span class="line"></span><br><span class="line">这里要说明的是不能用windows的内存概念理解这些数据，如果按windows的方式此台服务器危矣：<span class="number">8</span>G的内存总量只剩下<span class="number">530</span>M的可用内存。Linux的内存管理有其特殊性，复杂点需要一本书来说明，这里只是简单说点和我们传统概念（windows）的不同。</span><br><span class="line"></span><br><span class="line">第四行中使用中的内存总量（used）指的是现在系统内核控制的内存数，空闲内存总量（free）是内核还未纳入其管控范围的数量。纳入内核管理的内存不见得都在使用中，还包括过去使用过的现在可以被重复利用的内存，内核并不把这些可被重新使用的内存交还到free中去，因此在linux上free内存会越来越少，但不用为此担心。</span><br><span class="line"></span><br><span class="line">如果出于习惯去计算可用内存数，这里有个近似的计算公式：第四行的free + 第四行的buffers + 第五行的cached，按这个公式此台服务器的可用内存： <span class="number">2320648</span>+<span class="number">455544</span> +<span class="number">4217456</span> = <span class="number">6.6</span>GB。</span><br><span class="line"></span><br><span class="line">对于内存监控，在top里我们要时刻监控第五行swap交换分区的used，如果这个数值在不断的变化，说明内核在不断进行内存和swap的数据交换，这是真正的内存不够用了。</span><br><span class="line"></span><br><span class="line">第六行是空行</span><br><span class="line"></span><br><span class="line">第七行以下：各进程（任务）的状态监控</span><br><span class="line">PID 进程id</span><br><span class="line">USER 进程所有者</span><br><span class="line">PR 进程优先级</span><br><span class="line">NI nice值。负值表示高优先级，正值表示低优先级</span><br><span class="line">VIRT 进程使用的虚拟内存总量，单位kb。VIRT=SWAP+RES</span><br><span class="line">RES 进程使用的、未被换出的物理内存大小，单位kb。RES=CODE+DATA</span><br><span class="line">SHR 共享内存大小，单位kb</span><br><span class="line">S 进程状态。D=不可中断的睡眠状态 R=运行 S=睡眠 T=跟踪/停止 Z=僵尸进程</span><br><span class="line">%CPU 上次更新到现在的CPU时间占用百分比</span><br><span class="line">%MEM 进程使用的物理内存百分比</span><br><span class="line">TIME+ 进程使用的CPU时间总计，单位<span class="number">1</span>/<span class="number">100</span>秒</span><br><span class="line">COMMAND 进程名称（命令名/命令行）</span><br></pre></td></tr></table></figure>
<p>##6、下载<br>（1）curl（自带的）<br>    curl -O <a href="https://mirrors.tuna.tsinghua.edu.cn/apache/httpd/httpd-2.2.34.tar.bz2" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/apache/httpd/httpd-2.2.34.tar.bz2</a><br>（2）wget（是一个软件，需要安装）</p>
<pre><code>yum -y install wget

wget 地址
-c：断点续传，通俗的理解，就是下载一半，网络断了，要不要接着上次的继续下载
</code></pre><p>##7、软件安装<br>yum安装</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">说明：</span><br><span class="line">yum是什么，yum就是你电脑上的电脑管家里面的软件管理，就是小米手机里面的应用商店，就是苹果手机appstore，就是一个软件中心</span><br><span class="line">在linux里面，很多软件之间都存在着依赖关系，如果安装软件的依赖关系来安装是一项非常复杂的工作，yum源的出现就很好的解决了这个问题</span><br><span class="line">常见的yum源：</span><br><span class="line">	网易源，清华源，阿里源，搜狐源，中科大源</span><br><span class="line">配置yum源</span><br><span class="line">	<span class="comment">#这是阿里的源</span></span><br><span class="line">	wget http://mirrors.aliyun.com/repo/Centos<span class="number">-7.</span>repo</span><br><span class="line">	cd /etc/yum.repos.d/</span><br><span class="line">	mv CentOS-Base.repo CentOS-Base.repo.back</span><br><span class="line">	curl -O http://mirrors.aliyun.com/repo/Centos<span class="number">-7.</span>repo</span><br><span class="line">	mv Centos<span class="number">-7.</span>repo CentOS-Base.repo</span><br><span class="line">	</span><br><span class="line">	配置好之后</span><br><span class="line">	yum clean all    清空所有</span><br><span class="line">	yum makecache    生成缓存</span><br><span class="line">	yum update       更新yum源</span><br><span class="line">常见yum指令</span><br><span class="line">	yum install -y wget   安装</span><br><span class="line">	yum remove -y wget    卸载</span><br><span class="line">	yum list              显示所有</span><br><span class="line">	yum search vim        搜索</span><br><span class="line">常用选项</span><br><span class="line">	-y   过程全部yes</span><br><span class="line">	--downloadonly   只下载不安装</span><br><span class="line">       <span class="comment">#使用rpm -ivh 包名 安装</span></span><br><span class="line">	--downloaddir    指定下载的目录</span><br><span class="line">	yum install -y --downloadonly --downloaddir=./ wget</span><br></pre></td></tr></table></figure>
<p>rpm安装</p>
<p>yum是依赖rpm的，rpm下载和yum下载几乎一样</p>
<p>源码安装</p>
<p>先下载，在编译安装，一般依赖于gcc和make或者其他的依赖包，较为复杂</p>
<p>oneinstack 安装</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">Do you want to <span class="built_in">enable</span> iptables? [y/n]: y</span><br><span class="line"></span><br><span class="line">Do you want to install Web server? [y/n]: y</span><br><span class="line"></span><br><span class="line">Please select Nginx server:</span><br><span class="line">	1. Install Nginx</span><br><span class="line">	2. Install Tengine</span><br><span class="line">	3. Install OpenResty</span><br><span class="line">	4. Do not install</span><br><span class="line">Please input a number:(Default 1 press Enter) 1</span><br><span class="line"></span><br><span class="line">Please select Apache server:</span><br><span class="line">	1. Install Apache-2.4</span><br><span class="line">	2. Install Apache-2.2</span><br><span class="line">	3. Do not install</span><br><span class="line">Please input a number:(Default 3 press Enter) 1</span><br><span class="line"></span><br><span class="line">Please select tomcat server:</span><br><span class="line">	1. Install Tomcat-9</span><br><span class="line">	2. Install Tomcat-8</span><br><span class="line">	3. Install Tomcat-7</span><br><span class="line">	4. Install Tomcat-6</span><br><span class="line">	5. Do not install</span><br><span class="line">Please input a number:(Default 5 press Enter) 5</span><br><span class="line"></span><br><span class="line">Do you want to install Database? [y/n]: y</span><br><span class="line"></span><br><span class="line">Please select a version of the Database:</span><br><span class="line">	 1. Install MySQL-8.0</span><br><span class="line">	 2. Install MySQL-5.7</span><br><span class="line">	 3. Install MySQL-5.6</span><br><span class="line">	 4. Install MySQL-5.5</span><br><span class="line">	 5. Install MariaDB-10.2</span><br><span class="line">	 6. Install MariaDB-10.1</span><br><span class="line">	 7. Install MariaDB-10.0</span><br><span class="line">	 8. Install MariaDB-5.5</span><br><span class="line">	 9. Install Percona-5.7</span><br><span class="line">	10. Install Percona-5.6</span><br><span class="line">	11. Install Percona-5.5</span><br><span class="line">	12. Install AliSQL-5.6</span><br><span class="line">	13. Install PostgreSQL</span><br><span class="line">	14. Install MongoDB</span><br><span class="line">Please input a number:(Default 2 press Enter) 2</span><br><span class="line"></span><br><span class="line">Do you want to install redis? [y/n]: y</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/05/10/centos7__4/" data-id="cjh5njvq1000ezsqx0vqpd465" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/blog/2018/05/11/centos7__5/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/blog/2018/05/10/centos6.8/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/04/">April 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2018/05/11/Ubuntu/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/05/11/samba/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/05/11/nginx配置详解/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/05/11/centos7__5/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/05/10/centos7__4/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 ZY<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js"></script>



  </div>
</body>
</html>