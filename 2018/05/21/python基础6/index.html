<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>ZY</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="#Lesson_06  ##第九章 ###【4】集合（set） 在我的世界里你就是唯一，集合是个专一的类型 那么什么是集合了，集合就是没有key的dict，我们看个例子： 123456dict1 = &amp;#123;1,2,3,4,5,4,3,2,1&amp;#125;print(dict1,type(dict1))#&amp;#123;1, 2, 3, 4, 5&amp;#125; &amp;lt;class &apos;set&apos;&amp;gt;">
<meta property="og:type" content="article">
<meta property="og:title" content="ZY">
<meta property="og:url" content="https://jyue0812.github.io/2018/05/21/python基础6/index.html">
<meta property="og:site_name" content="ZY">
<meta property="og:description" content="#Lesson_06  ##第九章 ###【4】集合（set） 在我的世界里你就是唯一，集合是个专一的类型 那么什么是集合了，集合就是没有key的dict，我们看个例子： 123456dict1 = &amp;#123;1,2,3,4,5,4,3,2,1&amp;#125;print(dict1,type(dict1))#&amp;#123;1, 2, 3, 4, 5&amp;#125; &amp;lt;class &apos;set&apos;&amp;gt;">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-01-31T06:08:58.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ZY">
<meta name="twitter:description" content="#Lesson_06  ##第九章 ###【4】集合（set） 在我的世界里你就是唯一，集合是个专一的类型 那么什么是集合了，集合就是没有key的dict，我们看个例子： 123456dict1 = &amp;#123;1,2,3,4,5,4,3,2,1&amp;#125;print(dict1,type(dict1))#&amp;#123;1, 2, 3, 4, 5&amp;#125; &amp;lt;class &apos;set&apos;&amp;gt;">
  
    <link rel="alternate" href="/blog/atom.xml" title="ZY" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/blog/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">ZY</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://jyue0812.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-python基础6" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/05/21/python基础6/" class="article-date">
  <time datetime="2018-05-21T01:01:10.113Z" itemprop="datePublished">2018-05-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#Lesson_06</p>
<hr>
<p>##第九章</p>
<p>###【4】集合（set）</p>
<p>在我的世界里你就是唯一，集合是个专一的类型</p>
<p>那么什么是集合了，集合就是没有key的dict，我们看个例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">dict1 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>&#125;</span><br><span class="line"></span><br><span class="line">print(dict1,type(dict1))</span><br><span class="line"></span><br><span class="line"><span class="comment">#&#123;1, 2, 3, 4, 5&#125; &lt;class 'set'&gt;</span></span><br></pre></td></tr></table></figure>
<p>上面提到了，set是很专一的，它会把重复的类型给去除掉。</p>
<p>那么set不像dict那样是映射关系，那么我们怎么去找它的索引了。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dict1 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>&#125;</span><br><span class="line"></span><br><span class="line">print(dict1[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">#TypeError: 'set' object does not support indexing</span></span><br></pre></td></tr></table></figure>
<p>上面的例子中出现了错误，为什么了，因为set是无序的,也就是它的索引会变动，所以要取出set中的值要把它转成其它类型,才能访问索引。</p>
<p>####创建set</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;<span class="string">'nihao'</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">'hello'</span>&#125;</span><br><span class="line"></span><br><span class="line">set2 = set()</span><br><span class="line"></span><br><span class="line">set3 = set([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line"></span><br><span class="line">print(set1,type(set1))</span><br><span class="line">print(set2,type(set2))</span><br><span class="line">print(set3,type(set3))</span><br><span class="line"></span><br><span class="line"><span class="comment">#&#123;'nihao', 2, 3, 'hello'&#125; &lt;class 'set'&gt;</span></span><br><span class="line"><span class="comment">#set() &lt;class 'set'&gt;</span></span><br><span class="line"><span class="comment">#&#123;1, 2, 3, 4, 5&#125; &lt;class 'set'&gt;</span></span><br></pre></td></tr></table></figure>
<p>课堂小练习：</p>
<p>去除list中的重复值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">list1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">print(list(set(list1)))</span><br><span class="line"></span><br><span class="line"><span class="comment">#[1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>
<p>####访问集合</p>
<p>由于集合是无序的，所以了不能用下标的方法进行访问，我们可以用迭代的方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">set1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> v <span class="keyword">in</span> set1:</span><br><span class="line">    print(v,end=<span class="string">' '</span>)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#1 2 3 4 5 6 7</span></span><br></pre></td></tr></table></figure>
<p>当然也可以使用 in  和 not in 判断值在不在set中：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">set1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]</span><br><span class="line"></span><br><span class="line">print(<span class="number">2</span> <span class="keyword">not</span> <span class="keyword">in</span> set1)</span><br><span class="line">print(<span class="number">1</span> <span class="keyword">in</span> set1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#False</span></span><br><span class="line"><span class="comment">#True</span></span><br></pre></td></tr></table></figure>
<p>也可以使用add()和remove()去添加和删除元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">set1 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>&#125;</span><br><span class="line"></span><br><span class="line">set1.add(<span class="number">8</span>)</span><br><span class="line">set1.remove(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">print(set1)</span><br><span class="line"></span><br><span class="line">&#123;<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>&#125;</span><br></pre></td></tr></table></figure>
<p>###【5】不可变集合</p>
<p>有的时候我们也希望集合更具有稳定性，也就是像元祖那样不能随意的增加或删除集合中的元素。那么我们定义不可变的集合，这里使用的是frozenset（）函数，没错，就是把元素frozen(冰冻)。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">set1 = frozenset(&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>&#125;)</span><br><span class="line"></span><br><span class="line">set1.add(<span class="number">8</span>)</span><br><span class="line"></span><br><span class="line">print(set1)</span><br><span class="line"></span><br><span class="line"><span class="comment">#AttributeError: 'frozenset' object has no attribute 'add'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">s8 = set([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">s9 = set([<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"><span class="comment">#交集</span></span><br><span class="line">a1 = s8 &amp; s9</span><br><span class="line">print(a1)</span><br><span class="line">print(type(a1))</span><br><span class="line"><span class="comment">#并集</span></span><br><span class="line">a2 = s8 | s9</span><br><span class="line">print(a2)</span><br><span class="line">print(type(a2))</span><br><span class="line"><span class="comment">#差集</span></span><br><span class="line">a3 = s9 ^ s8</span><br><span class="line">print(a3)</span><br><span class="line">print(type(type(a3)))</span><br><span class="line"></span><br><span class="line"><span class="comment">#&#123;2, 3&#125;</span></span><br><span class="line"><span class="comment">#&lt;class 'set'&gt;</span></span><br><span class="line"><span class="comment">#&#123;1, 2, 3, 4&#125;</span></span><br><span class="line"><span class="comment">#&lt;class 'set'&gt;</span></span><br><span class="line"><span class="comment">#&#123;1, 4&#125;</span></span><br><span class="line"><span class="comment">#&lt;class 'type'&gt;</span></span><br></pre></td></tr></table></figure>
<p>###【5】再回首，类型转换</p>
<p>以前我们学习了int、float、str、bool等类型的转换，<br>现在我们学习set、dict、tuple、list的类型转换。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#list--&gt;set</span></span><br><span class="line">l1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">s1 = set(l1)</span><br><span class="line">print(s1)</span><br><span class="line"></span><br><span class="line"><span class="comment">#tuple--&gt;set</span></span><br><span class="line">t2 = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">2</span>)</span><br><span class="line">s2 = set(t2)</span><br><span class="line">print(s2)</span><br><span class="line"></span><br><span class="line"><span class="comment">#set--&gt;list</span></span><br><span class="line">s3 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;</span><br><span class="line">l3 = list(s3)</span><br><span class="line">print(l3)</span><br><span class="line"></span><br><span class="line"><span class="comment">#set--&gt;tuple</span></span><br><span class="line">s4 = &#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">t4 = tuple(s4)</span><br><span class="line">print(t4)</span><br></pre></td></tr></table></figure>
<p>#####来一个有趣的练习：</p>
<p>使用zip(key,value)函数</p>
<p>使用zip函数的是把两个list或者tuple合拼成一个（（key,value），key,value））格式</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">val = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line">key = [<span class="string">'one'</span>,<span class="string">'two'</span>,<span class="string">'three'</span>,<span class="string">'foul'</span>,<span class="string">'five'</span>]</span><br><span class="line">dict1 = dict(zip(key,val))</span><br><span class="line">print(dict1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#&#123;'one': 1, 'two': 2, 'three': 3, 'foul': 4, 'five': 5&#125;</span></span><br></pre></td></tr></table></figure>
<p>二维矩阵变换（矩阵的行列互换）</p>
<p>比如我们有一个由列表描述的二维矩阵</p>
<p>zip([seql, …])接受一系列可迭代对象作为参数，将对象中对应的元素打包成一个个tuple（元组），然后返回由这些tuples组成的list（列表）。若传入参数的长度不等，则返回list的长度和参数中长度最短的对象相同。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">a = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]]</span><br><span class="line">print(list(zip(*a)))</span><br><span class="line"></span><br><span class="line"><span class="comment">#[(1, 4, 7), (2, 5, 8), (3, 6, 9)]</span></span><br></pre></td></tr></table></figure>
<p>#####另一种生成方式,生成器生成列表</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">print(list(x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>)))</span><br><span class="line">print(tuple(x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>)))</span><br><span class="line">print(set(x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment">#[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"><span class="comment">#(0, 1, 2, 3, 4, 5, 6, 7, 8, 9)</span></span><br><span class="line"><span class="comment">#&#123;0, 1, 2, 3, 4, 5, 6, 7, 8, 9&#125;</span></span><br></pre></td></tr></table></figure>
<p>###【6】迭代器</p>
<p>####可迭代对象</p>
<p>可迭代对象：可以直接作用于for循环的对象统称为可迭代对象(Iterable)。可以用isinstance()去判断一个对象是否是Iterable对象</p>
<p>可以直接作用于for的数据类型一般分两种</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、集合数据类型，如list、tuple、dict、set、string</span><br><span class="line"><span class="number">2</span>、是generator，包括生成器和带<span class="keyword">yield</span>的generator function</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span>  collections <span class="keyword">import</span> Iterable</span><br><span class="line"></span><br><span class="line"><span class="comment">#首先引入collections文件Iterable的类</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span>  collections <span class="keyword">import</span> Iterable</span><br><span class="line"></span><br><span class="line">print(isinstance([], Iterable))</span><br><span class="line">print(isinstance((), Iterable))</span><br><span class="line">print(isinstance(&#123;&#125;, Iterable))</span><br><span class="line">print(isinstance(<span class="string">""</span>, Iterable))</span><br><span class="line">print(isinstance((x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>)), Iterable))</span><br><span class="line">print(isinstance(<span class="number">1</span>, Iterable))</span><br><span class="line"></span><br><span class="line"><span class="comment">#True</span></span><br><span class="line"><span class="comment">#True</span></span><br><span class="line"><span class="comment">#True</span></span><br><span class="line"><span class="comment">#True</span></span><br><span class="line"><span class="comment">#True</span></span><br><span class="line"><span class="comment">#False</span></span><br></pre></td></tr></table></figure>
<p>####迭代器</p>
<p>迭代器：不但可以作用于for循环，还可以被next()函数不断调用并返回下一个值，直到最后跑出一个StopIteration错误表示无法继续返回下一个值</p>
<p>可以被next()函数调用并不断返回下一个值的对象称为迭代器(Iterator对象)</p>
<p>可以使用isinstance()函数判断一个对象是否是Iterator对象</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span>  collections <span class="keyword">import</span> Iterator</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span>  collections <span class="keyword">import</span> Iterator</span><br><span class="line"></span><br><span class="line">print(isinstance([], Iterator))</span><br><span class="line">print(isinstance((), Iterator))</span><br><span class="line">print(isinstance(&#123;&#125;, Iterator))</span><br><span class="line">print(isinstance(<span class="string">""</span>, Iterator))</span><br><span class="line">print(isinstance((x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>)), Iterator))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#False</span></span><br><span class="line"><span class="comment">#False</span></span><br><span class="line"><span class="comment">#False</span></span><br><span class="line"><span class="comment">#False</span></span><br><span class="line"><span class="comment">#True</span></span><br></pre></td></tr></table></figure>
<p>####可迭代对象指针下移</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">l = (x <span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">23</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">64</span>,<span class="number">3435</span>])</span><br><span class="line">print(next(l))</span><br><span class="line">print(next(l))</span><br><span class="line">print(next(l))</span><br><span class="line">print(next(l))</span><br><span class="line">print(next(l))</span><br><span class="line"><span class="comment"># print(next(l))</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#23</span></span><br><span class="line"><span class="comment">#4</span></span><br><span class="line"><span class="comment">#5</span></span><br><span class="line"><span class="comment">#64</span></span><br><span class="line"><span class="comment">#3435</span></span><br><span class="line"><span class="comment">##如果后面已经没有值了，指针继续下移会报错</span></span><br></pre></td></tr></table></figure>
<p>####转成Iterator对象</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span>  collections <span class="keyword">import</span> Iterator</span><br><span class="line"></span><br><span class="line">a = iter([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">print(next(a))</span><br><span class="line">print(next(a))</span><br><span class="line"></span><br><span class="line">print(isinstance(iter([]), Iterator))</span><br><span class="line">print(isinstance(iter(()), Iterator))</span><br><span class="line">print(isinstance(iter(&#123;&#125;), Iterator))</span><br><span class="line">print(isinstance(iter(<span class="string">''</span>), Iterator))</span><br><span class="line"></span><br><span class="line"><span class="comment">#1</span></span><br><span class="line"><span class="comment">#2</span></span><br><span class="line"><span class="comment">#True</span></span><br><span class="line"><span class="comment">#True</span></span><br><span class="line"><span class="comment">#True</span></span><br><span class="line"><span class="comment">#True</span></span><br></pre></td></tr></table></figure>
<p>##第十章</p>
<p>###【1】函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">认识函数：在一个完整的项目中，某些功能会反复的使用。那么会将功能封装成函数，当我们要使用功能的时候直接调用函数即可</span><br><span class="line"></span><br><span class="line">本质：函数就是对功能的封装</span><br><span class="line"></span><br><span class="line">优点</span><br><span class="line"><span class="number">1</span>、简化代码结构，增加了代码的复用度(重复使用的程度)</span><br><span class="line"><span class="number">2</span>、如果想修改某些功能或者调试某个BUG，还需要修改对应的函数即可</span><br></pre></td></tr></table></figure>
<h4 id="一、python的‘’积木“"><a href="#一、python的‘’积木“" class="headerlink" title="一、python的‘’积木“"></a>一、python的‘’积木“</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">函数就像是积木一样通过创意和想想可以自由的组合，从而使我们的代码，变的更加的简单易懂,节约开发时间，不需要去理解底层的运行，把复杂的事情变的简单有乐趣。</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在学习这一章节之前了，其实我们就已经接触过BIF了，例如print()、range()这些都是python自己封装的函数提供给我们使用的</span><br></pre></td></tr></table></figure>
<h5 id="1、创建和调用函数"><a href="#1、创建和调用函数" class="headerlink" title="1、创建和调用函数"></a>1、创建和调用函数</h5><p>​    函数的定义:    </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">关键字 def 函数名():</span></span><br><span class="line"><span class="string">			函数体</span></span><br><span class="line"><span class="string">			return 返回表达式</span></span><br><span class="line"><span class="string">调用  函数名()</span></span><br><span class="line"><span class="string">		</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="comment">#函数名可以以使用大小写字母、下划线开头，不能以数字开头</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mydef</span><span class="params">()</span>:</span><span class="comment">#关键字def 函数名()：</span></span><br><span class="line">    print(<span class="string">'这是我的第一个函数'</span>)</span><br><span class="line">    print(<span class="string">'我表示非常的激动...'</span>)</span><br><span class="line">    print(<span class="string">'在这里感谢我的父母，感谢千锋，你们成就了我'</span>)</span><br><span class="line">mydef()</span><br><span class="line"><span class="comment">#注意：在函数名后面一定要加上小括号，小括号的作用是用来保存参数的</span></span><br><span class="line"><span class="comment">#函数的运行机制：mydef()发生调用操作时，python会自动往上去寻找 def mydef（）：定义的过程，然后依次执行该代码块内所包含的所用代码部分。</span></span><br></pre></td></tr></table></figure>
<p>调用代码三次：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mydef</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'这是我的第一个函数'</span>)</span><br><span class="line">    print(<span class="string">'我表示非常的激动...'</span>)</span><br><span class="line">    print(<span class="string">'在这里感谢我的父母，感谢千锋，你们成就了我'</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):     <span class="comment">#使用循环反复的调用</span></span><br><span class="line">	mydef()</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">result:</span></span><br><span class="line"><span class="string">这是我的第一个函数</span></span><br><span class="line"><span class="string">我表示非常的激动...</span></span><br><span class="line"><span class="string">在这里感谢我的父母，感谢千锋，你们成就了我</span></span><br><span class="line"><span class="string">这是我的第一个函数</span></span><br><span class="line"><span class="string">我表示非常的激动...</span></span><br><span class="line"><span class="string">在这里感谢我的父母，感谢千锋，你们成就了我</span></span><br><span class="line"><span class="string">这是我的第一个函数</span></span><br><span class="line"><span class="string">我表示非常的激动...</span></span><br><span class="line"><span class="string">在这里感谢我的父母，感谢千锋，你们成就了我</span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure>
<h5 id="2、函数的参数"><a href="#2、函数的参数" class="headerlink" title="2、函数的参数"></a>2、函数的参数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```python</span><br><span class="line">def mydef(name):      #从某种意义上来说括号中的参数就是个变量</span><br><span class="line">    print(name + &apos;是帅锅&apos;)</span><br><span class="line"></span><br><span class="line">mydef(&apos;刘德华&apos;)</span><br><span class="line">mydef(&apos;郭富城&apos;)</span><br><span class="line">mydef(&apos;张学友&apos;)</span><br><span class="line">mydef(</span><br></pre></td></tr></table></figure>
<h5 id="3、函数的返回值"><a href="#3、函数的返回值" class="headerlink" title="3、函数的返回值"></a>3、函数的返回值</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```python</span><br><span class="line">def add(num1,num2):</span><br><span class="line">    return num1 + num2</span><br><span class="line">print(add(1,2)) </span><br><span class="line">#注意：当函数内部使用的是return的时候，调用的时候没有print()的话，是不会打印输出的</span><br><span class="line">#如果函数没有了参数，那么函数就变的非常的单一，一个函数就只能完成一个功能</span><br></pre></td></tr></table></figure>
<h4 id="二、灵活强大的用法"><a href="#二、灵活强大的用法" class="headerlink" title="二、灵活强大的用法"></a>二、灵活强大的用法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##### 1、形参和实参</span><br><span class="line"></span><br><span class="line">```参数从调用的角度来说，分为形式参数和实际参数。python和绝大数语言一样，形参指的是函数创建和定义过程中的小括号里面的参数（可以理解卫一个新的变量）而实参指的是函数在调用的时候传递进来的参数或值</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mydef</span><span class="params">(name)</span>:</span> <span class="comment">#小括号里面的name就是形参</span></span><br><span class="line">    <span class="keyword">return</span> name</span><br><span class="line">myname = <span class="string">'成龙'</span></span><br><span class="line">print(mydef(myname)) <span class="comment">#调用时候的myname就是实参</span></span><br><span class="line"><span class="comment">#在这个代码段中把 myname 中的值（成龙）赋值给了 name</span></span><br><span class="line"><span class="comment">#相当于 name = myname</span></span><br><span class="line"><span class="comment">#可以理解为结婚以后夫妻的财产是共有的，没有为什么，法律规定的，这里也一样，语法规定的</span></span><br><span class="line"><span class="comment">#不论是形参还是实参都只是一个概念和名词，只需要去记住他，不需要去纠结为什么</span></span><br></pre></td></tr></table></figure>
<h5 id="2、函数的文档"><a href="#2、函数的文档" class="headerlink" title="2、函数的文档"></a>2、函数的文档</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```python</span><br><span class="line">def mydef(params):</span><br><span class="line">    #引号中的部分就是我们书写文档的地方   并且文档部分应该写在函数的开头</span><br><span class="line">    &apos;&apos;&apos; </span><br><span class="line">    这是我们第一个文档</span><br><span class="line">    :param params:</span><br><span class="line">    :return:</span><br><span class="line">    &apos;&apos;&apos;</span><br><span class="line">    return params</span><br><span class="line">#print(mydef.__doc__)     #显示文档的内容  函数名（不带小括号）.__doc__</span><br><span class="line">help(mydef)               </span><br><span class="line">#当函数不知道怎么去使用的时候可以用help()去查看文档，当然使用方法需要自己去写</span><br></pre></td></tr></table></figure>
<h5 id="3、关键字参数"><a href="#3、关键字参数" class="headerlink" title="3、关键字参数"></a>3、关键字参数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```python</span><br><span class="line">def mydef(name,age):</span><br><span class="line">    print(name,&apos;他的年龄是&apos;,age,&apos;岁&apos;)</span><br><span class="line">mydef(21,&apos;hal&apos;)</span><br><span class="line"></span><br><span class="line">#应为参数顺序错误导致结果不正确</span><br><span class="line">#result：21 他的年龄是 hal 岁</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```python</span><br><span class="line">def mydef(name,age):</span><br><span class="line">    print(name,&apos;他的年纪是&apos;,age,&apos;岁&apos;)</span><br><span class="line">mydef(age=23,name=&apos;小米&apos;)</span><br><span class="line"></span><br><span class="line">#使用了关键字参数以后顺序错了，但是结果依然正确，所谓的关键字就是指定的形参</span><br><span class="line">#result:小米 他的年纪是 23 岁</span><br></pre></td></tr></table></figure>
<h5 id="4、默认参数"><a href="#4、默认参数" class="headerlink" title="4、默认参数"></a>4、默认参数</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```python</span><br><span class="line">def mydef(name=&apos;千锋&apos;,action=&apos;是最好的IT教育机构&apos;):</span><br><span class="line">    print(name,action)</span><br><span class="line">    </span><br><span class="line">mydef()</span><br><span class="line">#在参数没有传递值的时候也不会报错，因为有了默认的值</span><br><span class="line">#result:千锋 是最好的IT教育机构</span><br><span class="line"></span><br><span class="line">mydef(name=&apos;中国&apos;,action=&apos;是最伟大的国家&apos;)</span><br><span class="line">#在参数传递的过程中，替换了默认的值</span><br><span class="line">#result:中国 是最伟大的国家</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">##### 5、收集参数（可变参数）</span><br><span class="line"></span><br><span class="line">```这个名字听起来比较的新鲜。发明这种机制的人就是不知道在特定的情况下会用到多少的参数...听起来您认不解，但是确实有这种情况，这时候需要在参数前面加上（*）星号就可以了</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test</span><span class="params">(* params)</span>:</span></span><br><span class="line">    print(<span class="string">'params 有%d个参数'</span>%len(params))</span><br><span class="line">    print(<span class="string">'最后一个参数是：'</span>,params[<span class="number">-1</span>])</span><br><span class="line">    print(type(params))</span><br><span class="line">    print(params)</span><br><span class="line">test(<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">result:</span></span><br><span class="line"><span class="string">params 有5个参数</span></span><br><span class="line"><span class="string">最后一个参数是： 9</span></span><br><span class="line"><span class="string">&lt;class 'tuple'&gt;</span></span><br><span class="line"><span class="string">(1, 3, 5, 7, 9)</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#调用的时候传递多个参数，python会把多个收集参数打包成tuple(元祖)</span></span><br><span class="line"><span class="comment">#所以在查找第几个参数的时候可以使用元祖的查找方法</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```python</span><br><span class="line">def test(* params):</span><br><span class="line">    print(&apos;有%d个参数&apos; % len(params))</span><br><span class="line">    print(params[-1])</span><br><span class="line">    print(type(params))</span><br><span class="line">    print(type(params[-1]))  #list是被嵌套在tuple里面的</span><br><span class="line">    print(params)</span><br><span class="line">list = [1,3,5,7,9]</span><br><span class="line">test( list)</span><br><span class="line"></span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line">result:</span><br><span class="line">有1个参数</span><br><span class="line">[1, 3, 5, 7, 9]</span><br><span class="line">&lt;class &apos;tuple&apos;&gt;</span><br><span class="line">&lt;class &apos;list&apos;&gt;</span><br><span class="line">([1, 3, 5, 7, 9],)</span><br><span class="line">&apos;&apos;&apos;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```python</span><br><span class="line">def test(* params):</span><br><span class="line">    print(&apos;有%d个参数&apos; % len(params))</span><br><span class="line">    print(params[-1])</span><br><span class="line">    print(type(params))  </span><br><span class="line">    print(type(params[-1]))</span><br><span class="line">    print(params)</span><br><span class="line">list = [1,3,5,7,9]</span><br><span class="line">test(* list)  #解包以后的list是逐个传递的</span><br><span class="line"></span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line">result:</span><br><span class="line">有5个参数</span><br><span class="line">9</span><br><span class="line">&lt;class &apos;tuple&apos;&gt;</span><br><span class="line">&lt;class &apos;int&apos;&gt;</span><br><span class="line">(1, 3, 5, 7, 9)</span><br><span class="line">&apos;&apos;&apos;</span><br></pre></td></tr></table></figure>
<h4 id="三、函数的地盘"><a href="#三、函数的地盘" class="headerlink" title="三、函数的地盘"></a>三、函数的地盘</h4><h5 id="1、函数的过程"><a href="#1、函数的过程" class="headerlink" title="1、函数的过程"></a>1、函数的过程</h5><p>很多编程语言中，函数和过程其实是区分开的。一般认为函数(function)是返回值的，而过程(procedure)是简单、特殊并且没有返回值的。</p>
<p>也就是说，函数是干完事儿必须写报告的“苦逼”，而过程是完事后拍拍屁股一走了之的“小混蛋”。</p>
<p>python严格来说只有函数，没有过程！但是通过上面的例子看过去，没有return之前，python的function也是没有返回值？我们看看下面的例子</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mydef</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="number">123</span>)</span><br><span class="line">print(mydef())</span><br><span class="line"></span><br><span class="line"><span class="comment">#123</span></span><br><span class="line"><span class="comment">#None</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#没有return默认返回一个None</span></span><br></pre></td></tr></table></figure>
<h5 id="2、谈谈返回值"><a href="#2、谈谈返回值" class="headerlink" title="2、谈谈返回值"></a>2、谈谈返回值</h5><p>python可以利用序列打包多种类型的一次性返回值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mydef</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span></span><br><span class="line">print(mydef())</span><br><span class="line"></span><br><span class="line"><span class="comment">#(1, 2, 3, 4)</span></span><br></pre></td></tr></table></figure>
<h5 id="3、函数变量的作用域"><a href="#3、函数变量的作用域" class="headerlink" title="3、函数变量的作用域"></a>3、函数变量的作用域</h5><p>变量的作用域也就是平时所说的变量可见性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">discounts</span><span class="params">(price,rate)</span>:</span></span><br><span class="line">    final_price= price * rate</span><br><span class="line">    <span class="keyword">return</span> final_price</span><br><span class="line"></span><br><span class="line">old_price = <span class="number">80</span></span><br><span class="line">rate = <span class="number">0.5</span></span><br><span class="line">new_price = discounts(old_price,rate)</span><br><span class="line">print(new_price)</span><br><span class="line">print(final_price)</span><br><span class="line"></span><br><span class="line"><span class="comment">#40.0</span></span><br><span class="line"><span class="comment">#NameError: name 'final_price' is not defined</span></span><br></pre></td></tr></table></figure>
<p>错误的原因是final_price没有被定义过，因为他是discounts函数里面的内容，再有在函数体内部才有效，出了这个范围就不是它的地盘了。</p>
<p>总结一下：在函数里面定义的参数以及变量，都称谓局部变量，出了函数外，它们都是无效的。事实上，python在运行函数的时候，是利用内存中的‘栈（stack）’区域进行储存的，当执行完函数以后，函数中的所有内容都要被自动删去，所以在函数体外是找不到的。</p>
<p>和局部变量相对应的就是全局变量，全局变量拥有更加庞大的作用域</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">discounts</span><span class="params">(price,rate)</span>:</span></span><br><span class="line">    final_price= price * rate</span><br><span class="line">    print(old_price)</span><br><span class="line">    <span class="keyword">return</span> final_price</span><br><span class="line"></span><br><span class="line">old_price = <span class="number">80</span></span><br><span class="line">rate = <span class="number">0.5</span></span><br><span class="line">new_price = discounts(old_price,rate)</span><br><span class="line">print(new_price)</span><br><span class="line"></span><br><span class="line"><span class="comment">#80     #old_price在函数内部输出</span></span><br><span class="line"><span class="comment">#40.0</span></span><br></pre></td></tr></table></figure>
<p>看起来全局变量更加霸道，但是我们看看下面的例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">discounts</span><span class="params">(price,rate)</span>:</span></span><br><span class="line">    old_price = <span class="number">100</span></span><br><span class="line">    final_price= price * rate</span><br><span class="line">    print(<span class="string">'这是里面的old_price'</span>,old_price)</span><br><span class="line">    <span class="keyword">return</span> final_price</span><br><span class="line"></span><br><span class="line">old_price = <span class="number">80</span></span><br><span class="line">rate = <span class="number">0.5</span></span><br><span class="line">new_price = discounts(old_price,rate)</span><br><span class="line">print(<span class="string">'这是外面的old_price'</span>,old_price)</span><br><span class="line">print(new_price)</span><br><span class="line"></span><br><span class="line"><span class="comment">#这是里面的old_price 100</span></span><br><span class="line"><span class="comment">#这是外面的old_price 80</span></span><br><span class="line"><span class="comment">#40.0</span></span><br></pre></td></tr></table></figure>
<p>这样的话就已经出现奇怪的问题。</p>
<p>其实函数里面的old_price是python自己创建的新的局部变量，但是全局的old_price纹丝不动。</p>
<p>####四、内嵌函数和闭包</p>
<h5 id="1、global关键字"><a href="#1、global关键字" class="headerlink" title="1、global关键字"></a>1、global关键字</h5><p>刚刚我们在上一个例子中看到了Python中对于全局变量的保护，也就是在函数内部重新复制的话，python会创建一个变量名一样的局部变量，但是在不经意中会出现衡多的bug，代码的维护也会变得困难。</p>
<p>衡多编程语言为了避免这一个情况，都会使用<code>global</code>关键字，也就是说我们上面的那种方法就不要在用了。例子如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">count = <span class="number">5</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myfun</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> count</span><br><span class="line">    count = <span class="number">10</span></span><br><span class="line">    <span class="keyword">return</span> count</span><br><span class="line">print(myfun())</span><br><span class="line">print(count)</span><br><span class="line"></span><br><span class="line"><span class="comment">#10</span></span><br><span class="line"><span class="comment">#10</span></span><br></pre></td></tr></table></figure>
<p>看上面的例子内部的count重新复制，外层的count也随之改变</p>
<h5 id="2、内嵌函数"><a href="#2、内嵌函数" class="headerlink" title="2、内嵌函数"></a>2、内嵌函数</h5><p>什么是内嵌函数，就是允许在函数内部创建另外一个函数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myfun</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'fun1'</span>)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">myfun2</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'fun2'</span></span><br><span class="line">    <span class="keyword">return</span> myfun2()</span><br><span class="line">print(myfun())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#fun1</span></span><br><span class="line"><span class="comment">#fun2</span></span><br></pre></td></tr></table></figure>
<p>这个函数虽小，但五脏俱全，不过看起来好像没什么用。</p>
<font color="red">注意：myfun2是myfun1的内部函数，所以它的作用域也在myfun1的函数体内。如果要在外部调用就会报错。</font>

<h5 id="3、闭包（closure）"><a href="#3、闭包（closure）" class="headerlink" title="3、闭包（closure）"></a>3、闭包（closure）</h5><p>闭包是函数重要的组成结构，函数编程是一种编程范式。著名的函数编程语言LISP，这个大家可能知道，主要用于绘图和人工智能，一直被认为是天才使用的语言。</p>
<p>那么语言不同，那么闭包的的实现方式也就不同。</p>
<p>python中的闭包定义：一个内部函数里，对外部的作用域（而不是全局作用域）的变量进行引用，那么内部函数就被认为是闭包。看例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">funx</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">funy</span><span class="params">(y)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> x * y</span><br><span class="line">    <span class="keyword">return</span> funy  <span class="comment">#这里是不带括号的</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#两种调用格式</span></span><br><span class="line">i = funx(<span class="number">8</span>)</span><br><span class="line">print(i(<span class="number">5</span>))</span><br><span class="line">print(funx(<span class="number">10</span>)(<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#40</span></span><br><span class="line"><span class="comment">#50</span></span><br></pre></td></tr></table></figure>
<font color="red">注意：它和闭包是一个意思，所以不能直接去调用funy()，否则会报错。</font>

<p>#####闭包中的变量关系对应</p>
<p>在闭包中外面一层函数中定义的变量是不能再内层函数中直接修改的，只能访问，相当于全局变量和局部变量的关系，看例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">funx</span><span class="params">()</span>:</span></span><br><span class="line">    x = <span class="number">5</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">funy</span><span class="params">()</span>:</span></span><br><span class="line">        x *= x</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">return</span> funy  <span class="comment">#这里是不带括号的</span></span><br><span class="line"></span><br><span class="line">print(funx()())</span><br><span class="line"></span><br><span class="line"><span class="comment">#UnboundLocalError: local variable 'x' referenced before assignment</span></span><br></pre></td></tr></table></figure>
<p>这个报错信息和全局变量是一样的，python认为内部函数的x是局部变量，外部的函数x被屏蔽了起来。所以</p>
<h4 id="五、lambda表达式（匿名函数）"><a href="#五、lambda表达式（匿名函数）" class="headerlink" title="五、lambda表达式（匿名函数）"></a>五、lambda表达式（匿名函数）</h4><p>python允许使用 lambda 关键字来创建匿名函数，我们提到一个新的关键字<code>匿名函数</code>。那是一个什么函数了？匿名函数和普通的函数在使用上又有什么不同了，使用匿名函数又有哪些优势了？</p>
<p>看看比较，这是平常的定义：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">de</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * x+<span class="number">1</span></span><br><span class="line">print(de(<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<p>zai看看lambda：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">a = <span class="keyword">lambda</span> x: <span class="number">2</span> * x + <span class="number">1</span></span><br><span class="line">print(a(<span class="number">2</span>))</span><br></pre></td></tr></table></figure>
<p>我们可以看到lambda的语法风格非常的简洁</p>
<p>lambda 关键字 冒号左边是参数，多个参数可以用逗号隔开；冒号右边是表达式，lambda返回的是函数表达式，所以要把它赋给一个变量，那么变量就相当于一个函数名</p>
<p>演示一个多参数的lambda：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">f = <span class="keyword">lambda</span> x,y: x + y</span><br><span class="line">print(f(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#7</span></span><br></pre></td></tr></table></figure>
<p>看上去好像是没用，因为我们现在遇不到使用它的场景：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、python在编写一些执行脚本的时候可以使用<span class="keyword">lambda</span>，这样可以接受定义函数的过程，比如写一个简单的脚本管理服务器。</span><br><span class="line"><span class="number">2</span>、对于一些比较抽象，并且整个程序执行下来只需要调用一两次的，有时候给函数起名实在想不出来的。</span><br><span class="line"><span class="number">3</span>、简化代码的可读性。</span><br></pre></td></tr></table></figure>
<h5 id="1、filter"><a href="#1、filter" class="headerlink" title="1、filter()"></a>1、filter()</h5><p>它是一个内建函数过滤器，就是一个BIF</p>
<p>第一个参数是一个函数也可以是一个None，如果是None的话会把值为True的选取出来；如果是函数的话，就把第二个参数传递进去计算，第二个参数应该是一个可迭代的序列；</p>
<p>我们可以用help()来查看它</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(help(filter))</span><br><span class="line"></span><br><span class="line"><span class="comment">#Help on class filter in module builtins:</span></span><br></pre></td></tr></table></figure>
<p>看看我们使用的例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">temp = filter(<span class="keyword">None</span>,[<span class="number">2</span>,<span class="number">0</span>,<span class="keyword">False</span>,<span class="keyword">True</span>])</span><br><span class="line">print(list(temp)</span><br><span class="line"></span><br><span class="line"><span class="comment">#[1, 2, True]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">odd</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x % <span class="number">2</span></span><br><span class="line">temp = filter(odd,range(<span class="number">10</span>))</span><br><span class="line">print(list(temp))</span><br><span class="line"></span><br><span class="line"><span class="comment">#[1, 3, 5, 7, 9]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(set(filter(<span class="keyword">lambda</span> x: x % <span class="number">2</span>,range(<span class="number">10</span>))))</span><br><span class="line"></span><br><span class="line"><span class="comment">#&#123;1, 3, 5, 7, 9&#125;</span></span><br></pre></td></tr></table></figure>
<h5 id="2、map"><a href="#2、map" class="headerlink" title="2、map()"></a>2、map()</h5><p>map()了在这里不是地图的意思，在编程领域，map一般作“映射”来解释。map()这个内置数也有两个参数，和filter()相似，但是它的第一个参数只能是函数：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(help(map))</span><br><span class="line"></span><br><span class="line"><span class="comment">#Help on class map in module builtins:</span></span><br></pre></td></tr></table></figure>
<p>看下面例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(list(map(<span class="keyword">lambda</span> x: x * <span class="number">2</span> , range(<span class="number">10</span>))))</span><br><span class="line"></span><br><span class="line"><span class="comment">#[0, 2, 4, 6, 8, 10, 12, 14, 16, 18]</span></span><br></pre></td></tr></table></figure>
<h3 id="【2】递归"><a href="#【2】递归" class="headerlink" title="【2】递归"></a>【2】递归</h3><h4 id="1、驾驭递归"><a href="#1、驾驭递归" class="headerlink" title="1、驾驭递归"></a>1、驾驭递归</h4><p>优秀的程序员是伯乐，那么递归就是千里马、万里马。普通的程序员用迭代，‘天才的程序员’用递归。</p>
<p>递归的这个概念，是算法的范畴，不是属于python的东西，但是当你掌握了递归的技巧和思路后，你会发现这是一个非常棒的编程思路。</p>
<p>那么递归在我们日常生活中有那些例子？</p>
<p>谢尔宾斯基三角形：</p>
<image src="images/timg-2.jpeg" width="500">

<p>其实它就是一个树形的结构：</p>
<image src="images/timg.jpeg" width="500">


<p>说了这么多，递归的概念就是自身调用自身。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mydef</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> mydef(x+<span class="number">1</span>)</span><br><span class="line">print(mydef(<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#RecursionError: maximum recursion depth exceeded</span></span><br></pre></td></tr></table></figure>
<p>尝试这个例子，很多人都会出现这个错误，从理论上来说，这个程序会永远的执行下去，一直耗尽内存资源。但是python3出于保护机制，默认的递归深度是100次，所以你的代码才会停下来。不过你写写网络爬虫等其它工具，可能会爬的很深，那么可以自己设置递归的深度，如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">sys.setrecursionlimit(<span class="number">10000</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#设置最大深度为一万层</span></span><br></pre></td></tr></table></figure>
<p>####2、写一个求阶乘的函数<br>整数阶乘是指10 <em> 9 </em> 8 <em> 7…..</em> 1:</p>
<p>我们用迭代函数写一个：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mydef</span><span class="params">(n)</span>:</span></span><br><span class="line">    res = n</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,n):</span><br><span class="line">        res *= i</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">print(mydef(<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#120</span></span><br></pre></td></tr></table></figure>
<p>用递归写一个：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myrecursion</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n ==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> n * myrecursion(n<span class="number">-1</span>)</span><br><span class="line">print(myrecursion(<span class="number">5</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#120</span></span><br></pre></td></tr></table></figure>
<p>这个例子递归满足了两个条件：<br>(1）调用函数本身<br>(2)设置了正确的返回值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">myrecursion(<span class="number">5</span>) = <span class="number">5</span> * myrecursion(<span class="number">4</span>)</span><br><span class="line">	myrecursion(<span class="number">4</span>) = <span class="number">4</span> * myrecursion(<span class="number">3</span>)</span><br><span class="line">		myrecursion(<span class="number">3</span>) = <span class="number">5</span> * myrecursion(<span class="number">2</span>)</span><br><span class="line">			myrecursion(<span class="number">2</span>) = <span class="number">5</span> * myrecursion(<span class="number">1</span>)</span><br><span class="line">				myrecursion(<span class="number">1</span>) = <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>最后郑重的说一下，不是说会使用递归，把所用可以迭代的东西用递归来替代，真的这样作就是乌龟程序员了。为什么这么说，递归是自己调用自己，每次函数调用都需要进行压栈、弹栈、保存和恢复寄存器的栈操作，所以非常的耗费时间和空间。</p>
<p>另外，如果递归一旦忘记了返回，或者错误的设置了返回条件，那么执行这样的递归代码，就会是一个无底洞：只进不出！，所以递归，有来有回。</p>
<h4 id="3、斐波那契数列"><a href="#3、斐波那契数列" class="headerlink" title="3、斐波那契数列"></a>3、斐波那契数列</h4><p>斐波那契数列（Fibonacci sequence），又称黄金分割数列、因数学家列昂纳多·斐波那契（Leonardoda Fibonacci）以兔子繁殖为例子而引入，故又称为“兔子数列”，指的是这样一个数列：1、1、2、3、5、8、13、21、34、……在数学上，斐波纳契数列以如下被以递归的方法定义：F(0)=0，F(1)=1, F(n)=F(n-1)+F(n-2)（n&gt;=2，n∈N*）在现代物理、准晶体结构、化学等领域，斐波纳契数列都有直接的应用，为此，美国数学会从1963起出版了以《斐波纳契数列季刊》为名的一份数学杂志，用于专门刊载这方面的研究成果。</p>
<p>下面是他讲过的故事，如果兔子在出生两个月后就有繁殖能力，在拥有繁殖能力后，这对兔子每个月能生出一对兔子来，假设所有兔子都不会死去，那么一年后能有多少对兔子？</p>
<table>
<thead>
<tr>
<th>所有经过的月数</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
<th>12</th>
</tr>
</thead>
<tbody>
<tr>
<td>兔子的总对数</td>
<td>1</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>5</td>
<td>8</td>
<td>13</td>
<td>21</td>
<td>34</td>
<td>55</td>
<td>89</td>
<td>144</td>
</tr>
</tbody>
</table>
<p>数学中的定义：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">		|  <span class="number">1</span>,               当 n = <span class="number">1</span> 时</span><br><span class="line">F(n) =  |  <span class="number">1</span>,               当 n = <span class="number">2</span> 时</span><br><span class="line">		|  F(n<span class="number">-1</span>)+F(n<span class="number">-2</span>)    当 n &gt; <span class="number">2</span> 时</span><br></pre></td></tr></table></figure>
<p>假设现在我们经历了20个月，现在有多少对：</p>
<p>迭代实现：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fab</span><span class="params">(n)</span>:</span> <span class="comment">#n代表月数</span></span><br><span class="line">    a1 = <span class="number">1</span>  <span class="comment">#代表这个月现有对数</span></span><br><span class="line">    a2 = <span class="number">1</span>  <span class="comment">#代表下个月要出生的对数</span></span><br><span class="line">    a3 = <span class="number">1</span>  <span class="comment">#代表这个月总对数</span></span><br><span class="line">    <span class="keyword">if</span> n &lt;<span class="number">1</span>:</span><br><span class="line">        print(<span class="string">'输入有误'</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">    <span class="keyword">while</span> (n - <span class="number">2</span>) &gt; <span class="number">0</span>:</span><br><span class="line">        a3 = a1 + a2</span><br><span class="line">        a1 = a2</span><br><span class="line">        a2 = a3</span><br><span class="line">        n -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> a3</span><br><span class="line"></span><br><span class="line">result = fab(<span class="number">20</span>)</span><br><span class="line"><span class="keyword">if</span> result != <span class="number">-1</span>:</span><br><span class="line">    print(<span class="string">'总共有 % d对小兔崽子诞生！'</span> % result)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#总共有  6765对小兔崽子诞生！</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fab</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n &lt; <span class="number">1</span>:</span><br><span class="line">        print(<span class="string">'输入有误！'</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">    <span class="keyword">if</span> n ==<span class="number">1</span> <span class="keyword">or</span> n ==<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> fab(n<span class="number">-1</span>) + fab(n<span class="number">-2</span>)</span><br><span class="line">result = fab(<span class="number">20</span>)</span><br><span class="line"><span class="keyword">if</span> result != <span class="number">-1</span>:</span><br><span class="line">    print(<span class="string">'总共有 % d对小兔崽子诞生！'</span> % result)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#总共有  6765对小兔崽子诞生！</span></span><br></pre></td></tr></table></figure>
<p>上面的例子看，递归实现起来要简单一些，但是说过了递归消耗内存，消耗cpu，效率低，我们试试35个月的递归和迭代。</p>
<p>如果你想测试你的电脑牛不牛逼，不妨用递归试试。<br>递归实现。</p>
<h4 id="4、汉诺塔（课堂小练习）"><a href="#4、汉诺塔（课堂小练习）" class="headerlink" title="4、汉诺塔（课堂小练习）"></a>4、汉诺塔（课堂小练习）</h4><p>汉诺塔：汉诺塔（又称河内塔）问题是源于印度一个古老传说的益智玩具。大梵天创造世界的时候做了三根金刚石柱子，在一根柱子上从下往上按照大小顺序摞着64片黄金圆盘。大梵天命令婆罗门把圆盘从下面开始按大小顺序重新摆放在另一根柱子上。并且规定，在小圆盘上不能放大圆盘，在三根柱子之间一次只能移动一个圆盘。</p>
<p>汉罗塔游戏：</p>
<image src="images/timg-3.jpeg" width="500">


<pre><code>三根柱子分别是： X                  Y                Z
</code></pre><p>对于游戏的玩法:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">1</span>)将前<span class="number">63</span>个盘子从X移动到Y上，确保大盘在小盘下。</span><br><span class="line">(<span class="number">2</span>)将最底下的第<span class="number">64</span>个盘子从X移动到Z。</span><br><span class="line">(<span class="number">3</span>)将Y上的<span class="number">63</span>个盘子移动到Z上。</span><br></pre></td></tr></table></figure>
<p>思路如下：<br>最底下的盘子我们给它编号第64个，最上面的给编号第1个。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hanoi</span><span class="params">(n,x,y,z)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        print(x,<span class="string">'--&gt;'</span>,z) <span class="comment">#如果只有一层就直接x移动到z</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        hanoi(n<span class="number">-1</span>,x,z,y) <span class="comment">#将n-1的盘子从x移动到y上</span></span><br><span class="line">        print(x,<span class="string">'--&gt;'</span>,z) <span class="comment">#将最底下的第64个盘子从x移动到z</span></span><br><span class="line">        hanoi(n<span class="number">-1</span>,y,x,z) <span class="comment">#将Y上的63个盘子移动到z上</span></span><br><span class="line">hanoi(<span class="number">64</span>,<span class="string">'X'</span>,<span class="string">'Y'</span>,<span class="string">'Z'</span>)</span><br></pre></td></tr></table></figure>
<p>这就是递归的魔力</p>
<p>##作业</p>
<p>####封装函数，输入一个数字判断它是不是闰年<br>闰年的条件是 能被4整除 且不能被100整除</p>
</image></image></image>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/05/21/python基础6/" data-id="cjhfjx3ee000hw4qx9xhgnnti" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/blog/2018/05/21/python基础7/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/blog/2018/05/21/python基础5/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/04/">April 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2018/06/04/2018-06-04/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/05/21/jquery_3/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/05/21/pymysql/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/05/21/Mysql主从复制/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/05/21/MySQL第五课/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 ZY<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js"></script>



  </div>
</body>
</html>