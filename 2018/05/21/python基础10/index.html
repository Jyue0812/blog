<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>ZY</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="#Lesson 10  ##第十四章 ###给大家介绍“对象” 现代的编程语言里面无处不提到对象的，然而初学者并不知道什么是对象，那我们下面一点一点的剖析： 我们之前所学习的编程方式都属于面向过程，什么是面向过程了？ 1234561)自上而下顺序执行，逐步求精；2)其程序结构是按功能划分为若干个基本模块，这些模块形成一个树状结构；3)各模块之间的关系尽可能简单，在功能上相对独立；4)每一模块内部均">
<meta property="og:type" content="article">
<meta property="og:title" content="ZY">
<meta property="og:url" content="https://jyue0812.github.io/2018/05/21/python基础10/index.html">
<meta property="og:site_name" content="ZY">
<meta property="og:description" content="#Lesson 10  ##第十四章 ###给大家介绍“对象” 现代的编程语言里面无处不提到对象的，然而初学者并不知道什么是对象，那我们下面一点一点的剖析： 我们之前所学习的编程方式都属于面向过程，什么是面向过程了？ 1234561)自上而下顺序执行，逐步求精；2)其程序结构是按功能划分为若干个基本模块，这些模块形成一个树状结构；3)各模块之间的关系尽可能简单，在功能上相对独立；4)每一模块内部均">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://jyue0812.github.io/blog/2018/05/21/python基础10/理解.png">
<meta property="og:image" content="https://jyue0812.github.io/blog/2018/05/21/python基础10/比较.png">
<meta property="og:image" content="https://jyue0812.github.io/blog/2018/05/21/python基础10/菱形.png">
<meta property="og:updated_time" content="2018-03-23T03:55:23.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ZY">
<meta name="twitter:description" content="#Lesson 10  ##第十四章 ###给大家介绍“对象” 现代的编程语言里面无处不提到对象的，然而初学者并不知道什么是对象，那我们下面一点一点的剖析： 我们之前所学习的编程方式都属于面向过程，什么是面向过程了？ 1234561)自上而下顺序执行，逐步求精；2)其程序结构是按功能划分为若干个基本模块，这些模块形成一个树状结构；3)各模块之间的关系尽可能简单，在功能上相对独立；4)每一模块内部均">
<meta name="twitter:image" content="https://jyue0812.github.io/blog/2018/05/21/python基础10/理解.png">
  
    <link rel="alternate" href="/blog/atom.xml" title="ZY" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/blog/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">ZY</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://jyue0812.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-python基础10" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/05/21/python基础10/" class="article-date">
  <time datetime="2018-05-21T01:02:04.260Z" itemprop="datePublished">2018-05-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>#Lesson 10</p>
<hr>
<p>##第十四章</p>
<p>###给大家介绍“对象”</p>
<p>现代的编程语言里面无处不提到对象的，然而初学者并不知道什么是对象，那我们下面一点一点的剖析：</p>
<p>我们之前所学习的编程方式都属于面向过程，什么是面向过程了？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>)自上而下顺序执行，逐步求精；</span><br><span class="line"><span class="number">2</span>)其程序结构是按功能划分为若干个基本模块，这些模块形成一个树状结构；</span><br><span class="line"><span class="number">3</span>)各模块之间的关系尽可能简单，在功能上相对独立；</span><br><span class="line"><span class="number">4</span>)每一模块内部均是由顺序、选择和循环三种基本结构组成；</span><br><span class="line"><span class="number">5</span>)其模块化实现的具体方法是使用子程序。</span><br><span class="line"><span class="number">6</span>)程序流程在写程序时就已决定。</span><br></pre></td></tr></table></figure>
<p>那么面向对象是什么样的了？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">1</span>)把数据及对数据的操作方法放在一起，作为一个相互依存的整体——对象。</span><br><span class="line"><span class="number">2</span>)对同类对象抽象出其共性，形成类。</span><br><span class="line"><span class="number">3</span>)类中的大多数数据，只能用本类的方法进行处理。</span><br><span class="line"><span class="number">4</span>)类通过一个简单的外部接口与外界发生关系，对象与对象之间通过消息进行通信。</span><br><span class="line"><span class="number">5</span>)程序流程由用户在使用中决定。</span><br></pre></td></tr></table></figure>
<p>理解面向对象：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="number">1</span>)面向对象是相对面向过程而言</span><br><span class="line"><span class="number">2</span>)面向对象和面向过程都是一种思想</span><br><span class="line"><span class="number">3</span>)面向过程</span><br><span class="line">	强调的是功能行为</span><br><span class="line">	关注的是解决问题需要哪些步骤 </span><br><span class="line"><span class="number">4</span>)面向对象</span><br><span class="line">	将功能封装进对象，强调具备了功能的对象</span><br><span class="line">	关注的是解决问题需要哪些对象 </span><br><span class="line"><span class="number">5</span>)面向对象是基于面向过程的。</span><br></pre></td></tr></table></figure>
<p>我们说把大象塞进冰箱：</p>
<p> <img src="/blog/2018/05/21/python基础10/理解.png" alt="理解"></p>
<p>在我们显示生活中我们如何运用面向对象的了？</p>
<p>比如说打电话：</p>
<p>我们会想到手机：手机有品牌，下面有型号，还要分配制，手机的最大功能是打电话……</p>
<p>比如说驾驶</p>
<p>我们会想到汽车: 汽车一样有品牌，系列，配制。汽车的主要功能就是行驶……</p>
<p>面向对象的特点：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>)是一种符合人们思考习惯的思想</span><br><span class="line"><span class="number">2</span>)可以将复杂的事情简单化</span><br><span class="line"><span class="number">3</span>)将程序员从执行者转换成了指挥者</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>)完成需求时：</span><br><span class="line">	先要去找具有所需的功能的对象来用。</span><br><span class="line">	如果该对象不存在，那么创建一个具有所需功能的对象。</span><br></pre></td></tr></table></figure>
<p> <img src="/blog/2018/05/21/python基础10/比较.png" alt="比较"></p>
<p>我们讲到面向对象了，就离不开类，函数把普通的代码块打包，而现在又出现了一个类，它可以把函数打包。</p>
<p>类和对象的关系怎么理解，我们说的“汽车”，这个范围很大，它就是类，因为它们是一类的东西。比如说 宝马 5系 528 它就是对象，因为对象是实际存在的东西。</p>
<p>####类的定义</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>）生活中描述事物无非就是描述事物的名称/属性和行为。</span><br><span class="line">	如：人有身高，体重等属性，有说话，打架等行为。</span><br><span class="line"><span class="number">2</span>）Python中用类来描述事物也是如此</span><br><span class="line">	属性：对应类中的成员变量。</span><br><span class="line">	行为：对应类中的成员方法。</span><br><span class="line"><span class="number">3</span>）定义类其实在定义类中的成员(成员变量和成员方法)</span><br><span class="line"> 	拥有相同（或者类似）属性和行为的对象都可以抽像出一个类</span><br></pre></td></tr></table></figure>
<p>####类的设计</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">只关心<span class="number">3</span>样东西</span><br><span class="line">	事物名称（类名）：人（Person）</span><br><span class="line">	属性：身高（height）、年龄（age）</span><br><span class="line">	行为（功能）：跑（run）、打架（fight）</span><br></pre></td></tr></table></figure>
<p>###【1】类：对象=属性 + 方法</p>
<p>我们命名方法：</p>
<p>在类里面的变量改口叫属性，函数叫方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">类名：见名之意，首字母大写，其他遵循驼峰原则</span><br><span class="line">属性：见名之意，其他遵循驼峰原则</span><br><span class="line">行为(方法/功能)：见名之意，其他遵循驼峰原则</span><br></pre></td></tr></table></figure>
<p>我们定义第一个类,一个人的类：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#  object:基类，超类，所有类的父类，一般没有合适的父类就写object</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Peroson</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="comment"># 定义属性(定义变量)</span></span><br><span class="line">    name = <span class="string">"tom"</span></span><br><span class="line">    age = <span class="number">25</span></span><br><span class="line">    height = <span class="number">175</span></span><br><span class="line">    sex = <span class="string">'male'</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 定义方法(定义函数)</span></span><br><span class="line">    <span class="comment"># 注意：方法的参数必须以self当第一个参数</span></span><br><span class="line">    <span class="comment"># self代表类的实例(某个对象)，默认是自己(当前类)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"run"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self, food)</span>:</span></span><br><span class="line">        print(<span class="string">"eat"</span> + food)</span><br><span class="line"></span><br><span class="line">P = Peroson();  <span class="comment">#创造一个人 对象</span></span><br><span class="line">print(P)</span><br><span class="line">P.run()</span><br><span class="line">print(P.name)</span><br><span class="line"></span><br><span class="line"><span class="comment">#&lt;__main__.Peroson object at 0x103b1f908&gt;</span></span><br><span class="line"><span class="comment">#run</span></span><br><span class="line"><span class="comment">#tom</span></span><br></pre></td></tr></table></figure>
<p>以上代码就是一个’人’的类，定义了它的属性<code>name,age,height,sex</code>,它的行为<code>run()，eat()</code>。</p>
<p>有了类就可以创造对象，<code>P = Peroson()</code>就是创建一个对象，这个对象就是这个这个类的实例，也叫实例对象。</p>
<p>###【2】实例化多个对象</p>
<p>我们刚才在上面只实例化了一次，我们再实例化一个看看</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> <span class="comment">#            object:基类，超类，所有类的父类，一般没有合适的父类就写object</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Peroson</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="comment"># 定义属性(定义变量)</span></span><br><span class="line">    name = <span class="string">""</span></span><br><span class="line">    age = <span class="number">0</span></span><br><span class="line">    height = <span class="number">0</span></span><br><span class="line">    weight = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 定义方法(定义函数)</span></span><br><span class="line">    <span class="comment"># 注意：方法的参数必须以self当第一个参数</span></span><br><span class="line">    <span class="comment"># self代表类的实例(某个对象)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"run"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self, food)</span>:</span></span><br><span class="line">        print(<span class="string">"eat"</span> + food)</span><br><span class="line"></span><br><span class="line">P1 = Peroson()</span><br><span class="line">print(id(P1))</span><br><span class="line">P2 = Peroson()</span><br><span class="line">print(id(P2))</span><br><span class="line"></span><br><span class="line"><span class="comment">#4363254136</span></span><br><span class="line"><span class="comment">#4363254192</span></span><br></pre></td></tr></table></figure>
<p>我们看上面的例子可以发现实例化两次，两个存储的id不一样，这个就好比是，P1 = 1，P2 = 2一样，每次实例一次都是一个新的对象，就是新的‘人’，这个当然你可以通过想象，两个人不可能一样。</p>
<p>###【3】访问对象的属性和方法</p>
<p>访问属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">语法： 对象名.属性名</span><br><span class="line"></span><br><span class="line">赋值： 对象名.属性名 = 新值</span><br></pre></td></tr></table></figure>
<p>我们看下面这个例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></span><br><span class="line">    name = <span class="string">''</span></span><br><span class="line">    age = <span class="number">0</span></span><br><span class="line">    height = <span class="number">0</span></span><br><span class="line">    sex = <span class="string">''</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">openDoor</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"我已经打开了冰箱门"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fillEle</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"我已经把大象装进冰箱了"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">closeDoor</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"我已经关闭了冰箱门"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">myinfo</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self.__dict__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">P = Person()</span><br><span class="line"><span class="comment">#给这个人添加一些属性</span></span><br><span class="line">P.name = <span class="string">'tom'</span>  </span><br><span class="line">P.age  = <span class="number">25</span></span><br><span class="line">P.height = <span class="number">175</span></span><br><span class="line">P.sex = <span class="string">'male'</span></span><br><span class="line">print(P.name,P.age,P.height,P.sex)  <span class="comment">#普通的访问</span></span><br><span class="line">print(P.__dict__)  <span class="comment">#对象.__dict__， 以dict的形式返回这个对象的属性</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#tom 25 175 male</span></span><br><span class="line"><span class="comment">#&#123;'name': 'tom', 'age': 25, 'height': 175, 'sex': 'male'&#125;</span></span><br></pre></td></tr></table></figure>
<p>调用方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">语法： 对象名.属性名(参数列表)</span><br></pre></td></tr></table></figure>
<p>看下面例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></span><br><span class="line">    name = <span class="string">''</span></span><br><span class="line">    age = <span class="number">0</span></span><br><span class="line">    height = <span class="number">0</span></span><br><span class="line">    sex = <span class="string">''</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">openDoor</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经打开了冰箱门"</span>%name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fillEle</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经把大象装进冰箱了"</span>%name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">closeDoor</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经关闭了冰箱门"</span>%name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">P = Person()</span><br><span class="line">P.name = <span class="string">'tom'</span></span><br><span class="line">P.age  = <span class="number">25</span></span><br><span class="line">P.height = <span class="number">175</span></span><br><span class="line">P.sex = <span class="string">'male'</span></span><br><span class="line">P.openDoor(P.name)</span><br><span class="line">P.fillEle(P.name)</span><br><span class="line">P.closeDoor(P.name)</span><br><span class="line"></span><br><span class="line"><span class="comment">#tom已经打开了冰箱门</span></span><br><span class="line"><span class="comment">#tom已经把大象装进冰箱了</span></span><br><span class="line"><span class="comment">#tom已经关闭了冰箱门</span></span><br></pre></td></tr></table></figure>
<p>###【4】构造函数</p>
<p>目前来看我们所有创建的person的属性是一样的，这样有点不符合我们日常的逻辑。比如有些人有一些特质，我们可以把这个特质当做是他的一个属性，没有这个特质的人视为没有这个属性。</p>
<p>那我们用原来的知识点事是没有办法完成的，所以我们用构造函数来解决这个问题。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">构造函数：__init__(), 在创建类的时候回自动调用这个魔术方法</span><br></pre></td></tr></table></figure>
<font color="red"> 注意：类里面如果不写构造函数的话，会默认添加一个空的构造函数。</font>

<p>空的构造函数:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></span><br><span class="line">    name = <span class="string">''</span></span><br><span class="line">    age = <span class="number">0</span></span><br><span class="line">    height = <span class="number">0</span></span><br><span class="line">    sex = <span class="string">''</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">openDoor</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经打开了冰箱门"</span>%name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fillEle</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经把大象装进冰箱了"</span>%name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">closeDoor</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经关闭了冰箱门"</span>%name)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">P = Person()</span><br></pre></td></tr></table></figure>
<p>那我们用<code>__init__()</code>结合dict动态创建属性</p>
<p><code>__dict__</code>是以字典的形式返回当前对象的所有属性和值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">openDoor</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经打开了冰箱门"</span>%name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fillEle</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经把大象装进冰箱了"</span>%name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">closeDoor</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经关闭了冰箱门"</span>%name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, **params)</span>:</span>  <span class="comment">#收集参数过来的是一个dict</span></span><br><span class="line">        <span class="keyword">for</span> key,val <span class="keyword">in</span> params.items():</span><br><span class="line">            self.__dict__[key]=val</span><br><span class="line"></span><br><span class="line">P = Person(name = <span class="string">'tom'</span>,age = <span class="number">25</span>)</span><br><span class="line">print(P.__dict__)</span><br><span class="line"></span><br><span class="line"><span class="comment">#&#123;'name': 'tom', 'age': 25&#125;</span></span><br></pre></td></tr></table></figure>
<p>这种方法就是玩，在实际开发中熟悉都是定义好的。</p>
<p>####【5】self是什么</p>
<p>我们发现每个方法里都有一个self，其实很多语言都有类似self的用法，python的<code>self</code>相当C++的this指针。</p>
<p>self代表当前实例，谁调用它，他就是谁。也就是那个对象。它自能在类里面使用。</p>
<p><code>self.__class__</code>代表本类名。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">'''这是一个人的类'''</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, **params)</span>:</span>  <span class="comment">#收集参数过来的是一个dict</span></span><br><span class="line">        <span class="keyword">for</span> key,val <span class="keyword">in</span> params.items():</span><br><span class="line">            self.__dict__[key] = val</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">openDoor</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经打开了冰箱门"</span>%name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fillEle</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经把大象装进冰箱了"</span>%name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">closeDoor</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经关闭了冰箱门"</span>%name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printVar</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self.name)</span><br><span class="line">        print(self.__class__)</span><br><span class="line">        print(self.__doc__)</span><br><span class="line"></span><br><span class="line">P = Person(name = <span class="string">'tom'</span>,age = <span class="number">25</span>)</span><br><span class="line">P.printVar()</span><br><span class="line"></span><br><span class="line">P1 = Person(name = <span class="string">'jack'</span>,sex = <span class="string">'male'</span>)</span><br><span class="line">P1.printVar()</span><br><span class="line"></span><br><span class="line"><span class="comment">#tom</span></span><br><span class="line"><span class="comment">#class '__main__.Person'&gt;</span></span><br><span class="line"><span class="comment">#这是一个人的类</span></span><br><span class="line"><span class="comment">#jack</span></span><br><span class="line"><span class="comment">#&lt;class '__main__.Person'&gt;</span></span><br><span class="line"><span class="comment">#这是一个人的类</span></span><br></pre></td></tr></table></figure>
<p>self 它不是关键字，但是在指定对象使用self的准确性确实很棒。</p>
<p>###【6】析构函数</p>
<p>析构函数<code>__del__()</code>  释放对象的时候自动调用的</p>
<p>理论上我们内存堆区的内存需要去手动的去开辟，手动的去释放的。但是python自己有垃圾回收机制，比如说那个对象不用了，python会自己把它释放掉，这是引用记录器的原理。</p>
<p>当程序执行结束了会自动释放。</p>
<p>我们看下面的例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">'''这是一个人的类'''</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, **params)</span>:</span>  <span class="comment">#收集参数过来的是一个dict</span></span><br><span class="line">        <span class="keyword">for</span> key,val <span class="keyword">in</span> params.items():</span><br><span class="line">            self.__dict__[key] = val</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">openDoor</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经打开了冰箱门"</span>%name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fillEle</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经把大象装进冰箱了"</span>%name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">closeDoor</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经关闭了冰箱门"</span>%name)</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__del__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self.name,<span class="string">'释放'</span>)</span><br><span class="line"></span><br><span class="line">P1 = Person(name= <span class="string">'P1'</span>, age= <span class="number">25</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#del P1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#在函数里定义的对象，会在函数结束时自动释放，这样可以用来减少内存空间的浪费</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    P2 = Person(name= <span class="string">'P2'</span>,sex= <span class="string">'male'</span>)</span><br><span class="line"></span><br><span class="line">func()</span><br><span class="line"></span><br><span class="line"><span class="comment">#while是死循环，这样的话程序没有结束，内存不会释放</span></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<p>###【7】<code>__repr__</code>和<code>__str__</code>函数</p>
<p>这两个信息是将类的信息重写的魔术方法或者说魔法方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">重写：将函数重写定义写一遍</span><br><span class="line"></span><br><span class="line">__str__():在调用<span class="keyword">print</span>打印对象时自动调用，是给用户用的，是一个描述对象的方法。</span><br><span class="line">__repr__()：是给机器用的，在Python解释器里面直接敲对象名在回车后调用的方法</span><br><span class="line">注意：在没有str时，且有repr,str = repr</span><br></pre></td></tr></table></figure>
<p>我们一般在打印一个类的时候，只能得到一个类信息，我们修改一下用上面的那个例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">'''这是一个人的类'''</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, **params)</span>:</span>  <span class="comment">#收集参数过来的是一个dict</span></span><br><span class="line">        <span class="keyword">for</span> key,val <span class="keyword">in</span> params.items():</span><br><span class="line">            self.__dict__[key] = val</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">openDoor</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经打开了冰箱门"</span>%name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fillEle</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经把大象装进冰箱了"</span>%name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">closeDoor</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经关闭了冰箱门"</span>%name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">P = Person(name= <span class="string">'P'</span>, age= <span class="number">25</span>)</span><br><span class="line"></span><br><span class="line">print(P)</span><br><span class="line"></span><br><span class="line"><span class="comment">#&lt;__main__.Person object at 0x103d1f828&gt;</span></span><br></pre></td></tr></table></figure>
<p>现在我们str来重写它：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#我们现在的需求是打印类名就可以得到属性值</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="string">'''这是一个人的类'''</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, **params)</span>:</span>  <span class="comment">#收集参数过来的是一个dict</span></span><br><span class="line">        <span class="keyword">for</span> key,val <span class="keyword">in</span> params.items():</span><br><span class="line">            self.__dict__[key] = val</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">openDoor</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经打开了冰箱门"</span>%name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fillEle</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经把大象装进冰箱了"</span>%name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">closeDoor</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        print(<span class="string">"%s已经关闭了冰箱门"</span>%name)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'这是一个构造人的类'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">P = Person(name= <span class="string">'tom'</span>, age= <span class="string">'25'</span>,sex= <span class="string">'male'</span>)</span><br><span class="line"></span><br><span class="line">print(P)</span><br><span class="line"></span><br><span class="line"><span class="comment">#这是一个构造人的类</span></span><br></pre></td></tr></table></figure>
<font color="red">注意：返回的类型只能是字符类型的，是其它类型的就报错</font>

<p>###【8】访问限制</p>
<p>访问限制就是不让变量在外部被访问，也就是私有属性。</p>
<p>一般编程语言都有public(公共的)和private(私有的)和protected(受保护的)关键字，但是python没有类似的关键字来进行修饰。</p>
<p>为了实现类似的私有变量的特性，python内部采用了name mangling(名字改遍)的技术，只用在变量或者函数的名字前加上了“__“两个下划线，那么函数和变量就变成了私有的,在外部是找不到的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        self.__name= name</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getName</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self.__name)</span><br><span class="line"></span><br><span class="line">P = Person(<span class="string">'tom'</span>)</span><br><span class="line"><span class="comment">#P.getName()   #这是在内部访问的</span></span><br><span class="line">print(P.__name)</span><br><span class="line"></span><br><span class="line"><span class="comment">#AttributeError: 'Person' object has no attribute '__name'</span></span><br></pre></td></tr></table></figure>
<p>私有的变量只能在本类里面使用。但是python是 名字改编，就是对变量名动一下手脚而已，实际上在外部你使用”_类名__变量名“就可以访问到私有的变量了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name)</span>:</span></span><br><span class="line">        self.__name= name</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getName</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self.__name)</span><br><span class="line"></span><br><span class="line">P = Person(<span class="string">'tom'</span>)</span><br><span class="line">print(P._Person__name)</span><br><span class="line">P._Person__getName()</span><br><span class="line"></span><br><span class="line"><span class="comment">#tom</span></span><br><span class="line"><span class="comment">#tom</span></span><br></pre></td></tr></table></figure>
<p>注意：Python目前的私有机制是伪私有，Python的类没有权限这么一说，所有的方法和属性都可以被外部调用。</p>
<p>###【8】继承</p>
<p>我们发现每个<code>class 类名（object）</code>的小括号里面都有一个object，它是什么了？</p>
<p>直接继承object类的类在某种程度上可以理解为是顶级类。这个小括号可以不带，object也可以不写，它会默认该类是顶级类。那么这个object就是父类或者是基类或超类。</p>
<p>那什么是继承了？比如说你可以继承你父母的财产，那么类也可以，它是拟人化的，它也可以有父类，但是没有母类这一说法，这比较像西方的文化。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    Walk = <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'我是一个人'</span>)        </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'我是人类'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我会吃东西'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">createHuman</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'创造了一个人类'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">walkAbout</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我走动了%d步'</span>%self.Walk</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(Person)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self.eat(),self.walkAbout())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">S = Student()</span><br><span class="line">print(Student)</span><br><span class="line"></span><br><span class="line"><span class="comment">#我会吃东西 我走动了1步</span></span><br><span class="line"><span class="comment">#&lt;class '__main__.Student'&gt;</span></span><br></pre></td></tr></table></figure>
<p>通过上面的例子发现父类的<code>__init__</code>和<code>__str__</code>没有被自动调用,因为自己有一个<code>__init__</code>和<code>__str__</code>,所以父类的构造函数是不能自己调用的。那怎么调用了？</p>
<p>如果你想调用的话也是可以的，自己手动去调用。</p>
<p>但是，你不能使用<code>self.__init__</code>,这样会报错的。使用一个新的函数<code>super()</code>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></span><br><span class="line">    Walk = <span class="number">1</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'我是一个人'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我是人类'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我会吃东西'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">createHuman</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'创造了一个人类'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">walkAbout</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我走动了%d步'</span>%self.Walk</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(Person)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self.eat(),self.walkAbout())</span><br><span class="line">        super().__init__()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> super().__str__()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">S = Student()</span><br><span class="line">print(S)</span><br><span class="line"></span><br><span class="line"><span class="comment">#我会吃东西 我走动了1步</span></span><br><span class="line"><span class="comment">#我是一个人</span></span><br><span class="line"><span class="comment">#我是人类</span></span><br></pre></td></tr></table></figure>
<p>super()函数能够自动去寻找父类的方法，而且还为我们传入父类的self参数，这样就不需要做这些事情了。</p>
<p>这样看可能更加直观：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></span><br><span class="line">    Walk = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'我是一个人'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我是人类'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我会吃东西'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">createHuman</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'创造了一个人类'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">walkAbout</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我走动了%d步'</span>%self.Walk</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">secret</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"it's a secret"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span><span class="params">(Person)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'我是你的父亲'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我是你爸爸'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我喜欢吃排骨'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">createHuman</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'创了你'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">walkAbout</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我走动了%d步'</span>%self.Walk</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">secret</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"我只是藏了私房钱"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(Father)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print( super().eat(),super().walkAbout())</span><br><span class="line">        super().__init__()</span><br><span class="line">        super().secret()     </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我是学生'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我喜欢吃辣条'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">createHuman</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我还小'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">walkAbout</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我走动了%d步'</span> % self.Walk</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">secret</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"我上课偷偷玩手机"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">S = Student()</span><br><span class="line">print(S)</span><br><span class="line"></span><br><span class="line"><span class="comment">#我喜欢吃排骨 我走动了1步</span></span><br><span class="line"><span class="comment">#我是你的父亲</span></span><br><span class="line"><span class="comment">#我只是藏了私房钱</span></span><br><span class="line"><span class="comment">#我是学生</span></span><br></pre></td></tr></table></figure>
<p>上面这个例子可以看出，Student使用super()，只调用了父类属性和方法。</p>
<p>那么不喜欢父类的属性和方法，我就是要调用爷爷或者在往上的层级，那怎么用了？</p>
<p>调用父级以上的层级</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">语法  父类名.调用方法(self)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">(object)</span>:</span></span><br><span class="line">    Walk = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'我是一个人'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我是人类'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我会吃东西'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">createHuman</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'创造了一个人类'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">walkAbout</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我走动了%d步'</span>%self.Walk</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">secret</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"it's a secret"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span><span class="params">(Person)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'我是你的父亲'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我是你爸爸'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我喜欢吃排骨'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">createHuman</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'创了你'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">walkAbout</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我走动了%d步'</span>%self.Walk</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">secret</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"我只是藏了私房钱"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">(Father)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print( Person.eat(self),Person.walkAbout(self))</span><br><span class="line">        Person.__init__(self)</span><br><span class="line">        Person.secret(self)      <span class="comment">#调用指定的层级</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我是学生'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我喜欢吃辣条'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">createHuman</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我还小'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">walkAbout</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'我走动了%d步'</span> % self.Walk</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">secret</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"我上课偷偷玩手机"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">S = Student()</span><br><span class="line">print(S)</span><br><span class="line"></span><br><span class="line"><span class="comment">#我会吃东西 我走动了1步</span></span><br><span class="line"><span class="comment">#我是一个人</span></span><br><span class="line"><span class="comment">#it's a secret</span></span><br><span class="line"><span class="comment">#我是学生</span></span><br></pre></td></tr></table></figure>
<p>那么用<code>Person().eat()</code>可以吗？</p>
<p>也可以但是这样算是实例化在调用了，每次实例化都会调用一次<code>__init__</code>这样会达不到预期的效果。</p>
<p>###【9】多继承</p>
<p>很多的语言都是不支持多继承的，比如php、java、C，它们都只能模拟多继承，通过interface（接口）来模拟，但是python直接就可以多继承。</p>
<p>这里你继承你老爸和你老叔的房子为例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span><span class="params">(object)</span>:</span></span><br><span class="line">    F_house = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Uncle</span><span class="params">(object)</span>:</span></span><br><span class="line">    U_house = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MeMe</span><span class="params">(Father,Uncle)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self.F_house + self.U_house)</span><br><span class="line">MeMe()</span><br><span class="line"></span><br><span class="line"><span class="comment">#5</span></span><br></pre></td></tr></table></figure>
<p>但是有个问题，如果两个父类方法的属性名重复，方法名重复会怎么办样</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span><span class="params">(object)</span>:</span></span><br><span class="line">    house = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Uncle</span><span class="params">(object)</span>:</span></span><br><span class="line">    house = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MeMe</span><span class="params">(Father,Uncle)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(self.house + super().house)</span><br><span class="line">MeMe()</span><br><span class="line"></span><br><span class="line"><span class="comment">#4</span></span><br></pre></td></tr></table></figure>
<p>不管是继承下来的，还是父类找到的都是<code>Father</code>这个类的属性，不是名字的关系，是优先选择排在小括号<code>MeMe(Father,Uncle)</code>前面的那个类。</p>
<p>解决方案，直接使用类名：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span><span class="params">(object)</span>:</span></span><br><span class="line">    house = <span class="number">2</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">money</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">10000000</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Uncle</span><span class="params">(object)</span>:</span></span><br><span class="line">    house = <span class="number">3</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">money</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">10000000</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MeMe</span><span class="params">(Father,Uncle)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(Father.house + Uncle.house)</span><br><span class="line">        print(Father.money(self) + Uncle.money(self))</span><br><span class="line">MeMe()</span><br><span class="line"></span><br><span class="line"><span class="comment">#5</span></span><br><span class="line"><span class="comment">#20000000</span></span><br></pre></td></tr></table></figure>
<font color="red">注意：多继承有个菱形继承陷阱，看下面例子：</font>

<p>D的两个父类(B,C)都继承了A类，这样的话就形成了代码的冗余，继承等于在内存的堆区里面把父类的所有东西都拷贝一份然后在保存在另外一个堆区。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"进入A…"</span>)</span><br><span class="line">        print(<span class="string">"离开A…"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span><span class="params">(A)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"进入B…"</span>)</span><br><span class="line">        A.__init__(self)</span><br><span class="line">        print(<span class="string">"离开B…"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span><span class="params">(A)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"进入C…"</span>)</span><br><span class="line">        A.__init__(self)</span><br><span class="line">        print(<span class="string">"离开C…"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span><span class="params">(B, C)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"进入D…"</span>)</span><br><span class="line">        B.__init__(self)</span><br><span class="line">        C.__init__(self)</span><br><span class="line">        print(<span class="string">"离开D…"</span>)</span><br><span class="line"></span><br><span class="line">D()</span><br></pre></td></tr></table></figure>
<p> <img src="/blog/2018/05/21/python基础10/菱形.png" alt="菱形"></p>
<p>多重继承容易导致钻石继承的问题，上面代码实例化D类后我们发现A被前后进入了两次，有的人会说无所谓，我女朋友都不止了……</p>
<p>这有什么危害了，比如说A类有个<code>time.sleep(60)</code>，每次都进去是不是运行的非常慢，而且还非常的耗费效率。</p>
<p>你可以使用python的 方法解析顺序(MRO),这个使用C3算法，反正很复杂，就是说在避免一个类被多次调用的前提下，使用广度优先和从左到右的原则去寻找需要的属性和方法。</p>
<p>不管怎么样<code>object</code>都是金字塔的顶层</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(D.__mro__)</span><br><span class="line"></span><br><span class="line">(&lt;class '__main__.D'&gt;, &lt;class '__main__.B'&gt;, &lt;class '__main__.C'&gt;, &lt;class '__main__.A'&gt;, &lt;class 'object'&gt;)</span><br></pre></td></tr></table></figure>
<p>我们可以只取一个类的<code>__init__</code>，或者说使用super(),它会默认取小括号前面一个类的内容：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"进入A…"</span>)</span><br><span class="line">        print(<span class="string">"离开A…"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span><span class="params">(A)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"进入B…"</span>)</span><br><span class="line">        super().__init__()</span><br><span class="line">        print(<span class="string">"离开B…"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span><span class="params">(A)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"进入C…"</span>)</span><br><span class="line">        super().__init__()</span><br><span class="line">        print(<span class="string">"离开C…"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span><span class="params">(B, C)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"进入D…"</span>)</span><br><span class="line">        super().__init__()</span><br><span class="line">        print(<span class="string">"离开D…"</span>)</span><br><span class="line">D()</span><br></pre></td></tr></table></figure>
<font color="red">所以使用多继承要小心！！！</font>


<p>##作业人开枪射击子弹</p>
<p>三个条件，人，枪，弹夹</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/05/21/python基础10/" data-id="cjhfjx3dn0006w4qxqoxmhlla" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/blog/2018/05/21/python基础11/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/blog/2018/05/21/python基础8/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/04/">April 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2018/06/19/2018-06-19/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/06/05/flask配置套路/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/06/04/2018-06-04/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/05/21/jquery_3/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/05/21/pymysql/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 ZY<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js"></script>



  </div>
</body>
</html>