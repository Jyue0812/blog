<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>ZY</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="jquery_3一.each方法主要功能：遍历jQuery对象 基本语法： 1234567891011jQuery对象.each(callback);参数说明：each方法非常简单，只有一个参数callback，其是一个函数，结构如下：function callback(i,item)&amp;#123;	//Javascript代码&amp;#125; 参数说明： 12345i：每次遍历时，系统会自动将循环下标">
<meta property="og:type" content="article">
<meta property="og:title" content="ZY">
<meta property="og:url" content="https://jyue0812.github.io/2018/05/21/jquery_3/index.html">
<meta property="og:site_name" content="ZY">
<meta property="og:description" content="jquery_3一.each方法主要功能：遍历jQuery对象 基本语法： 1234567891011jQuery对象.each(callback);参数说明：each方法非常简单，只有一个参数callback，其是一个函数，结构如下：function callback(i,item)&amp;#123;	//Javascript代码&amp;#125; 参数说明： 12345i：每次遍历时，系统会自动将循环下标">
<meta property="og:locale" content="default">
<meta property="og:image" content="https://jyue0812.github.io/blog/2018/05/21/jquery_3/image_1.png">
<meta property="og:updated_time" content="2018-03-29T08:04:33.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ZY">
<meta name="twitter:description" content="jquery_3一.each方法主要功能：遍历jQuery对象 基本语法： 1234567891011jQuery对象.each(callback);参数说明：each方法非常简单，只有一个参数callback，其是一个函数，结构如下：function callback(i,item)&amp;#123;	//Javascript代码&amp;#125; 参数说明： 12345i：每次遍历时，系统会自动将循环下标">
<meta name="twitter:image" content="https://jyue0812.github.io/blog/2018/05/21/jquery_3/image_1.png">
  
    <link rel="alternate" href="/blog/atom.xml" title="ZY" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/blog/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/blog/" id="logo">ZY</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/blog/">Home</a>
        
          <a class="main-nav-link" href="/blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://jyue0812.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-jquery_3" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/blog/2018/05/21/jquery_3/" class="article-date">
  <time datetime="2018-05-21T01:28:03.351Z" itemprop="datePublished">2018-05-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="jquery-3"><a href="#jquery-3" class="headerlink" title="jquery_3"></a>jquery_3</h1><h1 id="一-each方法"><a href="#一-each方法" class="headerlink" title="一.each方法"></a>一.each方法</h1><p>主要功能：遍历jQuery对象</p>
<p>基本语法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">jQuery对象.each(callback);</span><br><span class="line"></span><br><span class="line">参数说明：</span><br><span class="line"></span><br><span class="line">each方法非常简单，只有一个参数callback，其是一个函数，结构如下：</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">i,item</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//Javascript代码</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>参数说明：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">i：每次遍历时，系统会自动将循环下标放入变量i中</span><br><span class="line"></span><br><span class="line">item ：每次遍历时，系统会自动将遍历得到的值（dom对象）放入item选项中，</span><br><span class="line"></span><br><span class="line">jQuery对象本质是一个DOM对象集合的数据，所以遍历时每个遍历对象都是一个DOM对象，所以item也是一个DOM对象，如果想使用jQuery中属性或方法，需要通过$符号进行封装。</span><br></pre></td></tr></table></figure>
<h2 id="课堂案例-循环给img添加属性样式"><a href="#课堂案例-循环给img添加属性样式" class="headerlink" title="课堂案例:循环给img添加属性样式"></a>课堂案例:循环给img添加属性样式</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">			$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">			        $(<span class="string">"input[type=button]"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">			                $(<span class="string">"img"</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">i,item</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">			                        $(item).attr(<span class="string">'src'</span>,<span class="string">'images/image_'</span>+(i+<span class="number">1</span>)+<span class="string">'.jpg'</span>);</span></span><br><span class="line"><span class="javascript">			                        $(item).css(<span class="string">'width'</span>,<span class="string">'300px'</span>);</span></span><br><span class="line"><span class="undefined">			                &#125;);</span></span><br><span class="line"><span class="undefined">			        &#125;);    </span></span><br><span class="line"><span class="undefined">			&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"给img赋值"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">img</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="一、ajax的简介"><a href="#一、ajax的简介" class="headerlink" title="一、ajax的简介"></a>一、ajax的简介</h1><h2 id="1、什么是ajax"><a href="#1、什么是ajax" class="headerlink" title="1、什么是ajax"></a>1、什么是ajax</h2><blockquote>
<p>Asynchronous ：异步</p>
</blockquote>
<blockquote>
<p>JavaScript ：Javascript技术</p>
</blockquote>
<blockquote>
<p>And ：和</p>
</blockquote>
<blockquote>
<p>XML ：xml</p>
</blockquote>
<p>是一种在页面没有刷新的情况下，通过客户端（浏览器）与服务器交互的一种技术。</p>
<p>ajax语言的载体是javascript,最大特点,页面不刷新完成请求。</p>
<h5 id="比如说豆瓣网的电影内容加载"><a href="#比如说豆瓣网的电影内容加载" class="headerlink" title="比如说豆瓣网的电影内容加载"></a>比如说豆瓣网的电影内容加载</h5><p> <img src="/blog/2018/05/21/jquery_3/image_1.png" alt="image_1"></p>
<h2 id="2、ajax的起源"><a href="#2、ajax的起源" class="headerlink" title="2、ajax的起源"></a>2、ajax的起源</h2><p>1998年微软IE5.5浏览器中应用此技术（Outlook小组研发），当时名称为“XMLHTTP”</p>
<p>2005年Google公司真正把Ajax技术应用在Web网页中（Google Map、Google Gmail） </p>
<p>从此由于ajax的出现，javascript语言被重视。</p>
<h3 id="3、原生JS的ajax写法"><a href="#3、原生JS的ajax写法" class="headerlink" title="3、原生JS的ajax写法"></a>3、原生JS的ajax写法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">基于IE内核的浏览器（IE8以下版本） </span><br><span class="line">var  xhr = new ActiveXObject(‘Microsoft.XMLHTTP’);</span><br><span class="line">基于W3C内核的浏览器（IE8以上内核,以及谷歌,火狐,等）</span><br><span class="line">var  xhr = new XMLHttpRequest();</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.onload=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> obtn = <span class="built_in">document</span>.getElementById(<span class="string">'one'</span>);</span></span><br><span class="line"><span class="javascript">        <span class="comment">//给按钮绑定事件，向服务器端请求数据</span></span></span><br><span class="line"><span class="javascript">        obtn.onclick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//具体的请求步骤</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//(1)创建一个ajax对象，</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//(2)设置监听事件，处理回调函数</span></span></span><br><span class="line"><span class="javascript">                xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">//(5)完成请求后的处理</span></span></span><br><span class="line"><span class="javascript">                         <span class="keyword">if</span>(xhr.readyState==<span class="number">4</span>)&#123;</span></span><br><span class="line"><span class="javascript">                                <span class="keyword">var</span> res = xhr.responseText;<span class="comment">//返回的数据结果</span></span></span><br><span class="line"><span class="javascript">                                <span class="built_in">console</span>.log(res);</span></span><br><span class="line"><span class="undefined">                         &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//(3)创建一个http的请求</span></span></span><br><span class="line"><span class="javascript">                xhr.open(<span class="string">'get'</span>,<span class="string">'demo1.php'</span>);</span></span><br><span class="line"><span class="javascript">                <span class="comment">//(4)发送请求</span></span></span><br><span class="line"><span class="javascript">                xhr.send(<span class="literal">null</span>);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"获取数据服务器端的数据"</span> <span class="attr">id</span>=<span class="string">"one"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h6 id="demo1-php"><a href="#demo1-php" class="headerlink" title="demo1.php"></a>demo1.php</h6><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">	</span><br><span class="line">	$arr = [</span><br><span class="line">		[<span class="string">'name'</span>=&gt;<span class="string">'tom'</span>,<span class="string">'age'</span>=&gt;<span class="number">18</span>,<span class="string">'sex'</span>=&gt;<span class="string">'male'</span>],</span><br><span class="line">		[<span class="string">'name'</span>=&gt;<span class="string">'jack'</span>,<span class="string">'age'</span>=&gt;<span class="number">19</span>,<span class="string">'sex'</span>=&gt;<span class="string">'male'</span>],</span><br><span class="line">		[<span class="string">'name'</span>=&gt;<span class="string">'berry'</span>,<span class="string">'age'</span>=&gt;<span class="number">20</span>,<span class="string">'sex'</span>=&gt;<span class="string">'female'</span>],</span><br><span class="line">	];</span><br><span class="line">	<span class="keyword">echo</span> json_encode($arr);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="二、Jquery中的Ajax"><a href="#二、Jquery中的Ajax" class="headerlink" title="二、Jquery中的Ajax"></a>二、Jquery中的Ajax</h1><h2 id="1、Jquery中的Ajax引用"><a href="#1、Jquery中的Ajax引用" class="headerlink" title="1、Jquery中的Ajax引用"></a>1、Jquery中的Ajax引用</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1）Ajax的底层实现</span><br><span class="line">jQuery.ajax(options) </span><br><span class="line">$.ajax(); </span><br><span class="line">2）Ajax的高级实现</span><br><span class="line">jQuery.get(url,[data],[callback]) </span><br><span class="line">jQuery.post(url,[data],[callback])</span><br></pre></td></tr></table></figure>
<h3 id="2、Ajax的底层实现"><a href="#2、Ajax的底层实现" class="headerlink" title="2、Ajax的底层实现"></a>2、Ajax的底层实现</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">基本语法：jQuery.ajax(options)或$.ajax(options) </span><br><span class="line">参数：options是一个json对象。</span><br><span class="line">参数说明：</span><br><span class="line">ajax方法只有一个参数，要求是一个json对象</span><br><span class="line"><span class="keyword">async</span>：是否异步，默认其值为<span class="literal">true</span> </span><br><span class="line">cache ：是否缓存，默认其值为<span class="literal">true</span> </span><br><span class="line">complete ：当Ajax状态码为<span class="number">4</span>时，所触发的回调函数</span><br><span class="line">contentType：请求头信息，如果是post请求，默认是，application/x-www-form-urlencoded </span><br><span class="line">data ：发送Ajax时传递的参数，要求是一个字符串或json格式对象。</span><br><span class="line">dataType：期待的返回值类型，常用的是有text,xml,json，默认为text </span><br><span class="line">success ：当Ajax状态码为<span class="number">4</span>且响应状态码为<span class="number">200</span>时，所触发的回调函数</span><br><span class="line">type：http请求，get与post </span><br><span class="line">url：请求的页面</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"input[type=button]"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//写ajax的请求了</span></span></span><br><span class="line"><span class="javascript">                $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">                    type:<span class="string">'get'</span>,</span></span><br><span class="line"><span class="javascript">                    url:<span class="string">'demo2.php'</span>,</span></span><br><span class="line"><span class="javascript">                    success:<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">//msg是从服务器端请求回来的数据。</span></span></span><br><span class="line"><span class="javascript">                            $(<span class="string">'#res'</span>).html(msg);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;);    </span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">#res&#123;width:300px;height:150px;background:gray;&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"获取ajax请求数据"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"res"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="demo2-php"><a href="#demo2-php" class="headerlink" title="demo2.php"></a>demo2.php</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">  	<span class="keyword">echo</span> <span class="string">"大吉大利,今晚吃鸡!"</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="课堂案例：使用-ajax计算两个数的和get和post请求"><a href="#课堂案例：使用-ajax计算两个数的和get和post请求" class="headerlink" title="课堂案例：使用$.ajax计算两个数的和get和post请求"></a>课堂案例：使用$.ajax计算两个数的和get和post请求</h2><h3 id="（1）使用get请求；"><a href="#（1）使用get请求；" class="headerlink" title="（1）使用get请求；"></a>（1）使用get请求；</h3><h5 id="方式一：直接在url里面拼接传递的字符串"><a href="#方式一：直接在url里面拼接传递的字符串" class="headerlink" title="方式一：直接在url里面拼接传递的字符串"></a>方式一：直接在url里面拼接传递的字符串</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"input[type=button]"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取输入的两个数的值</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num1 = $(<span class="string">'#num1'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num2 = $(<span class="string">'#num2'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//写ajax的请求了</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//get请求使用方式一，直接在url中拼接字符串。</span></span></span><br><span class="line"><span class="javascript">                $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">                    type:<span class="string">'get'</span>,</span></span><br><span class="line"><span class="javascript">                    url:<span class="string">'demo3.php?num1='</span>+num1+<span class="string">'&amp;num2='</span>+num2,</span></span><br><span class="line"><span class="javascript">                    success:<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        $(<span class="string">'#res'</span>).html(msg);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;);    </span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        第一个数：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"num1"</span> <span class="attr">id</span>=<span class="string">"num1"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        第二个数：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"num2"</span> <span class="attr">id</span>=<span class="string">"num2"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"计算两个数的和"</span>/&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"res"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="方式二：使用data，data是一个字符串的方式。"><a href="#方式二：使用data，data是一个字符串的方式。" class="headerlink" title="方式二：使用data，data是一个字符串的方式。"></a>方式二：使用data，data是一个字符串的方式。</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"input[type=button]"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取输入的两个数的值</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num1 = $(<span class="string">'#num1'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num2 = $(<span class="string">'#num2'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//写ajax的请求了</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//get请求使用方式二，使用data拼接的字符串。</span></span></span><br><span class="line"><span class="javascript">                $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">                    type:<span class="string">'get'</span>,</span></span><br><span class="line"><span class="javascript">                  	data:<span class="string">'num1='</span>+num1+<span class="string">'&amp;num2='</span>+num2,</span></span><br><span class="line"><span class="javascript">                    url:<span class="string">'demo3.php'</span>,</span></span><br><span class="line"><span class="javascript">                    success:<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        $(<span class="string">'#res'</span>).html(msg);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;);    </span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        第一个数：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"num1"</span> <span class="attr">id</span>=<span class="string">"num1"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        第二个数：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"num2"</span> <span class="attr">id</span>=<span class="string">"num2"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"计算两个数的和"</span>/&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"res"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="方式三：使用data，data是一个json格式数据。"><a href="#方式三：使用data，data是一个json格式数据。" class="headerlink" title="方式三：使用data，data是一个json格式数据。"></a>方式三：使用data，data是一个json格式数据。</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"input[type=button]"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取输入的两个数的值</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num1 = $(<span class="string">'#num1'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num2 = $(<span class="string">'#num2'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//写ajax的请求了</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//get请求使用方式三，data是一个 json格式的数据。</span></span></span><br><span class="line"><span class="javascript">                $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">                    type:<span class="string">'get'</span>,</span></span><br><span class="line"><span class="undefined">                    data:&#123;num1:num1,num2:num2&#125;,</span></span><br><span class="line"><span class="javascript">                    url:<span class="string">'demo3.php'</span>,</span></span><br><span class="line"><span class="javascript">                    success:<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        $(<span class="string">'#res'</span>).html(msg);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;);    </span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        第一个数：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"num1"</span> <span class="attr">id</span>=<span class="string">"num1"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        第二个数：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"num2"</span> <span class="attr">id</span>=<span class="string">"num2"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"计算两个数的和"</span>/&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"res"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="demo3-php"><a href="#demo3-php" class="headerlink" title="demo3.php"></a>demo3.php</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">	<span class="keyword">echo</span> $_GET[<span class="string">'num1'</span>] + $_GET[<span class="string">'num2'</span>];</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="（2）使用post请求；"><a href="#（2）使用post请求；" class="headerlink" title="（2）使用post请求；"></a>（2）使用post请求；</h3><h5 id="方式一：使用data，data是一个字符串的方式"><a href="#方式一：使用data，data是一个字符串的方式" class="headerlink" title="方式一：使用data，data是一个字符串的方式"></a>方式一：使用data，data是一个字符串的方式</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"input[type=button]"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取输入的两个数的值</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num1 = $(<span class="string">'#num1'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num2 = $(<span class="string">'#num2'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//写ajax的请求了</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//post请求使用方式一，data是一个 字符串格式的数据。</span></span></span><br><span class="line"><span class="javascript">                $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">                    type:<span class="string">'post'</span>,</span></span><br><span class="line"><span class="javascript">                    data:<span class="string">'num1='</span>+num1+<span class="string">'&amp;num2='</span>+num2,</span></span><br><span class="line"><span class="javascript">                    url:<span class="string">'demo4.php'</span>,</span></span><br><span class="line"><span class="javascript">                    success:<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                            $(<span class="string">'#res'</span>).html(msg);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;);    </span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        第一个数：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"num1"</span> <span class="attr">id</span>=<span class="string">"num1"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        第二个数：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"num2"</span> <span class="attr">id</span>=<span class="string">"num2"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"计算两个数的和"</span>/&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"res"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="方式二：使用data，data是一个json格式数据。"><a href="#方式二：使用data，data是一个json格式数据。" class="headerlink" title="方式二：使用data，data是一个json格式数据。"></a>方式二：使用data，data是一个json格式数据。</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"input[type=button]"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取输入的两个数的值</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num1 = $(<span class="string">'#num1'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num2 = $(<span class="string">'#num2'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//写ajax的请求了</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//post请求使用方式一，data是一个 字符串格式的数据。</span></span></span><br><span class="line"><span class="javascript">                $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">                    type:<span class="string">'post'</span>,</span></span><br><span class="line"><span class="undefined">                    data:&#123;num1:num1,num2:num2&#125;,</span></span><br><span class="line"><span class="javascript">                    url:<span class="string">'demo4.php'</span>,</span></span><br><span class="line"><span class="javascript">                    success:<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                            $(<span class="string">'#res'</span>).html(msg);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;);    </span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        第一个数：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"num1"</span> <span class="attr">id</span>=<span class="string">"num1"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        第二个数：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"num2"</span> <span class="attr">id</span>=<span class="string">"num2"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"计算两个数的和"</span>/&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"res"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="3、解决Ajax中缓存问题"><a href="#3、解决Ajax中缓存问题" class="headerlink" title="3、解决Ajax中缓存问题"></a>3、解决<strong><strong>Ajax</strong></strong>中缓存问题</h2><p>当我们在<code>IE浏览器下使用get</code>时，系统会存在缓存问题，那么在实际项目开发中，如何解决以上问题呢？</p>
<p>在原生JS的ajax中,实在URL后面添加 <code>随机数</code> 或者添加 <code>时间戳</code> 火灾添加<code>If-Modified-Since</code>来解决缓存问题的.</p>
<p>那么在jquery的ajax中我们可以使用<code>cache:false</code>来解决</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"input[type=button]"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取输入的两个数的值</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num1 = $(<span class="string">'#num1'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num2 = $(<span class="string">'#num2'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="comment">//写ajax的请求了</span></span></span><br><span class="line"><span class="javascript">                <span class="comment">//post请求使用方式一，data是一个 字符串格式的数据。</span></span></span><br><span class="line"><span class="javascript">                $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">                    type:<span class="string">'get'</span>,</span></span><br><span class="line"><span class="javascript">                  	cache:<span class="literal">false</span>,</span></span><br><span class="line"><span class="javascript">                    data:<span class="string">'num1='</span>+num1+<span class="string">'&amp;num2='</span>+num2,</span></span><br><span class="line"><span class="javascript">                    url:<span class="string">'demo6.php'</span>,</span></span><br><span class="line"><span class="javascript">                    success:<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                            $(<span class="string">'#res'</span>).html(msg);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;);    </span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="3、XML与JSON"><a href="#3、XML与JSON" class="headerlink" title="3、XML与JSON"></a>3、XML与JSON</h2><h5 id="（1）Ajax中XML处理大批数据"><a href="#（1）Ajax中XML处理大批数据" class="headerlink" title="（1）Ajax中XML处理大批数据"></a>（1）Ajax中XML处理大批数据</h5><p>XML和HTML非常的相似,但是它不是用来做网页结构的,而是一种DTD严格约束型的数据传输格式,在互联网的第三方支付和金融交易中经常使用的一种数据交互格式</p>
<p>目前在互联网中的使用量大约在5%</p>
<p>为什么在金融交易中会使用xml?</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">因为xml可以控制自定义标签中可以输入&apos;值的类型&apos;和&apos;长度&apos;或者其它的约束</span><br></pre></td></tr></table></figure>
<p>返回简单xml数据</p>
<p>例1：通过xml数据返回两个的数四则运算</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"input[type=button]"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取输入的两个数的值</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num1 = $(<span class="string">'#num1'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num2 = $(<span class="string">'#num2'</span>).val();</span></span><br><span class="line"><span class="javascript">                $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">                    type:<span class="string">'get'</span>,</span></span><br><span class="line"><span class="javascript">                    dataType:<span class="string">'xml'</span>,</span></span><br><span class="line"><span class="javascript">                    url:<span class="string">'demo4.php?num1='</span>+num1+<span class="string">'&amp;num2='</span>+num2,</span></span><br><span class="line"><span class="javascript">                    success:<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">//处理xml格式数据</span></span></span><br><span class="line"><span class="javascript">                            <span class="comment">//原生态的方式处理</span></span></span><br><span class="line"><span class="undefined">                            /*var he = msg.getElementsByTagName('he')[0].childNodes[0].nodeValue;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">var</span> cha = msg.getElementsByTagName(<span class="string">'cha'</span>)[<span class="number">0</span>].childNodes[<span class="number">0</span>].nodeValue;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">var</span> ji = msg.getElementsByTagName(<span class="string">'ji'</span>)[<span class="number">0</span>].childNodes[<span class="number">0</span>].nodeValue;</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">var</span> shang = msg.getElementsByTagName(<span class="string">'shang'</span>)[<span class="number">0</span>].childNodes[<span class="number">0</span>].nodeValue;*<span class="regexp">/</span></span></span><br><span class="line"><span class="javascript">                            <span class="keyword">var</span> he = $(msg).find(<span class="string">'he'</span>).text();</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">var</span> cha = $(msg).find(<span class="string">'cha'</span>).text();</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">var</span> ji = $(msg).find(<span class="string">'ji'</span>).text();</span></span><br><span class="line"><span class="javascript">                            <span class="keyword">var</span> shang = $(msg).find(<span class="string">'shang'</span>).text();</span></span><br><span class="line"><span class="javascript">                            $(<span class="string">"#res"</span>).html(he+<span class="string">'-'</span>+cha+<span class="string">'-'</span>+ji+<span class="string">'-'</span>+shang);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;);   </span></span><br><span class="line"><span class="undefined">        &#125;);    </span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        第一个数：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"num1"</span> <span class="attr">id</span>=<span class="string">"num1"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        第二个数：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"num2"</span> <span class="attr">id</span>=<span class="string">"num2"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"计算两个数结果"</span>/&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"res"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="demo4-php"><a href="#demo4-php" class="headerlink" title="demo4.php"></a>demo4.php</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$num1 = $_GET[<span class="string">'num1'</span>];</span><br><span class="line">$num2 = $_GET[<span class="string">'num2'</span>];</span><br><span class="line">$he = $num1+$num2;</span><br><span class="line">$cha = $num1-$num2;</span><br><span class="line">$ji = $num1*$num2;</span><br><span class="line">$shang = $num1/$num2;</span><br><span class="line"><span class="comment">//返回的数据是xml格式</span></span><br><span class="line">$str=<span class="string">&lt;&lt;&lt;XML</span></span><br><span class="line"><span class="string">&lt;root&gt;</span></span><br><span class="line"><span class="string">        &lt;he&gt;<span class="subst">$he</span>&lt;/he&gt;</span></span><br><span class="line"><span class="string">        &lt;cha&gt;<span class="subst">$cha</span>&lt;/cha&gt;</span></span><br><span class="line"><span class="string">        &lt;ji&gt;<span class="subst">$ji</span>&lt;/ji&gt;</span></span><br><span class="line"><span class="string">        &lt;shang&gt;<span class="subst">$shang</span>&lt;/shang&gt;</span></span><br><span class="line"><span class="string">&lt;/root&gt;</span></span><br><span class="line"><span class="string">XML;</span></span><br><span class="line">header(<span class="string">'content-type:text/xml;charset=utf-8'</span>);</span><br><span class="line"><span class="keyword">echo</span> $str;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="返回复杂的xml数据"><a href="#返回复杂的xml数据" class="headerlink" title="返回复杂的xml数据"></a>返回复杂的xml数据</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"input[type=button]"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">                    type:<span class="string">'get'</span>,</span></span><br><span class="line"><span class="javascript">                    dataType:<span class="string">'xml'</span>,</span></span><br><span class="line"><span class="javascript">                    url:<span class="string">'demo5.php'</span>,</span></span><br><span class="line"><span class="javascript">                    success:<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                          <span class="comment">//返回的是复杂的xml数据。</span></span></span><br><span class="line"><span class="javascript">                          <span class="keyword">var</span> str = <span class="string">''</span>;</span></span><br><span class="line"><span class="javascript">                           $(msg).find(<span class="string">'book'</span>).each(<span class="function"><span class="keyword">function</span>(<span class="params">i,item</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                                        str+=$(item).find(<span class="string">'name'</span>).text()+<span class="string">'---'</span>+$(item).find(<span class="string">'price'</span>).text()+<span class="string">'&lt;br/&gt;'</span>;</span></span><br><span class="line"><span class="undefined">                           &#125;);</span></span><br><span class="line"><span class="javascript">                           $(<span class="string">'#res'</span>).html(str);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;);   </span></span><br><span class="line"><span class="undefined">        &#125;);    </span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"获取数据"</span>/&gt;</span><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"res"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="demo5-php"><a href="#demo5-php" class="headerlink" title="demo5.php"></a>demo5.php</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">header(<span class="string">'content-type:text/xml;charset=utf-8'</span>);</span><br><span class="line">$str=<span class="string">&lt;&lt;&lt;XML</span></span><br><span class="line"><span class="string">&lt;root&gt;</span></span><br><span class="line"><span class="string">        &lt;book&gt;</span></span><br><span class="line"><span class="string">                &lt;name&gt;javascript从入门到放弃&lt;/name&gt;</span></span><br><span class="line"><span class="string">                &lt;price&gt;123.45&lt;/price&gt;</span></span><br><span class="line"><span class="string">        &lt;/book&gt;</span></span><br><span class="line"><span class="string">        &lt;book&gt;</span></span><br><span class="line"><span class="string">                &lt;name&gt;神奇的我&lt;/name&gt;</span></span><br><span class="line"><span class="string">                &lt;price&gt;63.45&lt;/price&gt;</span></span><br><span class="line"><span class="string">        &lt;/book&gt;</span></span><br><span class="line"><span class="string">        &lt;book&gt;</span></span><br><span class="line"><span class="string">                &lt;name&gt;芮栋传&lt;/name&gt;</span></span><br><span class="line"><span class="string">                &lt;price&gt;163.45&lt;/price&gt;</span></span><br><span class="line"><span class="string">        &lt;/book&gt;</span></span><br><span class="line"><span class="string">         &lt;book&gt;</span></span><br><span class="line"><span class="string">                &lt;name&gt;python从入门到放弃&lt;/name&gt;</span></span><br><span class="line"><span class="string">                &lt;price&gt;56.45&lt;/price&gt;</span></span><br><span class="line"><span class="string">        &lt;/book&gt;</span></span><br><span class="line"><span class="string">&lt;/root&gt;</span></span><br><span class="line"><span class="string">XML;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> $str;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="（2）Ajax中Json处理大批量数据"><a href="#（2）Ajax中Json处理大批量数据" class="headerlink" title="（2）Ajax中Json处理大批量数据"></a>（2）<strong><strong>Ajax</strong></strong>中<strong><strong>Json</strong></strong>处理大批量数据</h3><p><strong>返回简单的json 格式数据</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"input[type=button]"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//获取输入的两个数的值</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num1 = $(<span class="string">'#num1'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> num2 = $(<span class="string">'#num2'</span>).val();</span></span><br><span class="line"><span class="javascript">                $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">                    type:<span class="string">'get'</span>,</span></span><br><span class="line"><span class="javascript">                    dataType:<span class="string">'json'</span>,</span></span><br><span class="line"><span class="undefined">                    data:&#123;num1:num1,num2:num2&#125;,</span></span><br><span class="line"><span class="javascript">                    url:<span class="string">'demo6.php'</span>,</span></span><br><span class="line"><span class="javascript">                    success:<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                           $(<span class="string">'#res'</span>).html(msg.he+<span class="string">'--'</span>+msg.cha+<span class="string">'--'</span>+msg.ji+<span class="string">'--'</span>+msg.shang);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;);    </span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        第一个数：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"num1"</span> <span class="attr">id</span>=<span class="string">"num1"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        第二个数：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"num2"</span> <span class="attr">id</span>=<span class="string">"num2"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"计算两个数结果"</span>/&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"res"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="demo6-php"><a href="#demo6-php" class="headerlink" title="demo6.php"></a>demo6.php</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$num1 = $_GET[<span class="string">'num1'</span>];</span><br><span class="line">$num2 = $_GET[<span class="string">'num2'</span>];</span><br><span class="line">$he = $num1+$num2;</span><br><span class="line">$cha = $num1-$num2;</span><br><span class="line">$ji = $num1*$num2;</span><br><span class="line">$shang = $num1/$num2;</span><br><span class="line"><span class="comment">//返回的数据是json格式</span></span><br><span class="line">$arr=<span class="keyword">array</span>(<span class="string">'he'</span>=&gt;$he,<span class="string">'cha'</span>=&gt;$cha,<span class="string">'ji'</span>=&gt;$ji,<span class="string">'shang'</span>=&gt;$shang);</span><br><span class="line"><span class="keyword">echo</span> json_encode($arr);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="返回复杂的json-格式数据"><a href="#返回复杂的json-格式数据" class="headerlink" title="返回复杂的json 格式数据"></a>返回复杂的json 格式数据</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"input[type=button]"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">                    type:<span class="string">'get'</span>,</span></span><br><span class="line"><span class="javascript">                    dataType:<span class="string">'json'</span>,</span></span><br><span class="line"><span class="javascript">                    url:<span class="string">'demo7.php'</span>,</span></span><br><span class="line"><span class="javascript">                    success:<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="comment">//处理大批量的json格式数据</span></span></span><br><span class="line"><span class="javascript">                            <span class="keyword">var</span> str = <span class="string">''</span>;</span></span><br><span class="line"><span class="javascript">                            $(msg).each(<span class="function"><span class="keyword">function</span>(<span class="params">i,item</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                                    str+=item.name+<span class="string">'--'</span>+item.age+<span class="string">'---'</span>+item.address+<span class="string">'&lt;br/&gt;'</span>;</span></span><br><span class="line"><span class="undefined">                            &#125;);</span></span><br><span class="line"><span class="javascript">                            $(<span class="string">'#res'</span>).html(str);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;);    </span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"获取数据"</span>/&gt;</span><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"res"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="demo7-php"><a href="#demo7-php" class="headerlink" title="demo7.php"></a>demo7.php</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$arr = [</span><br><span class="line">	[<span class="string">'name'</span>=&gt;<span class="string">'芮栋'</span>,<span class="string">'age'</span>=&gt;<span class="number">18</span>,<span class="string">'address'</span>=&gt;<span class="string">'中国'</span>],</span><br><span class="line">	[<span class="string">'name'</span>=&gt;<span class="string">'特朗普'</span>,<span class="string">'age'</span>=&gt;<span class="number">78</span>,<span class="string">'address'</span>=&gt;<span class="string">'星条国'</span>],</span><br><span class="line">	[<span class="string">'name'</span>=&gt;<span class="string">'普京'</span>,<span class="string">'age'</span>=&gt;<span class="number">68</span>,<span class="string">'address'</span>=&gt;<span class="string">'俄国'</span>],</span><br><span class="line">	[<span class="string">'name'</span>=&gt;<span class="string">'安倍'</span>,<span class="string">'age'</span>=&gt;<span class="number">58</span>,<span class="string">'address'</span>=&gt;<span class="string">'倭国'</span>]</span><br><span class="line">];</span><br><span class="line"><span class="keyword">echo</span> json_encode($arr);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="6、Ajax的高级实现"><a href="#6、Ajax的高级实现" class="headerlink" title="6、Ajax的高级实现"></a>6、Ajax的高级实现</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$.get(url,[data],[callback],[dataType])：Ajax中的get请求</span><br><span class="line">$.post(url,[data],[callback],[dataType]])：Ajax中的post请求</span><br><span class="line">参数说明：</span><br><span class="line">url：请求的url地址</span><br><span class="line">[data]：要求格式是一个json对象，也可以是字符串，但是建议使用json对象</span><br><span class="line">[callback]：当Ajax状态码为4且响应状态码为200时所触发的回调函数</span><br><span class="line">[dataType]：期待的返回值类型，text,xml,json</span><br></pre></td></tr></table></figure>
<h5 id="（1）-get请求实现"><a href="#（1）-get请求实现" class="headerlink" title="（1）$.get请求实现"></a>（1）$.get请求实现</h5><p>$.get(url,[data],[callback],[dataType])：Ajax中的get请求</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"input[type=button]"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> name = $(<span class="string">'input[name=name]'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> pwd = $(<span class="string">'input[name=pwd]'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> data = &#123;<span class="attr">username</span>:name,<span class="attr">password</span>:pwd&#125;;</span></span><br><span class="line"><span class="javascript">                $.get(<span class="string">'demo8.php'</span>,data,<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">console</span>.log(msg);</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;);    </span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        姓名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"name"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"pwd"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"提交"</span>/&gt;</span><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="demo8-php"><a href="#demo8-php" class="headerlink" title="demo8.php"></a>demo8.php</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">print_r($_GET);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="（2）post请求"><a href="#（2）post请求" class="headerlink" title="（2）post请求"></a>（2）post请求</h5><p>$.post(url,[data],[callback],[dataType]])：Ajax中的post请求</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"input[type=button]"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> name = $(<span class="string">'input[name=name]'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> pwd = $(<span class="string">'input[name=pwd]'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> data = &#123;<span class="attr">username</span>:name,<span class="attr">password</span>:pwd&#125;;</span></span><br><span class="line"><span class="javascript">                $.post(<span class="string">'demo9.php'</span>,data,<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">console</span>.log(msg);</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;);    </span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        姓名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"name"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        密码：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"pwd"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"提交"</span>/&gt;</span><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="demo9-php"><a href="#demo9-php" class="headerlink" title="demo9.php"></a>demo9.php</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">print_r($_POST);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="三、Ajax中的跨域请求"><a href="#三、Ajax中的跨域请求" class="headerlink" title="三、Ajax中的跨域请求"></a>三、Ajax中的跨域请求</h1><h2 id="1、提出问题"><a href="#1、提出问题" class="headerlink" title="1、提出问题"></a>1、提出问题</h2><h5 id="Ajax跨域请求"><a href="#Ajax跨域请求" class="headerlink" title="Ajax跨域请求:"></a>Ajax跨域请求:</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"input[type=button]"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> name = $(<span class="string">'input[name=name]'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> age = $(<span class="string">'input[name=age]'</span>).val();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> data = &#123;<span class="attr">name</span>:name,<span class="attr">age</span>:age&#125;;</span></span><br><span class="line"><span class="javascript">                $.post(<span class="string">'http://www.hal.com/demo9.php'</span>,data,<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">console</span>.log(msg);</span></span><br><span class="line"><span class="undefined">                &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;);    </span></span><br><span class="line"><span class="undefined">&#125;);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        姓名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"name"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        年龄：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"age"</span>/&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"提交"</span>/&gt;</span><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2new_file.html?__hbt=1522250043273:1 Failed to load http://www.hal.com/demo8.php: No &apos;Access-Control-Allow-Origin&apos; header is present on the requested resource. Origin &apos;http://127.0.0.1:8020&apos; is therefore not allowed access.</span><br><span class="line"></span><br><span class="line">//跨域请求被阻止</span><br></pre></td></tr></table></figure>
<h2 id="2、跨域请求详解"><a href="#2、跨域请求详解" class="headerlink" title="2、跨域请求详解"></a>2、跨域请求详解</h2><p>为什么Ajax不允许跨域请求：受到浏览器中的<strong>同源策略</strong>影响，基于<strong>安全考虑</strong>，不允许跨域</p>
<p>Ajax技术由于受到浏览器的限制，该方法不允许跨域通信。</p>
<p>同源策略阻止从一个域上加载的脚本获取或操作另一个域上的文档属性。也就是说，受到请求的URL 的域必须与当前Web 页面的域相同。这意味着浏览器隔离来自不同源的内容，以防止它们之间的操作。 </p>
<p>面试题：为什么Ajax不允许跨域请求</p>
<p>答：受到浏览器中的同源策略影响，基于安全考虑，不允许跨域</p>
<h2 id="3、通过Jsonp解决跨域请求"><a href="#3、通过Jsonp解决跨域请求" class="headerlink" title="3、通过Jsonp解决跨域请求"></a>3、通过Jsonp解决跨域请求</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">（1）json与jsonp技术区别？</span><br><span class="line">json：一组无序数据的集合，主要实现数据的传输与存储，是一种通用的数据传输格式。</span><br><span class="line">jsonp是一种非官方协议，主要用于解决Ajax跨域请求问题。</span><br><span class="line"></span><br><span class="line">（2）什么是jsonp </span><br><span class="line">JSONP是一个非官方的协议，它允许在服务器端集成script tags返回至客户端，通过javascript callback的形式实现跨域访问。</span><br></pre></td></tr></table></figure>
<h2 id="7、jQuery中解决跨域问题的三种方法"><a href="#7、jQuery中解决跨域问题的三种方法" class="headerlink" title="7、jQuery中解决跨域问题的三种方法"></a>7、jQuery中解决跨域问题的三种方法</h2><blockquote>
<p>$.ajax</p>
</blockquote>
<blockquote>
<p>$.get</p>
</blockquote>
<blockquote>
<p>$.getJSON</p>
</blockquote>
<h5 id="注：以上方法都是使用get请求解决跨域问题"><a href="#注：以上方法都是使用get请求解决跨域问题" class="headerlink" title="注：以上方法都是使用get请求解决跨域问题"></a>注：以上方法都是使用get请求解决跨域问题</h5><h3 id="（1）通过-ajax解决跨域问题"><a href="#（1）通过-ajax解决跨域问题" class="headerlink" title="（1）通过$.ajax解决跨域问题"></a>（1）通过$.ajax解决跨域问题</h3><p>主要是添加两个选项：</p>
<p>一个是：dataType:jsonp’(指定数据传输的类型)   和   jsonp:’fn’（指定回调函数的参数，与后端文件里面介绍函数的参数的名称一致即可）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">'#btn'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                    $.ajax(&#123;</span></span><br><span class="line"><span class="javascript">                            type:<span class="string">'get'</span>,</span></span><br><span class="line"><span class="javascript">                            dataType:<span class="string">'jsonp'</span>,</span></span><br><span class="line"><span class="javascript">                            jsonp:<span class="string">'fn'</span>,</span></span><br><span class="line"><span class="javascript">                            url:<span class="string">'http://www.hal.com/demo11.php'</span>,</span></span><br><span class="line"><span class="javascript">                            success:<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                                        <span class="keyword">var</span> str = <span class="string">''</span>;</span></span><br><span class="line"><span class="javascript">                                        $(msg).each(<span class="function"><span class="keyword">function</span>(<span class="params">i,item</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                                                str+=item.name+<span class="string">'--'</span>+item.age+<span class="string">'--'</span>+item.aihao+<span class="string">'&lt;br/&gt;'</span>;</span></span><br><span class="line"><span class="undefined">                                        &#125;);</span></span><br><span class="line"><span class="javascript">                                        $(<span class="string">'#res'</span>).html(str);</span></span><br><span class="line"><span class="undefined">                            &#125;</span></span><br><span class="line"><span class="undefined">                    &#125;);</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="undefined">&#125;)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"获取数据"</span> <span class="attr">id</span>=<span class="string">"btn"</span>/&gt;</span><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"res"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h5 id="demo11-php"><a href="#demo11-php" class="headerlink" title="demo11.php"></a>demo11.php</h5><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$fn = $_GET[<span class="string">'fn'</span>];<span class="comment">//callback</span></span><br><span class="line">$arr = [</span><br><span class="line">	[<span class="string">'name'</span>=&gt;<span class="string">'芮栋'</span>,<span class="string">'age'</span>=&gt;<span class="number">18</span>,<span class="string">'address'</span>=&gt;<span class="string">'中国'</span>],</span><br><span class="line">	[<span class="string">'name'</span>=&gt;<span class="string">'特朗普'</span>,<span class="string">'age'</span>=&gt;<span class="number">78</span>,<span class="string">'address'</span>=&gt;<span class="string">'星条国'</span>],</span><br><span class="line">	[<span class="string">'name'</span>=&gt;<span class="string">'普京'</span>,<span class="string">'age'</span>=&gt;<span class="number">68</span>,<span class="string">'address'</span>=&gt;<span class="string">'俄国'</span>],</span><br><span class="line">	[<span class="string">'name'</span>=&gt;<span class="string">'安倍'</span>,<span class="string">'age'</span>=&gt;<span class="number">58</span>,<span class="string">'address'</span>=&gt;<span class="string">'倭国'</span>]</span><br><span class="line">];</span><br><span class="line">$json = json_encode($arr);</span><br><span class="line"><span class="keyword">echo</span> $fn.<span class="string">"($json)"</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="（2）通过-get方法实现跨域问题"><a href="#（2）通过-get方法实现跨域问题" class="headerlink" title="（2）通过$.get方法实现跨域问题"></a>（2）通过$.get方法实现跨域问题</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">     $(<span class="string">'#btn'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $.get(<span class="string">'http://www.hal.com/demo11.php?fn=?'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">             <span class="keyword">var</span> str = <span class="string">''</span>;</span></span><br><span class="line"><span class="javascript">             $(msg).each(<span class="function"><span class="keyword">function</span>(<span class="params">i,item</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                  str+=item.name+<span class="string">'--'</span>+item.age+<span class="string">'--'</span>+item.aihao+<span class="string">'&lt;br/&gt;'</span>;</span></span><br><span class="line"><span class="undefined">             &#125;);</span></span><br><span class="line"><span class="javascript">             $(<span class="string">'#res'</span>).html(str);</span></span><br><span class="line"><span class="javascript">        &#125;,<span class="string">'jsonp'</span>);</span></span><br><span class="line"><span class="undefined">     &#125;);</span></span><br><span class="line"><span class="undefined">&#125;)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"获取数据"</span> <span class="attr">id</span>=<span class="string">"btn"</span>/&gt;</span><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"res"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="（3）通过-getJSON方法解决跨域问题"><a href="#（3）通过-getJSON方法解决跨域问题" class="headerlink" title="（3）通过$.getJSON方法解决跨域问题"></a>（3）通过$.getJSON方法解决跨域问题</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">'#btn'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            $.getJSON(<span class="string">'http://www.hal.com/demo11.php?fn=?'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                 <span class="keyword">var</span> str = <span class="string">''</span>;</span></span><br><span class="line"><span class="javascript">                 $(msg).each(<span class="function"><span class="keyword">function</span>(<span class="params">i,item</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">                      str+=item.name+<span class="string">'--'</span>+item.age+<span class="string">'--'</span>+item.aihao+<span class="string">'&lt;br/&gt;'</span>;</span></span><br><span class="line"><span class="undefined">                 &#125;);</span></span><br><span class="line"><span class="javascript">                 $(<span class="string">'#res'</span>).html(str);</span></span><br><span class="line"><span class="undefined">            &#125;)</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="undefined">&#125;)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"获取数据"</span> <span class="attr">id</span>=<span class="string">"btn"</span>/&gt;</span><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"res"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="4-最通用也是最好的方法"><a href="#4-最通用也是最好的方法" class="headerlink" title="(4)最通用也是最好的方法"></a>(4)最通用也是最好的方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nginx允许跨域</span><br><span class="line">apache允许跨域</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://jyue0812.github.io/2018/05/21/jquery_3/" data-id="cjhzxrqtt0001ooqxisxow09w" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/blog/2018/06/04/2018-06-04/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/blog/2018/05/21/pymysql/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/blog/archives/2018/04/">April 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/blog/2018/06/19/2018-06-19/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/06/05/flask配置套路/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/06/04/2018-06-04/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/05/21/jquery_3/">(no title)</a>
          </li>
        
          <li>
            <a href="/blog/2018/05/21/pymysql/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 ZY<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/blog/" class="mobile-nav-link">Home</a>
  
    <a href="/blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/blog/fancybox/jquery.fancybox.css">
  <script src="/blog/fancybox/jquery.fancybox.pack.js"></script>


<script src="/blog/js/script.js"></script>



  </div>
</body>
</html>